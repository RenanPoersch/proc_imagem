var sb=Object.create;var kd=Object.defineProperty,ab=Object.defineProperties,lb=Object.getOwnPropertyDescriptor,cb=Object.getOwnPropertyDescriptors,ub=Object.getOwnPropertyNames,Cm=Object.getOwnPropertySymbols,db=Object.getPrototypeOf,Im=Object.prototype.hasOwnProperty,fb=Object.prototype.propertyIsEnumerable;var Em=(e,t,n)=>t in e?kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||={})Im.call(t,n)&&Em(e,n,t[n]);if(Cm)for(var n of Cm(t))fb.call(t,n)&&Em(e,n,t[n]);return e},ae=(e,t)=>ab(e,cb(t));var Ds=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var it=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hb=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ub(t))!Im.call(e,i)&&i!==n&&kd(e,i,{get:()=>t[i],enumerable:!(r=lb(t,i))||r.enumerable});return e};var pb=(e,t,n)=>(n=e!=null?sb(db(e)):{},hb(t||!e||!e.__esModule?kd(n,"default",{value:e,enumerable:!0}):n,e));var L=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var cr=it(yt=>{"use strict";var WT=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function qT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}yt.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var r in n)qT(n,r)&&(e[r]=n[r])}}return e};yt.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var ZT={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray){e.set(t.subarray(n,n+r),i);return}for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},YT={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};yt.setTyped=function(e){e?(yt.Buf8=Uint8Array,yt.Buf16=Uint16Array,yt.Buf32=Int32Array,yt.assign(yt,ZT)):(yt.Buf8=Array,yt.Buf16=Array,yt.Buf32=Array,yt.assign(yt,YT))};yt.setTyped(WT)});var K1=it(es=>{"use strict";var KT=cr(),QT=4,x1=0,T1=1,JT=2;function Xo(e){for(var t=e.length;--t>=0;)e[t]=0}var XT=0,P1=1,eA=2,tA=3,nA=258,vg=29,Ba=256,Fa=Ba+1+vg,Jo=30,yg=19,F1=2*Fa+1,Pi=15,dg=16,rA=7,_g=256,L1=16,V1=17,j1=18,gg=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Pu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],iA=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oA=512,ur=new Array((Fa+2)*2);Xo(ur);var Pa=new Array(Jo*2);Xo(Pa);var La=new Array(oA);Xo(La);var Va=new Array(nA-tA+1);Xo(Va);var Dg=new Array(vg);Xo(Dg);var Fu=new Array(Jo);Xo(Fu);function fg(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var U1,H1,$1;function hg(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z1(e){return e<256?La[e]:La[256+(e>>>7)]}function ja(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function It(e,t,n){e.bi_valid>dg-n?(e.bi_buf|=t<<e.bi_valid&65535,ja(e,e.bi_buf),e.bi_buf=t>>dg-e.bi_valid,e.bi_valid+=n-dg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function kn(e,t,n){It(e,n[t*2],n[t*2+1])}function G1(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function sA(e){e.bi_valid===16?(ja(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function aA(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,f,p,v=0;for(h=0;h<=Pi;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<F1;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,v++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=s[u-a]),p=n[u*2],e.opt_len+=p*(h+f),o&&(e.static_len+=p*(i[u*2+1]+f)));if(v!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,v-=2}while(v>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}}function W1(e,t,n){var r=new Array(Pi+1),i=0,o,s;for(o=1;o<=Pi;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=G1(r[a]++,a))}}function lA(){var e,t,n,r,i,o=new Array(Pi+1);for(n=0,r=0;r<vg-1;r++)for(Dg[r]=n,e=0;e<1<<gg[r];e++)Va[n++]=r;for(Va[n-1]=r,i=0,r=0;r<16;r++)for(Fu[r]=i,e=0;e<1<<Pu[r];e++)La[i++]=r;for(i>>=7;r<Jo;r++)for(Fu[r]=i<<7,e=0;e<1<<Pu[r]-7;e++)La[256+i++]=r;for(t=0;t<=Pi;t++)o[t]=0;for(e=0;e<=143;)ur[e*2+1]=8,e++,o[8]++;for(;e<=255;)ur[e*2+1]=9,e++,o[9]++;for(;e<=279;)ur[e*2+1]=7,e++,o[7]++;for(;e<=287;)ur[e*2+1]=8,e++,o[8]++;for(W1(ur,Fa+1,o),e=0;e<Jo;e++)Pa[e*2+1]=5,Pa[e*2]=G1(e,5);U1=new fg(ur,gg,Ba+1,Fa,Pi),H1=new fg(Pa,Pu,0,Jo,Pi),$1=new fg(new Array(0),iA,0,yg,rA)}function q1(e){var t;for(t=0;t<Fa;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Jo;t++)e.dyn_dtree[t*2]=0;for(t=0;t<yg;t++)e.bl_tree[t*2]=0;e.dyn_ltree[_g*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Z1(e){e.bi_valid>8?ja(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function cA(e,t,n,r){Z1(e),r&&(ja(e,n),ja(e,~n)),KT.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function A1(e,t,n,r){var i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function pg(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A1(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A1(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function R1(e,t,n){var r,i,o=0,s,a;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,r===0?kn(e,i,t):(s=Va[i],kn(e,s+Ba+1,t),a=gg[s],a!==0&&(i-=Dg[s],It(e,i,a)),r--,s=z1(r),kn(e,s,n),a=Pu[s],a!==0&&(r-=Fu[s],It(e,r,a)));while(o<e.last_lit);kn(e,_g,t)}function mg(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(e.heap_len=0,e.heap_max=F1,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)pg(e,n,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pg(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[c*2]=n[s*2]+n[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=c,e.heap[1]=c++,pg(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],aA(e,t),W1(n,l,e.bl_count)}function N1(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[L1*2]++):a<=10?e.bl_tree[V1*2]++:e.bl_tree[j1*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function k1(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do kn(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(kn(e,o,e.bl_tree),a--),kn(e,L1,e.bl_tree),It(e,a-3,2)):a<=10?(kn(e,V1,e.bl_tree),It(e,a-3,3)):(kn(e,j1,e.bl_tree),It(e,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function uA(e){var t;for(N1(e,e.dyn_ltree,e.l_desc.max_code),N1(e,e.dyn_dtree,e.d_desc.max_code),mg(e,e.bl_desc),t=yg-1;t>=3&&e.bl_tree[B1[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function dA(e,t,n,r){var i;for(It(e,t-257,5),It(e,n-1,5),It(e,r-4,4),i=0;i<r;i++)It(e,e.bl_tree[B1[i]*2+1],3);k1(e,e.dyn_ltree,t-1),k1(e,e.dyn_dtree,n-1)}function fA(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return x1;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return T1;for(n=32;n<Ba;n++)if(e.dyn_ltree[n*2]!==0)return T1;return x1}var O1=!1;function hA(e){O1||(lA(),O1=!0),e.l_desc=new hg(e.dyn_ltree,U1),e.d_desc=new hg(e.dyn_dtree,H1),e.bl_desc=new hg(e.bl_tree,$1),e.bi_buf=0,e.bi_valid=0,q1(e)}function Y1(e,t,n,r){It(e,(XT<<1)+(r?1:0),3),cA(e,t,n,!0)}function pA(e){It(e,P1<<1,3),kn(e,_g,ur),sA(e)}function gA(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===JT&&(e.strm.data_type=fA(e)),mg(e,e.l_desc),mg(e,e.d_desc),s=uA(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?Y1(e,t,n,r):e.strategy===QT||o===i?(It(e,(P1<<1)+(r?1:0),3),R1(e,ur,Pa)):(It(e,(eA<<1)+(r?1:0),3),dA(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),R1(e,e.dyn_ltree,e.dyn_dtree)),q1(e),r&&Z1(e)}function mA(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Va[n]+Ba+1)*2]++,e.dyn_dtree[z1(t)*2]++),e.last_lit===e.lit_bufsize-1}es._tr_init=hA;es._tr_stored_block=Y1;es._tr_flush_block=gA;es._tr_tally=mA;es._tr_align=pA});var wg=it((P7,Q1)=>{"use strict";function vA(e,t,n,r){for(var i=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}Q1.exports=vA});var bg=it((F7,J1)=>{"use strict";function yA(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var _A=yA();function DA(e,t,n,r){var i=_A,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}J1.exports=DA});var Lu=it((L7,X1)=>{"use strict";X1.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var lD=it(Fn=>{"use strict";var _t=cr(),Kt=K1(),rD=wg(),Br=bg(),wA=Lu(),ji=0,bA=1,CA=3,Gr=4,eD=5,Pn=0,tD=1,Qt=-2,EA=-3,Cg=-5,IA=-1,SA=1,Vu=2,MA=3,xA=4,TA=0,AA=2,Hu=8,RA=9,NA=15,kA=8,OA=29,PA=256,Ig=PA+1+OA,FA=30,LA=19,VA=2*Ig+1,jA=15,fe=3,$r=258,pn=$r+fe+1,BA=32,$u=42,Sg=69,ju=73,Bu=91,Uu=103,Fi=113,Ha=666,qe=1,$a=2,Li=3,rs=4,UA=3;function zr(e,t){return e.msg=wA[t],t}function nD(e){return(e<<1)-(e>4?9:0)}function Hr(e){for(var t=e.length;--t>=0;)e[t]=0}function Ur(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(_t.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function ct(e,t){Kt._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ur(e.strm)}function me(e,t){e.pending_buf[e.pending++]=t}function Ua(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function HA(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,_t.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=rD(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Br(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function iD(e,t){var n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-pn?e.strstart-(e.w_size-pn):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+$r,f=c[r+s-1],p=c[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+s]!==p||c[i+s-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(o=$r-(h-r),r=h-$r,o>s){if(e.match_start=t,s=o,o>=a)break;f=c[r+s-1],p=c[r+s]}}while((t=d[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function Vi(e){var t=e.w_size,n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-pn)){_t.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);o+=t}if(e.strm.avail_in===0)break;if(r=HA(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=fe)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+fe-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<fe)););}while(e.lookahead<pn&&e.strm.avail_in!==0)}function $A(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Vi(e),e.lookahead===0&&t===ji)return qe;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ct(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-pn&&(ct(e,!1),e.strm.avail_out===0))return qe}return e.insert=0,t===Gr?(ct(e,!0),e.strm.avail_out===0?Li:rs):(e.strstart>e.block_start&&(ct(e,!1),e.strm.avail_out===0),qe)}function Eg(e,t){for(var n,r;;){if(e.lookahead<pn){if(Vi(e),e.lookahead<pn&&t===ji)return qe;if(e.lookahead===0)break}if(n=0,e.lookahead>=fe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-pn&&(e.match_length=iD(e,n)),e.match_length>=fe)if(r=Kt._tr_tally(e,e.strstart-e.match_start,e.match_length-fe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=fe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Kt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ct(e,!1),e.strm.avail_out===0))return qe}return e.insert=e.strstart<fe-1?e.strstart:fe-1,t===Gr?(ct(e,!0),e.strm.avail_out===0?Li:rs):e.last_lit&&(ct(e,!1),e.strm.avail_out===0)?qe:$a}function ts(e,t){for(var n,r,i;;){if(e.lookahead<pn){if(Vi(e),e.lookahead<pn&&t===ji)return qe;if(e.lookahead===0)break}if(n=0,e.lookahead>=fe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=fe-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-pn&&(e.match_length=iD(e,n),e.match_length<=5&&(e.strategy===SA||e.match_length===fe&&e.strstart-e.match_start>4096)&&(e.match_length=fe-1)),e.prev_length>=fe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-fe,r=Kt._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-fe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fe-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=fe-1,e.strstart++,r&&(ct(e,!1),e.strm.avail_out===0))return qe}else if(e.match_available){if(r=Kt._tr_tally(e,0,e.window[e.strstart-1]),r&&ct(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return qe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Kt._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<fe-1?e.strstart:fe-1,t===Gr?(ct(e,!0),e.strm.avail_out===0?Li:rs):e.last_lit&&(ct(e,!1),e.strm.avail_out===0)?qe:$a}function zA(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=$r){if(Vi(e),e.lookahead<=$r&&t===ji)return qe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=fe&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+$r;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=$r-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=fe?(n=Kt._tr_tally(e,1,e.match_length-fe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Kt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ct(e,!1),e.strm.avail_out===0))return qe}return e.insert=0,t===Gr?(ct(e,!0),e.strm.avail_out===0?Li:rs):e.last_lit&&(ct(e,!1),e.strm.avail_out===0)?qe:$a}function GA(e,t){for(var n;;){if(e.lookahead===0&&(Vi(e),e.lookahead===0)){if(t===ji)return qe;break}if(e.match_length=0,n=Kt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ct(e,!1),e.strm.avail_out===0))return qe}return e.insert=0,t===Gr?(ct(e,!0),e.strm.avail_out===0?Li:rs):e.last_lit&&(ct(e,!1),e.strm.avail_out===0)?qe:$a}function On(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var ns;ns=[new On(0,0,0,0,$A),new On(4,4,8,4,Eg),new On(4,5,16,8,Eg),new On(4,6,32,32,Eg),new On(4,4,16,16,ts),new On(8,16,32,32,ts),new On(8,16,128,128,ts),new On(8,32,128,256,ts),new On(32,128,258,1024,ts),new On(32,258,258,4096,ts)];function WA(e){e.window_size=2*e.w_size,Hr(e.head),e.max_lazy_match=ns[e.level].max_lazy,e.good_match=ns[e.level].good_length,e.nice_match=ns[e.level].nice_length,e.max_chain_length=ns[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=fe-1,e.match_available=0,e.ins_h=0}function qA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Hu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _t.Buf16(VA*2),this.dyn_dtree=new _t.Buf16((2*FA+1)*2),this.bl_tree=new _t.Buf16((2*LA+1)*2),Hr(this.dyn_ltree),Hr(this.dyn_dtree),Hr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _t.Buf16(jA+1),this.heap=new _t.Buf16(2*Ig+1),Hr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _t.Buf16(2*Ig+1),Hr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oD(e){var t;return!e||!e.state?zr(e,Qt):(e.total_in=e.total_out=0,e.data_type=AA,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?$u:Fi,e.adler=t.wrap===2?0:1,t.last_flush=ji,Kt._tr_init(t),Pn)}function sD(e){var t=oD(e);return t===Pn&&WA(e.state),t}function ZA(e,t){return!e||!e.state||e.state.wrap!==2?Qt:(e.state.gzhead=t,Pn)}function aD(e,t,n,r,i,o){if(!e)return Qt;var s=1;if(t===IA&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>RA||n!==Hu||r<8||r>15||t<0||t>9||o<0||o>xA)return zr(e,Qt);r===8&&(r=9);var a=new qA;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+fe-1)/fe),a.window=new _t.Buf8(a.w_size*2),a.head=new _t.Buf16(a.hash_size),a.prev=new _t.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new _t.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,sD(e)}function YA(e,t){return aD(e,t,Hu,NA,kA,TA)}function KA(e,t){var n,r,i,o;if(!e||!e.state||t>eD||t<0)return e?zr(e,Qt):Qt;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Ha&&t!==Gr)return zr(e,e.avail_out===0?Cg:Qt);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===$u)if(r.wrap===2)e.adler=0,me(r,31),me(r,139),me(r,8),r.gzhead?(me(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),me(r,r.gzhead.time&255),me(r,r.gzhead.time>>8&255),me(r,r.gzhead.time>>16&255),me(r,r.gzhead.time>>24&255),me(r,r.level===9?2:r.strategy>=Vu||r.level<2?4:0),me(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(me(r,r.gzhead.extra.length&255),me(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Br(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Sg):(me(r,0),me(r,0),me(r,0),me(r,0),me(r,0),me(r,r.level===9?2:r.strategy>=Vu||r.level<2?4:0),me(r,UA),r.status=Fi);else{var s=Hu+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=Vu||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=BA),s+=31-s%31,r.status=Fi,Ua(r,s),r.strstart!==0&&(Ua(r,e.adler>>>16),Ua(r,e.adler&65535)),e.adler=1}if(r.status===Sg)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Br(e.adler,r.pending_buf,r.pending-i,i)),Ur(e),i=r.pending,r.pending===r.pending_buf_size));)me(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=Br(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=ju)}else r.status=ju;if(r.status===ju)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Br(e.adler,r.pending_buf,r.pending-i,i)),Ur(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,me(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Br(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=Bu)}else r.status=Bu;if(r.status===Bu)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Br(e.adler,r.pending_buf,r.pending-i,i)),Ur(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,me(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Br(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=Uu)}else r.status=Uu;if(r.status===Uu&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ur(e),r.pending+2<=r.pending_buf_size&&(me(r,e.adler&255),me(r,e.adler>>8&255),e.adler=0,r.status=Fi)):r.status=Fi),r.pending!==0){if(Ur(e),e.avail_out===0)return r.last_flush=-1,Pn}else if(e.avail_in===0&&nD(t)<=nD(n)&&t!==Gr)return zr(e,Cg);if(r.status===Ha&&e.avail_in!==0)return zr(e,Cg);if(e.avail_in!==0||r.lookahead!==0||t!==ji&&r.status!==Ha){var l=r.strategy===Vu?GA(r,t):r.strategy===MA?zA(r,t):ns[r.level].func(r,t);if((l===Li||l===rs)&&(r.status=Ha),l===qe||l===Li)return e.avail_out===0&&(r.last_flush=-1),Pn;if(l===$a&&(t===bA?Kt._tr_align(r):t!==eD&&(Kt._tr_stored_block(r,0,0,!1),t===CA&&(Hr(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ur(e),e.avail_out===0))return r.last_flush=-1,Pn}return t!==Gr?Pn:r.wrap<=0?tD:(r.wrap===2?(me(r,e.adler&255),me(r,e.adler>>8&255),me(r,e.adler>>16&255),me(r,e.adler>>24&255),me(r,e.total_in&255),me(r,e.total_in>>8&255),me(r,e.total_in>>16&255),me(r,e.total_in>>24&255)):(Ua(r,e.adler>>>16),Ua(r,e.adler&65535)),Ur(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Pn:tD)}function QA(e){var t;return!e||!e.state?Qt:(t=e.state.status,t!==$u&&t!==Sg&&t!==ju&&t!==Bu&&t!==Uu&&t!==Fi&&t!==Ha?zr(e,Qt):(e.state=null,t===Fi?zr(e,EA):Pn))}function JA(e,t){var n=t.length,r,i,o,s,a,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==$u||r.lookahead))return Qt;for(s===1&&(e.adler=rD(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Hr(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new _t.Buf8(r.w_size),_t.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,Vi(r);r.lookahead>=fe;){i=r.strstart,o=r.lookahead-(fe-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+fe-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=fe-1,Vi(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=fe-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,r.wrap=s,Pn}Fn.deflateInit=YA;Fn.deflateInit2=aD;Fn.deflateReset=sD;Fn.deflateResetKeep=oD;Fn.deflateSetHeader=ZA;Fn.deflate=KA;Fn.deflateEnd=QA;Fn.deflateSetDictionary=JA;Fn.deflateInfo="pako deflate (from Nodeca project)"});var Mg=it(is=>{"use strict";var zu=cr(),cD=!0,uD=!0;try{String.fromCharCode.apply(null,[0])}catch{cD=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{uD=!1}var za=new zu.Buf8(256);for(dr=0;dr<256;dr++)za[dr]=dr>=252?6:dr>=248?5:dr>=240?4:dr>=224?3:dr>=192?2:1;var dr;za[254]=za[254]=1;is.string2buf=function(e){var t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new zu.Buf8(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};function dD(e,t){if(t<65534&&(e.subarray&&uD||!e.subarray&&cD))return String.fromCharCode.apply(null,zu.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}is.buf2binstring=function(e){return dD(e,e.length)};is.binstring2buf=function(e){for(var t=new zu.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};is.buf2string=function(e,t){var n,r,i,o,s=t||e.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){a[r++]=i;continue}if(o=za[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|e[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return dD(a,r)};is.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+za[e[n]]>t?n:t}});var xg=it((B7,fD)=>{"use strict";function XA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}fD.exports=XA});var mD=it(qa=>{"use strict";var Ga=lD(),Wa=cr(),Ag=Mg(),Rg=Lu(),eR=xg(),gD=Object.prototype.toString,tR=0,Tg=4,os=0,hD=1,pD=2,nR=-1,rR=0,iR=8;function Bi(e){if(!(this instanceof Bi))return new Bi(e);this.options=Wa.assign({level:nR,method:iR,chunkSize:16384,windowBits:15,memLevel:8,strategy:rR,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eR,this.strm.avail_out=0;var n=Ga.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==os)throw new Error(Rg[n]);if(t.header&&Ga.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=Ag.string2buf(t.dictionary):gD.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ga.deflateSetDictionary(this.strm,r),n!==os)throw new Error(Rg[n]);this._dict_set=!0}}Bi.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=t===~~t?t:t===!0?Tg:tR,typeof e=="string"?n.input=Ag.string2buf(e):gD.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Wa.Buf8(r),n.next_out=0,n.avail_out=r),i=Ga.deflate(n,o),i!==hD&&i!==os)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===Tg||o===pD))&&(this.options.to==="string"?this.onData(Ag.buf2binstring(Wa.shrinkBuf(n.output,n.next_out))):this.onData(Wa.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==hD);return o===Tg?(i=Ga.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===os):(o===pD&&(this.onEnd(os),n.avail_out=0),!0)};Bi.prototype.onData=function(e){this.chunks.push(e)};Bi.prototype.onEnd=function(e){e===os&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wa.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ng(e,t){var n=new Bi(t);if(n.push(e,!0),n.err)throw n.msg||Rg[n.err];return n.result}function oR(e,t){return t=t||{},t.raw=!0,Ng(e,t)}function sR(e,t){return t=t||{},t.gzip=!0,Ng(e,t)}qa.Deflate=Bi;qa.deflate=Ng;qa.deflateRaw=oR;qa.gzip=sR});var yD=it((H7,vD)=>{"use strict";var Gu=30,aR=12;vD.exports=function(t,n){var r,i,o,s,a,l,c,u,d,h,f,p,v,y,m,g,_,w,D,C,S,b,E,I,M;r=t.state,i=t.next_in,I=t.input,o=i+(t.avail_in-5),s=t.next_out,M=t.output,a=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,d=r.whave,h=r.wnext,f=r.window,p=r.hold,v=r.bits,y=r.lencode,m=r.distcode,g=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{v<15&&(p+=I[i++]<<v,v+=8,p+=I[i++]<<v,v+=8),w=y[p&g];t:for(;;){if(D=w>>>24,p>>>=D,v-=D,D=w>>>16&255,D===0)M[s++]=w&65535;else if(D&16){C=w&65535,D&=15,D&&(v<D&&(p+=I[i++]<<v,v+=8),C+=p&(1<<D)-1,p>>>=D,v-=D),v<15&&(p+=I[i++]<<v,v+=8,p+=I[i++]<<v,v+=8),w=m[p&_];n:for(;;){if(D=w>>>24,p>>>=D,v-=D,D=w>>>16&255,D&16){if(S=w&65535,D&=15,v<D&&(p+=I[i++]<<v,v+=8,v<D&&(p+=I[i++]<<v,v+=8)),S+=p&(1<<D)-1,S>c){t.msg="invalid distance too far back",r.mode=Gu;break e}if(p>>>=D,v-=D,D=s-a,S>D){if(D=S-D,D>d&&r.sane){t.msg="invalid distance too far back",r.mode=Gu;break e}if(b=0,E=f,h===0){if(b+=u-D,D<C){C-=D;do M[s++]=f[b++];while(--D);b=s-S,E=M}}else if(h<D){if(b+=u+h-D,D-=h,D<C){C-=D;do M[s++]=f[b++];while(--D);if(b=0,h<C){D=h,C-=D;do M[s++]=f[b++];while(--D);b=s-S,E=M}}}else if(b+=h-D,D<C){C-=D;do M[s++]=f[b++];while(--D);b=s-S,E=M}for(;C>2;)M[s++]=E[b++],M[s++]=E[b++],M[s++]=E[b++],C-=3;C&&(M[s++]=E[b++],C>1&&(M[s++]=E[b++]))}else{b=s-S;do M[s++]=M[b++],M[s++]=M[b++],M[s++]=M[b++],C-=3;while(C>2);C&&(M[s++]=M[b++],C>1&&(M[s++]=M[b++]))}}else if((D&64)===0){w=m[(w&65535)+(p&(1<<D)-1)];continue n}else{t.msg="invalid distance code",r.mode=Gu;break e}break}}else if((D&64)===0){w=y[(w&65535)+(p&(1<<D)-1)];continue t}else if(D&32){r.mode=aR;break e}else{t.msg="invalid literal/length code",r.mode=Gu;break e}break}}while(i<o&&s<l);C=v>>3,i-=C,v-=C<<3,p&=(1<<v)-1,t.next_in=i,t.next_out=s,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=p,r.bits=v}});var ID=it(($7,ED)=>{"use strict";var _D=cr(),ss=15,DD=852,wD=592,bD=0,kg=1,CD=2,lR=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cR=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],uR=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dR=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ED.exports=function(t,n,r,i,o,s,a,l){var c=l.bits,u=0,d=0,h=0,f=0,p=0,v=0,y=0,m=0,g=0,_=0,w,D,C,S,b,E=null,I=0,M,P=new _D.Buf16(ss+1),k=new _D.Buf16(ss+1),A=null,U=0,Y,H,R;for(u=0;u<=ss;u++)P[u]=0;for(d=0;d<i;d++)P[n[r+d]]++;for(p=c,f=ss;f>=1&&P[f]===0;f--);if(p>f&&(p=f),f===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<f&&P[h]===0;h++);for(p<h&&(p=h),m=1,u=1;u<=ss;u++)if(m<<=1,m-=P[u],m<0)return-1;if(m>0&&(t===bD||f!==1))return-1;for(k[1]=0,u=1;u<ss;u++)k[u+1]=k[u]+P[u];for(d=0;d<i;d++)n[r+d]!==0&&(a[k[n[r+d]]++]=d);if(t===bD?(E=A=a,M=19):t===kg?(E=lR,I-=257,A=cR,U-=257,M=256):(E=uR,A=dR,M=-1),_=0,d=0,u=h,b=s,v=p,y=0,C=-1,g=1<<p,S=g-1,t===kg&&g>DD||t===CD&&g>wD)return 1;for(;;){Y=u-y,a[d]<M?(H=0,R=a[d]):a[d]>M?(H=A[U+a[d]],R=E[I+a[d]]):(H=96,R=0),w=1<<u-y,D=1<<v,h=D;do D-=w,o[b+(_>>y)+D]=Y<<24|H<<16|R|0;while(D!==0);for(w=1<<u-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,d++,--P[u]===0){if(u===f)break;u=n[r+a[d]]}if(u>p&&(_&S)!==C){for(y===0&&(y=p),b+=h,v=u-y,m=1<<v;v+y<f&&(m-=P[v+y],!(m<=0));)v++,m<<=1;if(g+=1<<v,t===kg&&g>DD||t===CD&&g>wD)return 1;C=_&S,o[C]=p<<24|v<<16|b-s|0}}return _!==0&&(o[b+_]=u-y<<24|64<<16|0),l.bits=p,0}});var sw=it(gn=>{"use strict";var Ft=cr(),jg=wg(),Ln=bg(),fR=yD(),Za=ID(),hR=0,QD=1,JD=2,SD=4,pR=5,Wu=6,Ui=0,gR=1,mR=2,Jt=-2,XD=-3,Bg=-4,vR=-5,MD=8,ew=1,xD=2,TD=3,AD=4,RD=5,ND=6,kD=7,OD=8,PD=9,FD=10,Yu=11,fr=12,Og=13,LD=14,Pg=15,VD=16,jD=17,BD=18,UD=19,qu=20,Zu=21,HD=22,$D=23,zD=24,GD=25,WD=26,Fg=27,qD=28,ZD=29,Ie=30,Ug=31,yR=32,_R=852,DR=592,wR=15,bR=wR;function YD(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function CR(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ft.Buf16(320),this.work=new Ft.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function tw(e){var t;return!e||!e.state?Jt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ew,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ft.Buf32(_R),t.distcode=t.distdyn=new Ft.Buf32(DR),t.sane=1,t.back=-1,Ui)}function nw(e){var t;return!e||!e.state?Jt:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,tw(e))}function rw(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Jt:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,nw(e))}function iw(e,t){var n,r;return e?(r=new CR,e.state=r,r.window=null,n=rw(e,t),n!==Ui&&(e.state=null),n):Jt}function ER(e){return iw(e,bR)}var KD=!0,Lg,Vg;function IR(e){if(KD){var t;for(Lg=new Ft.Buf32(512),Vg=new Ft.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Za(QD,e.lens,0,288,Lg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Za(JD,e.lens,0,32,Vg,0,e.work,{bits:5}),KD=!1}e.lencode=Lg,e.lenbits=9,e.distcode=Vg,e.distbits=5}function ow(e,t,n,r){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Ft.Buf8(o.wsize)),r>=o.wsize?(Ft.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),Ft.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(Ft.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function SR(e,t){var n,r,i,o,s,a,l,c,u,d,h,f,p,v,y=0,m,g,_,w,D,C,S,b,E=new Ft.Buf8(4),I,M,P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Jt;n=e.state,n.mode===fr&&(n.mode=Og),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,b=Ui;e:for(;;)switch(n.mode){case ew:if(n.wrap===0){n.mode=Og;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,E[0]=c&255,E[1]=c>>>8&255,n.check=Ln(n.check,E,2,0),c=0,u=0,n.mode=xD;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ie;break}if((c&15)!==MD){e.msg="unknown compression method",n.mode=Ie;break}if(c>>>=4,u-=4,S=(c&15)+8,n.wbits===0)n.wbits=S;else if(S>n.wbits){e.msg="invalid window size",n.mode=Ie;break}n.dmax=1<<S,e.adler=n.check=1,n.mode=c&512?FD:fr,c=0,u=0;break;case xD:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==MD){e.msg="unknown compression method",n.mode=Ie;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ie;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,n.check=Ln(n.check,E,2,0)),c=0,u=0,n.mode=TD;case TD:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=Ln(n.check,E,4,0)),c=0,u=0,n.mode=AD;case AD:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,n.check=Ln(n.check,E,2,0)),c=0,u=0,n.mode=RD;case RD:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,n.check=Ln(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=ND;case ND:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Ft.arraySet(n.head.extra,r,o,f,S)),n.flags&512&&(n.check=Ln(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=kD;case kD:if(n.flags&2048){if(a===0)break e;f=0;do S=r[o+f++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&f<a);if(n.flags&512&&(n.check=Ln(n.check,r,f,o)),a-=f,o+=f,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=OD;case OD:if(n.flags&4096){if(a===0)break e;f=0;do S=r[o+f++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&f<a);if(n.flags&512&&(n.check=Ln(n.check,r,f,o)),a-=f,o+=f,S)break e}else n.head&&(n.head.comment=null);n.mode=PD;case PD:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ie;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=fr;break;case FD:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}e.adler=n.check=YD(c),c=0,u=0,n.mode=Yu;case Yu:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,mR;e.adler=n.check=1,n.mode=fr;case fr:if(t===pR||t===Wu)break e;case Og:if(n.last){c>>>=u&7,u-=u&7,n.mode=Fg;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=LD;break;case 1:if(IR(n),n.mode=qu,t===Wu){c>>>=2,u-=2;break e}break;case 2:n.mode=jD;break;case 3:e.msg="invalid block type",n.mode=Ie}c>>>=2,u-=2;break;case LD:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ie;break}if(n.length=c&65535,c=0,u=0,n.mode=Pg,t===Wu)break e;case Pg:n.mode=VD;case VD:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;Ft.arraySet(i,r,o,f,s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=fr;break;case jD:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ie;break}n.have=0,n.mode=BD;case BD:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[P[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},b=Za(hR,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,b){e.msg="invalid code lengths set",n.mode=Ie;break}n.have=0,n.mode=UD;case UD:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],m=y>>>24,g=y>>>16&255,_=y&65535,!(m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(_<16)c>>>=m,u-=m,n.lens[n.have++]=_;else{if(_===16){for(M=m+2;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=m,u-=m,n.have===0){e.msg="invalid bit length repeat",n.mode=Ie;break}S=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(_===17){for(M=m+3;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=m,u-=m,S=0,f=3+(c&7),c>>>=3,u-=3}else{for(M=m+7;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=m,u-=m,S=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ie;break}for(;f--;)n.lens[n.have++]=S}}if(n.mode===Ie)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ie;break}if(n.lenbits=9,I={bits:n.lenbits},b=Za(QD,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,b){e.msg="invalid literal/lengths set",n.mode=Ie;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},b=Za(JD,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,b){e.msg="invalid distances set",n.mode=Ie;break}if(n.mode=qu,t===Wu)break e;case qu:n.mode=Zu;case Zu:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,fR(e,h),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===fr&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],m=y>>>24,g=y>>>16&255,_=y&65535,!(m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(g&&(g&240)===0){for(w=m,D=g,C=_;y=n.lencode[C+((c&(1<<w+D)-1)>>w)],m=y>>>24,g=y>>>16&255,_=y&65535,!(w+m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=m,u-=m,n.back+=m,n.length=_,g===0){n.mode=WD;break}if(g&32){n.back=-1,n.mode=fr;break}if(g&64){e.msg="invalid literal/length code",n.mode=Ie;break}n.extra=g&15,n.mode=HD;case HD:if(n.extra){for(M=n.extra;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=$D;case $D:for(;y=n.distcode[c&(1<<n.distbits)-1],m=y>>>24,g=y>>>16&255,_=y&65535,!(m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((g&240)===0){for(w=m,D=g,C=_;y=n.distcode[C+((c&(1<<w+D)-1)>>w)],m=y>>>24,g=y>>>16&255,_=y&65535,!(w+m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=m,u-=m,n.back+=m,g&64){e.msg="invalid distance code",n.mode=Ie;break}n.offset=_,n.extra=g&15,n.mode=zD;case zD:if(n.extra){for(M=n.extra;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ie;break}n.mode=GD;case GD:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ie;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=i,p=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=v[p++];while(--f);n.length===0&&(n.mode=Zu);break;case WD:if(l===0)break e;i[s++]=n.length,l--,n.mode=Zu;break;case Fg:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?Ln(n.check,i,h,s-h):jg(n.check,i,h,s-h)),h=l,(n.flags?c:YD(c))!==n.check){e.msg="incorrect data check",n.mode=Ie;break}c=0,u=0}n.mode=qD;case qD:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ie;break}c=0,u=0}n.mode=ZD;case ZD:b=gR;break e;case Ie:b=XD;break e;case Ug:return Bg;case yR:default:return Jt}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Ie&&(n.mode<Fg||t!==SD))&&ow(e,e.output,e.next_out,h-e.avail_out)?(n.mode=Ug,Bg):(d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?Ln(n.check,i,h,e.next_out-h):jg(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===fr?128:0)+(n.mode===qu||n.mode===Pg?256:0),(d===0&&h===0||t===SD)&&b===Ui&&(b=vR),b)}function MR(e){if(!e||!e.state)return Jt;var t=e.state;return t.window&&(t.window=null),e.state=null,Ui}function xR(e,t){var n;return!e||!e.state||(n=e.state,(n.wrap&2)===0)?Jt:(n.head=t,t.done=!1,Ui)}function TR(e,t){var n=t.length,r,i,o;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==Yu)?Jt:r.mode===Yu&&(i=1,i=jg(i,t,n,0),i!==r.check)?XD:(o=ow(e,t,n,n),o?(r.mode=Ug,Bg):(r.havedict=1,Ui))}gn.inflateReset=nw;gn.inflateReset2=rw;gn.inflateResetKeep=tw;gn.inflateInit=ER;gn.inflateInit2=iw;gn.inflate=SR;gn.inflateEnd=MR;gn.inflateGetHeader=xR;gn.inflateSetDictionary=TR;gn.inflateInfo="pako inflate (from Nodeca project)"});var Hg=it((G7,aw)=>{"use strict";aw.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var cw=it((W7,lw)=>{"use strict";function AR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}lw.exports=AR});var dw=it(Ka=>{"use strict";var as=sw(),Ya=cr(),Ku=Mg(),Pe=Hg(),$g=Lu(),RR=xg(),NR=cw(),uw=Object.prototype.toString;function Hi(e){if(!(this instanceof Hi))return new Hi(e);this.options=Ya.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new RR,this.strm.avail_out=0;var n=as.inflateInit2(this.strm,t.windowBits);if(n!==Pe.Z_OK)throw new Error($g[n]);if(this.header=new NR,as.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ku.string2buf(t.dictionary):uw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=as.inflateSetDictionary(this.strm,t.dictionary),n!==Pe.Z_OK)))throw new Error($g[n])}Hi.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Pe.Z_FINISH:Pe.Z_NO_FLUSH,typeof e=="string"?n.input=Ku.binstring2buf(e):uw.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Ya.Buf8(r),n.next_out=0,n.avail_out=r),o=as.inflate(n,Pe.Z_NO_FLUSH),o===Pe.Z_NEED_DICT&&i&&(o=as.inflateSetDictionary(this.strm,i)),o===Pe.Z_BUF_ERROR&&u===!0&&(o=Pe.Z_OK,u=!1),o!==Pe.Z_STREAM_END&&o!==Pe.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===Pe.Z_STREAM_END||n.avail_in===0&&(s===Pe.Z_FINISH||s===Pe.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=Ku.utf8border(n.output,n.next_out),l=n.next_out-a,c=Ku.buf2string(n.output,a),n.next_out=l,n.avail_out=r-l,l&&Ya.arraySet(n.output,n.output,a,l,0),this.onData(c)):this.onData(Ya.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==Pe.Z_STREAM_END);return o===Pe.Z_STREAM_END&&(s=Pe.Z_FINISH),s===Pe.Z_FINISH?(o=as.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Pe.Z_OK):(s===Pe.Z_SYNC_FLUSH&&(this.onEnd(Pe.Z_OK),n.avail_out=0),!0)};Hi.prototype.onData=function(e){this.chunks.push(e)};Hi.prototype.onEnd=function(e){e===Pe.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ya.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zg(e,t){var n=new Hi(t);if(n.push(e,!0),n.err)throw n.msg||$g[n.err];return n.result}function kR(e,t){return t=t||{},t.raw=!0,zg(e,t)}Ka.Inflate=Hi;Ka.inflate=zg;Ka.inflateRaw=kR;Ka.ungzip=zg});var pw=it((Z7,hw)=>{"use strict";var OR=cr().assign,PR=mD(),FR=dw(),LR=Hg(),fw={};OR(fw,PR,FR,LR);hw.exports=fw});var gw=it((Y7,Gg)=>{"use strict";(function(){var e={};typeof Gg=="object"?Gg.exports=e:self.UTIF=e;var t;typeof Ds=="function"?t=pw():t=self.pako;function n(){typeof process>"u"&&console.log.apply(console,arguments)}(function(r,i){(function(){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s=function(){function l(c){this.message="JPEG error: "+c}return l.prototype=Error(),l.prototype.name="JpegError",l.constructor=l}(),a=function(){function l(c,u){this.message=c,this.g=u}return l.prototype=Error(),l.prototype.name="DNLMarkerError",l.constructor=l}();(function(){function l(){this.M=null,this.B=-1}function c(p,v){for(var y=0,m=[],g,_,w=16;0<w&&!p[w-1];)w--;m.push({children:[],index:0});var D=m[0],C;for(g=0;g<w;g++){for(_=0;_<p[g];_++){for(D=m.pop(),D.children[D.index]=v[y];0<D.index;)D=m.pop();for(D.index++,m.push(D);m.length<=g;)m.push(C={children:[],index:0}),D.children[D.index]=C.children,D=C;y++}g+1<w&&(m.push(C={children:[],index:0}),D.children[D.index]=C.children,D=C)}return m[0].children}function u(p,v,y,m,g,_,w,D,C){function S(){if(0<B)return B--,V>>B&1;if(V=p[v++],V===255){var te=p[v++];if(te){if(te===220&&Y){v+=2;var Te=p[v++]<<8|p[v++];if(0<Te&&Te!==y.g)throw new a("Found DNL marker (0xFFDC) while parsing scan data",Te)}throw new s("unexpected marker "+(V<<8|te).toString(16))}}return B=7,V>>>7}function b(te){for(;;){if(te=te[S()],typeof te=="number")return te;if((typeof te>"u"?"undefined":o(te))!=="object")throw new s("invalid huffman sequence")}}function E(te){for(var Te=0;0<te;)Te=Te<<1|S(),te--;return Te}function I(te){if(te===1)return S()===1?1:-1;var Te=E(te);return Te>=1<<te-1?Te:Te+(-1<<te)+1}function M(te,Te){var we=b(te.D);for(we=we===0?0:I(we),te.a[Te]=te.m+=we,we=1;64>we;){var Ae=b(te.o),Ge=Ae&15;if(Ae>>=4,Ge===0){if(15>Ae)break;we+=16}else we+=Ae,te.a[Te+f[we]]=I(Ge),we++}}function P(te,Te){var we=b(te.D);we=we===0?0:I(we)<<C,te.a[Te]=te.m+=we}function k(te,Te){te.a[Te]|=S()<<C}function A(te,Te){if(0<K)K--;else for(var we=_;we<=w;){var Ae=b(te.o),Ge=Ae&15;if(Ae>>=4,Ge===0){if(15>Ae){K=E(Ae)+(1<<Ae)-1;break}we+=16}else we+=Ae,te.a[Te+f[we]]=I(Ge)*(1<<C),we++}}function U(te,Te){for(var we=_,Ae=0,Ge;we<=w;){Ge=Te+f[we];var Nd=0>te.a[Ge]?-1:1;switch(W){case 0:if(Ae=b(te.o),Ge=Ae&15,Ae>>=4,Ge===0)15>Ae?(K=E(Ae)+(1<<Ae),W=4):(Ae=16,W=1);else{if(Ge!==1)throw new s("invalid ACn encoding");Le=I(Ge),W=Ae?2:3}continue;case 1:case 2:te.a[Ge]?te.a[Ge]+=Nd*(S()<<C):(Ae--,Ae===0&&(W=W===2?3:0));break;case 3:te.a[Ge]?te.a[Ge]+=Nd*(S()<<C):(te.a[Ge]=Le<<C,W=0);break;case 4:te.a[Ge]&&(te.a[Ge]+=Nd*(S()<<C))}we++}W===4&&(K--,K===0&&(W=0))}for(var Y=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,H=y.P,R=v,V=0,B=0,K=0,W=0,Le,ut=m.length,pe,Hn,rt,Qi,_m=y.S?_===0?D===0?P:k:D===0?A:U:M,gr=0,Rd=ut===1?m[0].c*m[0].l:H*y.O,Dm,wm;gr<Rd;){var bm=g?Math.min(Rd-gr,g):Rd;for(pe=0;pe<ut;pe++)m[pe].m=0;if(K=0,ut===1){var De=m[0];for(Qi=0;Qi<bm;Qi++)_m(De,64*((De.c+1)*(gr/De.c|0)+gr%De.c)),gr++}else for(Qi=0;Qi<bm;Qi++){for(pe=0;pe<ut;pe++)for(De=m[pe],Dm=De.h,wm=De.j,Hn=0;Hn<wm;Hn++)for(rt=0;rt<Dm;rt++)_m(De,64*((De.c+1)*((gr/H|0)*De.j+Hn)+(gr%H*De.h+rt)));gr++}if(B=0,(De=h(p,v))&&De.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+De.f),v=De.offset),De=De&&De.F,!De||65280>=De)throw new s("marker was not found");if(65488<=De&&65495>=De)v+=2;else break}return(De=h(p,v))&&De.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+De.f),v=De.offset),v-R}function d(p,v){for(var y=v.c,m=v.l,g=new Int16Array(64),_=0;_<m;_++)for(var w=0;w<y;w++){var D=64*((v.c+1)*_+w),C=g,S=v.G,b=v.a;if(!S)throw new s("missing required Quantization Table.");for(var E=0;64>E;E+=8){var I=b[D+E],M=b[D+E+1],P=b[D+E+2],k=b[D+E+3],A=b[D+E+4],U=b[D+E+5],Y=b[D+E+6],H=b[D+E+7];if(I*=S[E],(M|P|k|A|U|Y|H)===0)I=5793*I+512>>10,C[E]=I,C[E+1]=I,C[E+2]=I,C[E+3]=I,C[E+4]=I,C[E+5]=I,C[E+6]=I,C[E+7]=I;else{M*=S[E+1],P*=S[E+2],k*=S[E+3],A*=S[E+4],U*=S[E+5],Y*=S[E+6],H*=S[E+7];var R=5793*I+128>>8,V=5793*A+128>>8,B=P,K=Y;A=2896*(M-H)+128>>8,H=2896*(M+H)+128>>8,k<<=4,U<<=4,R=R+V+1>>1,V=R-V,I=3784*B+1567*K+128>>8,B=1567*B-3784*K+128>>8,K=I,A=A+U+1>>1,U=A-U,H=H+k+1>>1,k=H-k,R=R+K+1>>1,K=R-K,V=V+B+1>>1,B=V-B,I=2276*A+3406*H+2048>>12,A=3406*A-2276*H+2048>>12,H=I,I=799*k+4017*U+2048>>12,k=4017*k-799*U+2048>>12,U=I,C[E]=R+H,C[E+7]=R-H,C[E+1]=V+U,C[E+6]=V-U,C[E+2]=B+k,C[E+5]=B-k,C[E+3]=K+A,C[E+4]=K-A}}for(S=0;8>S;++S)I=C[S],M=C[S+8],P=C[S+16],k=C[S+24],A=C[S+32],U=C[S+40],Y=C[S+48],H=C[S+56],(M|P|k|A|U|Y|H)===0?(I=5793*I+8192>>14,I=-2040>I?0:2024<=I?255:I+2056>>4,b[D+S]=I,b[D+S+8]=I,b[D+S+16]=I,b[D+S+24]=I,b[D+S+32]=I,b[D+S+40]=I,b[D+S+48]=I,b[D+S+56]=I):(R=5793*I+2048>>12,V=5793*A+2048>>12,B=P,K=Y,A=2896*(M-H)+2048>>12,H=2896*(M+H)+2048>>12,R=(R+V+1>>1)+4112,V=R-V,I=3784*B+1567*K+2048>>12,B=1567*B-3784*K+2048>>12,K=I,A=A+U+1>>1,U=A-U,H=H+k+1>>1,k=H-k,R=R+K+1>>1,K=R-K,V=V+B+1>>1,B=V-B,I=2276*A+3406*H+2048>>12,A=3406*A-2276*H+2048>>12,H=I,I=799*k+4017*U+2048>>12,k=4017*k-799*U+2048>>12,U=I,I=R+H,H=R-H,M=V+U,Y=V-U,P=B+k,U=B-k,k=K+A,A=K-A,I=16>I?0:4080<=I?255:I>>4,M=16>M?0:4080<=M?255:M>>4,P=16>P?0:4080<=P?255:P>>4,k=16>k?0:4080<=k?255:k>>4,A=16>A?0:4080<=A?255:A>>4,U=16>U?0:4080<=U?255:U>>4,Y=16>Y?0:4080<=Y?255:Y>>4,H=16>H?0:4080<=H?255:H>>4,b[D+S]=I,b[D+S+8]=M,b[D+S+16]=P,b[D+S+24]=k,b[D+S+32]=A,b[D+S+40]=U,b[D+S+48]=Y,b[D+S+56]=H)}return v.a}function h(p,v){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:v,m=p.length-1;if(y=y<v?y:v,v>=m)return null;var g=p[v]<<8|p[v+1];if(65472<=g&&65534>=g)return{f:null,F:g,offset:v};for(var _=p[y]<<8|p[y+1];!(65472<=_&&65534>=_);){if(++y>=m)return null;_=p[y]<<8|p[y+1]}return{f:g.toString(16),F:_,offset:y}}var f=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);l.prototype={parse:function(p){function v(){var B=p[w]<<8|p[w+1];return w+=2,B}function y(){var B=v();B=w+B-2;var K=h(p,B,w);return K&&K.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+K.f),B=K.offset),B=p.subarray(w,B),w+=B.length,B}function m(B){for(var K=Math.ceil(B.v/8/B.s),W=Math.ceil(B.g/8/B.u),Le=0;Le<B.b.length;Le++){R=B.b[Le];var ut=Math.ceil(Math.ceil(B.v/8)*R.h/B.s),pe=Math.ceil(Math.ceil(B.g/8)*R.j/B.u);R.a=new Int16Array(64*W*R.j*(K*R.h+1)),R.c=ut,R.l=pe}B.P=K,B.O=W}var g=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,_=g===void 0?null:g,w=0,D=null,C=0;g=[];var S=[],b=[],E=v();if(E!==65496)throw new s("SOI not found");for(E=v();E!==65497;){switch(E){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var I=y();E===65518&&I[0]===65&&I[1]===100&&I[2]===111&&I[3]===98&&I[4]===101&&(D={version:I[5]<<8|I[6],Y:I[7]<<8|I[8],Z:I[9]<<8|I[10],W:I[11]});break;case 65499:E=v()+w-2;for(var M;w<E;){var P=p[w++],k=new Uint16Array(64);if(P>>4===0)for(I=0;64>I;I++)M=f[I],k[M]=p[w++];else if(P>>4===1)for(I=0;64>I;I++)M=f[I],k[M]=v();else throw new s("DQT - invalid table spec");g[P&15]=k}break;case 65472:case 65473:case 65474:if(A)throw new s("Only single frame JPEGs supported");v();var A={};for(A.X=E===65473,A.S=E===65474,A.precision=p[w++],E=v(),A.g=_||E,A.v=v(),A.b=[],A.C={},I=p[w++],E=k=P=0;E<I;E++){M=p[w];var U=p[w+1]>>4,Y=p[w+1]&15;P<U&&(P=U),k<Y&&(k=Y),U=A.b.push({h:U,j:Y,T:p[w+2],G:null}),A.C[M]=U-1,w+=3}A.s=P,A.u=k,m(A);break;case 65476:for(M=v(),E=2;E<M;){for(P=p[w++],k=new Uint8Array(16),I=U=0;16>I;I++,w++)U+=k[I]=p[w];for(Y=new Uint8Array(U),I=0;I<U;I++,w++)Y[I]=p[w];E+=17+U,(P>>4===0?b:S)[P&15]=c(k,Y)}break;case 65501:v();var H=v();break;case 65498:for(I=++C===1&&!_,v(),P=p[w++],M=[],E=0;E<P;E++){k=A.C[p[w++]];var R=A.b[k];k=p[w++],R.D=b[k>>4],R.o=S[k&15],M.push(R)}E=p[w++],P=p[w++],k=p[w++];try{var V=u(p,w,A,M,H,E,P,k>>4,k&15,I);w+=V}catch(B){if(B instanceof a)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(p,{N:B.g});throw B}break;case 65500:w+=4;break;case 65535:p[w]!==255&&w--;break;default:if(p[w-3]===255&&192<=p[w-2]&&254>=p[w-2])w-=3;else if((I=h(p,w-2))&&I.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+I.f),w=I.offset;else throw new s("unknown marker "+E.toString(16))}E=v()}for(this.width=A.v,this.height=A.g,this.A=D,this.b=[],E=0;E<A.b.length;E++)R=A.b[E],(H=g[R.T])&&(R.G=H),this.b.push({R:d(A,R),U:R.h/A.s,V:R.j/A.u,c:R.c,l:R.l});this.i=this.b.length},L:function(p,v){var y=this.width/p,m=this.height/v,g,_,w=this.b.length,D=p*v*w,C=new Uint8ClampedArray(D),S=new Uint32Array(p);for(_=0;_<w;_++){var b=this.b[_],E=b.U*y,I=b.V*m,M=_,P=b.R,k=b.c+1<<3;for(g=0;g<p;g++)b=0|g*E,S[g]=(b&4294967288)<<3|b&7;for(E=0;E<v;E++)for(b=0|E*I,b=k*(b&4294967288)|(b&7)<<3,g=0;g<p;g++)C[M]=P[b+S[g]],M+=w}if(m=this.M)for(_=0;_<D;)for(y=b=0;b<w;b++,_++,y+=2)C[_]=(C[_]*m[y]>>8)+m[y+1];return C},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(p){for(var v,y,m,g=0,_=p.length;g<_;g+=3)v=p[g],y=p[g+1],m=p[g+2],p[g]=v-179.456+1.402*m,p[g+1]=v+135.459-.344*y-.714*m,p[g+2]=v-226.816+1.772*y;return p},K:function(p){for(var v,y,m,g,_=0,w=0,D=p.length;w<D;w+=4)v=p[w],y=p[w+1],m=p[w+2],g=p[w+3],p[_++]=-122.67195406894+y*(-660635669420364e-19*y+.000437130475926232*m-54080610064599e-18*v+.00048449797120281*g-.154362151871126)+m*(-.000957964378445773*m+.000817076911346625*v-.00477271405408747*g+1.53380253221734)+v*(.000961250184130688*v-.00266257332283933*g+.48357088451265)+g*(-.000336197177618394*g+.484791561490776),p[_++]=107.268039397724+y*(219927104525741e-19*y-.000640992018297945*m+.000659397001245577*v+.000426105652938837*g-.176491792462875)+m*(-.000778269941513683*m+.00130872261408275*v+.000770482631801132*g-.151051492775562)+v*(.00126935368114843*v-.00265090189010898*g+.25802910206845)+g*(-.000318913117588328*g-.213742400323665),p[_++]=-20.810012546947+y*(-.000570115196973677*y-263409051004589e-19*m+.0020741088115012*v-.00288260236853442*g+.814272968359295)+m*(-153496057440975e-19*m-.000132689043961446*v+.000560833691242812*g-.195152027534049)+v*(.00174418132927582*v-.00255243321439347*g+.116935020465145)+g*(-.000343531996510555*g+.24165260232407);return p.subarray(0,_)},J:function(p){for(var v,y,m,g=0,_=p.length;g<_;g+=4)v=p[g],y=p[g+1],m=p[g+2],p[g]=434.456-v-1.402*m,p[g+1]=119.541-v+.344*y+.714*m,p[g+2]=481.816-v-1.772*y;return p},H:function(p){for(var v,y,m,g,_=0,w=1/255,D=0,C=p.length;D<C;D+=4)v=p[D]*w,y=p[D+1]*w,m=p[D+2]*w,g=p[D+3]*w,p[_++]=255+v*(-4.387332384609988*v+54.48615194189176*y+18.82290502165302*m+212.25662451639585*g-285.2331026137004)+y*(1.7149763477362134*y-5.6096736904047315*m-17.873870861415444*g-5.497006427196366)+m*(-2.5217340131683033*m-21.248923337353073*g+17.5119270841813)-g*(21.86122147463605*g+189.48180835922747),p[_++]=255+v*(8.841041422036149*v+60.118027045597366*y+6.871425592049007*m+31.159100130055922*g-79.2970844816548)+y*(-15.310361306967817*y+17.575251261109482*m+131.35250912493976*g-190.9453302588951)+m*(4.444339102852739*m+9.8632861493405*g-24.86741582555878)-g*(20.737325471181034*g+187.80453709719578),p[_++]=255+v*(.8842522430003296*v+8.078677503112928*y+30.89978309703729*m-.23883238689178934*g-14.183576799673286)+y*(10.49593273432072*y+63.02378494754052*m+50.606957656360734*g-112.23884253719248)+m*(.03296041114873217*m+115.60384449646641*g-193.58209356861505)-g*(22.33816807309886*g+180.12613974708367);return p.subarray(0,_)},getData:function(p,v,y){if(4<this.i)throw new s("Unsupported color mode");if(p=this.L(p,v),this.i===1&&y){y=p.length,v=new Uint8ClampedArray(3*y);for(var m=0,g=0;g<y;g++){var _=p[g];v[m++]=_,v[m++]=_,v[m++]=_}return v}if(this.i===3&&this.w())return this.I(p);if(this.i===4){if(this.w())return y?this.K(p):this.J(p);if(y)return this.H(p)}return p}},r.JpegDecoder=l})()})(),r.encodeImage=function(o,s,a,l){var c={t256:[s],t257:[a],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[a],t279:[s*a*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(l)for(var u in l)c[u]=l[u];for(var d=new Uint8Array(r.encode([c])),h=new Uint8Array(o),f=new Uint8Array(1e3+s*a*4),u=0;u<d.length;u++)f[u]=d[u];for(var u=0;u<h.length;u++)f[1e3+u]=h[u];return f.buffer},r.encode=function(o){var s=new Uint8Array(2e4),a=4,l=r._binBE;s[0]=77,s[1]=77,s[3]=42;var c=8;l.writeUint(s,a,c),a+=4;for(var u=0;u<o.length;u++){var d=r._writeIFD(l,s,c,o[u]);c=d[1],u<o.length-1&&l.writeUint(s,d[0],c)}return s.slice(0,c).buffer},r.decode=function(o){r.decode._decodeG3.allow2D=null;var s=new Uint8Array(o),a=0,l=r._binBE.readASCII(s,a,2);a+=2;var c=l=="II"?r._binLE:r._binBE,u=c.readUshort(s,a);a+=2;var d=c.readUint(s,a);a+=4;for(var h=[];;){var f=r._readIFD(c,s,d,h,0,!1);if(d=c.readUint(s,f),d==0)break}return h},r.decodeImage=function(o,s,a){var l=new Uint8Array(o),c=r._binBE.readASCII(l,0,2);if(s.t256!=null){s.isLE=c=="II",s.width=s.t256[0],s.height=s.t257[0];var u=s.t259?s.t259[0]:1,d=s.t266?s.t266[0]:1;s.t284&&s.t284[0]==2&&n("PlanarConfiguration 2 should not be used!");var h;s.t258?h=Math.min(32,s.t258[0])*s.t258.length:h=s.t277?s.t277[0]:1,u==1&&s.t279!=null&&s.t278&&s.t262[0]==32803&&(h=Math.round(s.t279[0]*8/(s.width*s.t278[0])));var f=Math.ceil(s.width*h/8)*8,p=s.t273;p==null&&(p=s.t324);var v=s.t279;u==1&&p.length==1&&(v=[s.height*(f>>>3)]),v==null&&(v=s.t325);var y=new Uint8Array(s.height*(f>>>3)),m=0;if(s.t322!=null){for(var g=s.t322[0],_=s.t323[0],w=Math.floor((s.width+g-1)/g),D=Math.floor((s.height+_-1)/_),C=new Uint8Array(Math.ceil(g*_*h/8)|0),S=0;S<D;S++)for(var b=0;b<w;b++){for(var E=S*w+b,I=0;I<C.length;I++)C[I]=0;r.decode._decompress(s,a,l,p[E],v[E],u,C,0,d),u==6?y=C:r._copyTile(C,Math.ceil(g*h/8)|0,_,y,Math.ceil(s.width*h/8)|0,s.height,Math.ceil(b*g*h/8)|0,S*_)}m=y.length*8}else{var M=s.t278?s.t278[0]:s.height;M=Math.min(M,s.height);for(var E=0;E<p.length;E++)r.decode._decompress(s,a,l,p[E],v[E],u,y,Math.ceil(m/8)|0,d),m+=f*M;m=Math.min(m,y.length*8)}s.data=new Uint8Array(y.buffer,0,Math.ceil(m/8)|0)}},r.decode._decompress=function(o,s,a,l,c,u,d,h,f){if(u==1||c==d.length&&u!=32767)for(var p=0;p<c;p++)d[h+p]=a[l+p];else if(u==3)r.decode._decodeG3(a,l,c,d,h,o.width,f);else if(u==4)r.decode._decodeG4(a,l,c,d,h,o.width,f);else if(u==5)r.decode._decodeLZW(a,l,d,h);else if(u==6)r.decode._decodeOldJPEG(o,a,l,c,d,h);else if(u==7)r.decode._decodeNewJPEG(o,a,l,c,d,h);else if(u==8)for(var v=new Uint8Array(a.buffer,l,c),y=i.inflate(v),m=0;m<y.length;m++)d[h+m]=y[m];else u==32767?r.decode._decodeARW(o,a,l,c,d,h):u==32773?r.decode._decodePackBits(a,l,c,d,h):u==32809?r.decode._decodeThunder(a,l,c,d,h):u==34713?r.decode._decodeNikon(o,s,a,l,c,d,h):n("Unknown compression",u);var g=o.t258?Math.min(32,o.t258[0]):1,_=o.t277?o.t277[0]:1,w=g*_>>>3,D=o.t278?o.t278[0]:o.height,C=Math.ceil(g*_*o.width/8);if(g==16&&!o.isLE&&o.t33422==null)for(var S=0;S<D;S++)for(var b=h+S*C,E=1;E<C;E+=2){var I=d[b+E];d[b+E]=d[b+E-1],d[b+E-1]=I}if(o.t317&&o.t317[0]==2)for(var S=0;S<D;S++){var M=h+S*C;if(g==16)for(var p=w;p<C;p+=2){var P=(d[M+p+1]<<8|d[M+p])+(d[M+p-w+1]<<8|d[M+p-w]);d[M+p]=P&255,d[M+p+1]=P>>>8&255}else if(_==3)for(var p=3;p<C;p+=3)d[M+p]=d[M+p]+d[M+p-3]&255,d[M+p+1]=d[M+p+1]+d[M+p-2]&255,d[M+p+2]=d[M+p+2]+d[M+p-1]&255;else for(var p=w;p<C;p++)d[M+p]=d[M+p]+d[M+p-w]&255}},r.decode._ljpeg_diff=function(o,s,a){var l=r.decode._getbithuff,c,u;return c=l(o,s,a[0],a),u=l(o,s,c,0),(u&1<<c-1)==0&&(u-=(1<<c)-1),u},r.decode._decodeARW=function(o,s,a,l,c,u){var d=o.t256[0],h=o.t257[0],f=o.t258[0],p=o.isLE?r._binLE:r._binBE,v=d*h==l||d*h*1.5==l;if(!v){h+=8;var y=[a,0,0,0],m=new Uint16Array(32770),g=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],W,_,w,A,k,D=0,C=r.decode._ljpeg_diff;for(m[0]=15,w=W=0;W<18;W++)for(var S=32768>>>(g[W]>>>8),_=0;_<S;_++)m[++w]=g[W];for(A=d;A--;)for(k=0;k<h+1;k+=2)if(k==h&&(k=1),D+=C(s,y,m),k<h){var b=D&4095;r.decode._putsF(c,(k*d+A)*f,b<<16-f)}return}if(d*h*1.5==l){for(var W=0;W<l;W+=3){var E=s[a+W+0],I=s[a+W+1],M=s[a+W+2];c[u+W]=I<<4|E>>>4,c[u+W+1]=E<<4|M>>>4,c[u+W+2]=M<<4|I>>>4}return}var P=new Uint16Array(16),k,A,U,Y,H,R,V,B,K,W,Le,ut=new Uint8Array(d+1);for(k=0;k<h;k++){for(var pe=0;pe<d;pe++)ut[pe]=s[a++];for(Le=0,A=0;A<d-30;Le+=16){for(Y=2047&(U=p.readUint(ut,Le)),H=2047&U>>>11,R=15&U>>>22,V=15&U>>>26,B=0;B<4&&128<<B<=Y-H;B++);for(K=30,W=0;W<16;W++)W==R?P[W]=Y:W==V?P[W]=H:(P[W]=((p.readUshort(ut,Le+(K>>3))>>>(K&7)&127)<<B)+H,P[W]>2047&&(P[W]=2047),K+=7);for(W=0;W<16;W++,A+=2){var b=P[W]<<1;r.decode._putsF(c,(k*d+A)*f,b<<16-f)}A-=A&1?1:31}}},r.decode._decodeNikon=function(o,s,a,l,c,u,d){var h=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],f=o.t256[0],p=o.t257[0],v=o.t258[0],y=0,m=0,g=r.decode._make_decoder,_=r.decode._getbithuff,w=s[0].exifIFD.makerNote,D=w.t150?w.t150:w.t140,C=0,S=D[C++],b=D[C++];(S==73||b==88)&&(C+=2110),S==70&&(y=2),v==14&&(y+=3);for(var E=[[0,0],[0,0]],I=o.isLE?r._binLE:r._binBE,U=0;U<2;U++)for(var M=0;M<2;M++)E[U][M]=I.readShort(D,C),C+=2;var P=1<<v&32767,k=0,A=I.readShort(D,C);C+=2,A>1&&(k=Math.floor(P/(A-1))),S==68&&b==32&&k>0&&(m=I.readShort(D,562));var U,Y,H,R,V,B,K=0,W=[0,0],Le=g(h[y]),ut=[l,0,0,0];for(K=Y=0;Y<p;Y++)for(m&&Y==m&&(Le=g(h[y+1])),H=0;H<f;H++){U=_(a,ut,Le[0],Le),R=U&15,V=U>>>4,B=(_(a,ut,R-V,0)<<1)+1<<V>>>1,(B&1<<R-1)==0&&(B-=(1<<R)-(V==0?1:0)),H<2?W[H]=E[Y&1][H]+=B:W[H&1]+=B;var pe=Math.min(Math.max(W[H&1],0),(1<<v)-1),Hn=(Y*f+H)*v;r.decode._putsF(u,Hn,pe<<16-v)}},r.decode._putsF=function(o,s,a){a=a<<8-(s&7);var l=s>>>3;o[l]|=a>>>16,o[l+1]|=a>>>8,o[l+2]|=a},r.decode._getbithuff=function(o,s,a,l){var c=0,u=r.decode._get_byte,d,h=s[0],f=s[1],p=s[2],v=s[3];if(a==0||p<0)return 0;for(;!v&&p<a&&(d=o[h++])!=-1&&!(v=c&&d==255&&o[h++]);)f=(f<<8)+d,p+=8;if(d=f<<32-p>>>32-a,l?(p-=l[d+1]>>>8,d=l[d+1]&255):p-=a,p<0)throw"e";return s[0]=h,s[1]=f,s[2]=p,s[3]=v,d},r.decode._make_decoder=function(o){var s,a,l,c,u,d=[];for(s=16;s!=0&&!o[s];s--);var h=17;for(d[0]=s,l=a=1;a<=s;a++)for(c=0;c<o[a];c++,++h)for(u=0;u<1<<s-a;u++)l<=1<<s&&(d[l++]=a<<8|o[h]);return d},r.decode._decodeNewJPEG=function(o,s,a,l,c,u){var d=o.t347,h=d?d.length:0,f=new Uint8Array(h+l);if(d){for(var p=216,v=217,y=0,m=0;m<h-1&&!(d[m]==255&&d[m+1]==v);m++)f[y++]=d[m];var g=s[a],_=s[a+1];(g!=255||_!=p)&&(f[y++]=g,f[y++]=_);for(var m=2;m<l;m++)f[y++]=s[a+m]}else for(var m=0;m<l;m++)f[m]=s[a+m];if(o.t262[0]==32803||o.t262[0]==34892){var w=o.t258[0],D=r.LosslessJpegDecode(f),C=D.length;if(w==16)if(o.isLE)for(var m=0;m<C;m++)c[u+(m<<1)]=D[m]&255,c[u+(m<<1)+1]=D[m]>>>8;else for(var m=0;m<C;m++)c[u+(m<<1)]=D[m]>>>8,c[u+(m<<1)+1]=D[m]&255;else if(w==14||w==12)for(var S=16-w,m=0;m<C;m++)r.decode._putsF(c,m*w,D[m]<<S);else throw new Error("unsupported bit depth "+w)}else{var b=new r.JpegDecoder;b.parse(f);for(var E=b.getData(b.width,b.height),m=0;m<E.length;m++)c[u+m]=E[m]}o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodeOldJPEGInit=function(o,s,a,l){var c=216,u=217,d=219,h=196,f=221,p=192,v=218,y=0,m=0,g,_,w=!1,D,C,S,b=o.t513,E=b?b[0]:0,I=o.t514,M=I?I[0]:0,P=o.t324||o.t273||b,k=o.t530,A=0,U=0,Y=o.t277?o.t277[0]:1,H=o.t515;if(P&&(m=P[0],w=P.length>1),!w){if(s[a]==255&&s[a+1]==c)return{jpegOffset:a};if(b!=null&&(s[a+E]==255&&s[a+E+1]==c?y=a+E:n("JPEGInterchangeFormat does not point to SOI"),I==null?n("JPEGInterchangeFormatLength field is missing"):(E>=m||E+M<=m)&&n("JPEGInterchangeFormatLength field value is invalid"),y!=null))return{jpegOffset:y}}if(k!=null&&(A=k[0],U=k[1]),b!=null&&I!=null)if(M>=2&&E+M<=m){for(s[a+E+M-2]==255&&s[a+E+M-1]==c?g=new Uint8Array(M-2):g=new Uint8Array(M),D=0;D<g.length;D++)g[D]=s[a+E+D];n("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else n("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(g==null){var R=0,V=[];V[R++]=255,V[R++]=c;var B=o.t519;if(B==null)throw new Error("JPEGQTables tag is missing");for(D=0;D<B.length;D++)for(V[R++]=255,V[R++]=d,V[R++]=0,V[R++]=67,V[R++]=D,C=0;C<64;C++)V[R++]=s[a+B[D]+C];for(S=0;S<2;S++){var K=o[S==0?"t520":"t521"];if(K==null)throw new Error((S==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(D=0;D<K.length;D++){V[R++]=255,V[R++]=h;var W=19;for(C=0;C<16;C++)W+=s[a+K[D]+C];for(V[R++]=W>>>8,V[R++]=W&255,V[R++]=D|S<<4,C=0;C<16;C++)V[R++]=s[a+K[D]+C];for(C=0;C<W;C++)V[R++]=s[a+K[D]+16+C]}}if(V[R++]=255,V[R++]=p,V[R++]=0,V[R++]=8+3*Y,V[R++]=8,V[R++]=o.height>>>8&255,V[R++]=o.height&255,V[R++]=o.width>>>8&255,V[R++]=o.width&255,V[R++]=Y,Y==1)V[R++]=1,V[R++]=17,V[R++]=0;else for(D=0;D<3;D++)V[R++]=D+1,V[R++]=D!=0?17:(A&15)<<4|U&15,V[R++]=D;H!=null&&H[0]!=0&&(V[R++]=255,V[R++]=f,V[R++]=0,V[R++]=4,V[R++]=H[0]>>>8&255,V[R++]=H[0]&255),g=new Uint8Array(V)}var Le=-1;for(D=0;D<g.length-1;){if(g[D]==255&&g[D+1]==p){Le=D;break}D++}if(Le==-1){var ut=new Uint8Array(g.length+10+3*Y);ut.set(g);var pe=g.length;if(Le=g.length,g=ut,g[pe++]=255,g[pe++]=p,g[pe++]=0,g[pe++]=8+3*Y,g[pe++]=8,g[pe++]=o.height>>>8&255,g[pe++]=o.height&255,g[pe++]=o.width>>>8&255,g[pe++]=o.width&255,g[pe++]=Y,Y==1)g[pe++]=1,g[pe++]=17,g[pe++]=0;else for(D=0;D<3;D++)g[pe++]=D+1,g[pe++]=D!=0?17:(A&15)<<4|U&15,g[pe++]=D}if(s[m]==255&&s[m+1]==v){var Hn=s[m+2]<<8|s[m+3];for(_=new Uint8Array(Hn+2),_[0]=s[m],_[1]=s[m+1],_[2]=s[m+2],_[3]=s[m+3],D=0;D<Hn-2;D++)_[D+4]=s[m+D+4]}else{_=new Uint8Array(8+2*Y);var rt=0;if(_[rt++]=255,_[rt++]=v,_[rt++]=0,_[rt++]=6+2*Y,_[rt++]=Y,Y==1)_[rt++]=1,_[rt++]=0;else for(D=0;D<3;D++)_[rt++]=D+1,_[rt++]=D<<4|D;_[rt++]=0,_[rt++]=63,_[rt++]=0}return{jpegOffset:a,tables:g,sosMarker:_,sofPosition:Le}},r.decode._decodeOldJPEG=function(o,s,a,l,c,u){var d,h,f,p,v,y=r.decode._decodeOldJPEGInit(o,s,a,l);if(y.jpegOffset!=null)for(h=a+l-y.jpegOffset,p=new Uint8Array(h),d=0;d<h;d++)p[d]=s[y.jpegOffset+d];else{for(f=y.tables.length,p=new Uint8Array(f+y.sosMarker.length+l+2),p.set(y.tables),v=f,p[y.sofPosition+5]=o.height>>>8&255,p[y.sofPosition+6]=o.height&255,p[y.sofPosition+7]=o.width>>>8&255,p[y.sofPosition+8]=o.width&255,(s[a]!=255||s[a+1]!=SOS)&&(p.set(y.sosMarker,v),v+=sosMarker.length),d=0;d<l;d++)p[v++]=s[a+d];p[v++]=255,p[v++]=EOI}var m=new r.JpegDecoder;m.parse(p);for(var g=m.getData(m.width,m.height),d=0;d<g.length;d++)c[u+d]=g[d];o.t262&&o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodePackBits=function(o,s,a,l,c){for(var u=new Int8Array(o.buffer),d=new Int8Array(l.buffer),h=s+a;s<h;){var f=u[s];if(s++,f>=0&&f<128)for(var p=0;p<f+1;p++)d[c]=u[s],c++,s++;if(f>=-127&&f<0){for(var p=0;p<-f+1;p++)d[c]=u[s],c++;s++}}},r.decode._decodeThunder=function(o,s,a,l,c){for(var u=[0,1,0,-1],d=[0,1,2,3,0,-3,-2,-1],h=s+a,f=c*2,p=0;s<h;){var v=o[s],y=v>>>6,m=v&63;if(s++,y==3&&(p=m&15,l[f>>>1]|=p<<4*(1-f&1),f++),y==0)for(var g=0;g<m;g++)l[f>>>1]|=p<<4*(1-f&1),f++;if(y==2)for(var g=0;g<2;g++){var _=m>>>3*(1-g)&7;_!=4&&(p+=d[_],l[f>>>1]|=p<<4*(1-f&1),f++)}if(y==1)for(var g=0;g<3;g++){var _=m>>>2*(2-g)&3;_!=2&&(p+=u[_],l[f>>>1]|=p<<4*(1-f&1),f++)}}},r.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},r.decode._lens=function(){var o=function(f,p,v,y){for(var m=0;m<p.length;m++)f[p[m]]=v+m*y},s="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",a="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",l="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",c="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",u="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";s=s.split(","),a=a.split(","),l=l.split(","),c=c.split(","),u=u.split(",");var d={},h={};return o(d,s,0,1),o(d,l,64,64),o(d,u,1792,64),o(h,a,0,1),o(h,c,64,64),o(h,u,1792,64),[d,h]}(),r.decode._decodeG4=function(o,s,a,l,c,u,d){for(var h=r.decode,f=s<<3,p=0,v="",y=[],m=[],g=0;g<u;g++)m.push(0);m=h._makeDiff(m);for(var _=0,w=0,D=0,C=0,S=0,b=0,E=0,I="",M=0,P=Math.ceil(u/8)*8;f>>>3<s+a;){C=h._findDiff(m,_+(_==0?0:1),1-b),S=h._findDiff(m,C,b);var k=0;if(d==1&&(k=o[f>>>3]>>>7-(f&7)&1),d==2&&(k=o[f>>>3]>>>(f&7)&1),f++,v+=k,I=="H"){if(h._lens[b][v]!=null){var A=h._lens[b][v];v="",p+=A,A<64&&(h._addNtimes(y,p,b),_+=p,b=1-b,p=0,M--,M==0&&(I=""))}}else v=="0001"&&(v="",h._addNtimes(y,S-_,b),_=S),v=="001"&&(v="",I="H",M=2),h._dmap[v]!=null&&(w=C+h._dmap[v],h._addNtimes(y,w-_,b),_=w,v="",b=1-b);y.length==u&&I==""&&(h._writeBits(y,l,c*8+E*P),b=0,E++,_=0,m=h._makeDiff(y),y=[])}},r.decode._findDiff=function(o,s,a){for(var l=0;l<o.length;l+=2)if(o[l]>=s&&o[l+1]==a)return o[l]},r.decode._makeDiff=function(o){var s=[];o[0]==1&&s.push(0,1);for(var a=1;a<o.length;a++)o[a-1]!=o[a]&&s.push(a,o[a]);return s.push(o.length,0,o.length,1),s},r.decode._decodeG3=function(o,s,a,l,c,u,d){for(var h=r.decode,f=s<<3,p=0,v="",y=[],m=[],g=0;g<u;g++)y.push(0);for(var _=0,w=0,D=0,C=0,S=0,b=0,E=-1,I="",M=0,P=!1,k=Math.ceil(u/8)*8;f>>>3<s+a;){C=h._findDiff(m,_+(_==0?0:1),1-b),S=h._findDiff(m,C,b);var A=0;if(d==1&&(A=o[f>>>3]>>>7-(f&7)&1),d==2&&(A=o[f>>>3]>>>(f&7)&1),f++,v+=A,P){if(h._lens[b][v]!=null){var U=h._lens[b][v];v="",p+=U,U<64&&(h._addNtimes(y,p,b),b=1-b,p=0)}}else if(I=="H"){if(h._lens[b][v]!=null){var U=h._lens[b][v];v="",p+=U,U<64&&(h._addNtimes(y,p,b),_+=p,b=1-b,p=0,M--,M==0&&(I=""))}}else v=="0001"&&(v="",h._addNtimes(y,S-_,b),_=S),v=="001"&&(v="",I="H",M=2),h._dmap[v]!=null&&(w=C+h._dmap[v],h._addNtimes(y,w-_,b),_=w,v="",b=1-b);v.endsWith("000000000001")&&(E>=0&&h._writeBits(y,l,c*8+E*k),d==1&&(P=(o[f>>>3]>>>7-(f&7)&1)==1),d==2&&(P=(o[f>>>3]>>>(f&7)&1)==1),f++,h._decodeG3.allow2D==null&&(h._decodeG3.allow2D=P),h._decodeG3.allow2D||(P=!0,f--),v="",b=0,E++,_=0,m=h._makeDiff(y),y=[])}y.length==u&&h._writeBits(y,l,c*8+E*k)},r.decode._addNtimes=function(o,s,a){for(var l=0;l<s;l++)o.push(a)},r.decode._writeBits=function(o,s,a){for(var l=0;l<o.length;l++)s[a+l>>>3]|=o[l]<<7-(a+l&7)},r.decode._decodeLZW=function(o,s,a,l){if(r.decode._lzwTab==null){for(var c=new Uint32Array(65535),u=new Uint16Array(65535),v=new Uint8Array(2e6),d=0;d<256;d++)v[d<<2]=d,c[d]=d<<2,u[d]=1;r.decode._lzwTab=[c,u,v]}for(var h=r.decode._copyData,f=r.decode._lzwTab[0],p=r.decode._lzwTab[1],v=r.decode._lzwTab[2],y=258,m=1032,g=9,_=s<<3,w=256,D=257,C=0,S=0,b=0;C=o[_>>>3]<<16|o[_+8>>>3]<<8|o[_+16>>>3],S=C>>24-(_&7)-g&(1<<g)-1,_+=g,S!=D;){if(S==w){if(g=9,y=258,m=1032,C=o[_>>>3]<<16|o[_+8>>>3]<<8|o[_+16>>>3],S=C>>24-(_&7)-g&(1<<g)-1,_+=g,S==D)break;a[l]=S,l++}else if(S<y){var E=f[S],I=p[S];if(h(v,E,a,l,I),l+=I,b>=y)f[y]=m,v[f[y]]=E[0],p[y]=1,m=m+1+3&-4,y++;else{f[y]=m;var M=f[b],P=p[b];h(v,M,v,m,P),v[m+P]=v[E],P++,p[y]=P,y++,m=m+P+3&-4}y+1==1<<g&&g++}else{if(b>=y)f[y]=m,p[y]=0,y++;else{f[y]=m;var M=f[b],P=p[b];h(v,M,v,m,P),v[m+P]=v[m],P++,p[y]=P,y++,h(v,m,a,l,P),l+=P,m=m+P+3&-4}y+1==1<<g&&g++}b=S}},r.decode._copyData=function(o,s,a,l,c){for(var u=0;u<c;u+=4)a[l+u]=o[s+u],a[l+u+1]=o[s+u+1],a[l+u+2]=o[s+u+2],a[l+u+3]=o[s+u+3]},r.tags={},r.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},r._readIFD=function(o,s,a,l,c,u){var d=o.readUshort(s,a);a+=2;var h={};l.push(h),u&&n("   ".repeat(c),l.length-1,">>>----------------");for(var f=0;f<d;f++){var p=o.readUshort(s,a);a+=2;var v=o.readUshort(s,a);a+=2;var y=o.readUint(s,a);a+=4;var m=o.readUint(s,a);a+=4;var g=[];if((v==1||v==7)&&(g=new Uint8Array(s.buffer,y<5?a-4:m,y)),v==2){var _=y<5?a-4:m,w=s[_];w<128?g.push(o.readASCII(s,_,y-1)):g=new Uint8Array(s.buffer,_,y-1)}if(v==3)for(var D=0;D<y;D++)g.push(o.readUshort(s,(y<3?a-4:m)+2*D));if(v==4)for(var D=0;D<y;D++)g.push(o.readUint(s,(y<2?a-4:m)+4*D));if(v==5)for(var D=0;D<y;D++)g.push(o.readUint(s,m+D*8)/o.readUint(s,m+D*8+4));if(v==8)for(var D=0;D<y;D++)g.push(o.readShort(s,(y<3?a-4:m)+2*D));if(v==9)for(var D=0;D<y;D++)g.push(o.readInt(s,(y<2?a-4:m)+4*D));if(v==10)for(var D=0;D<y;D++)g.push(o.readInt(s,m+D*8)/o.readInt(s,m+D*8+4));if(v==11)for(var D=0;D<y;D++)g.push(o.readFloat(s,m+D*4));if(v==12)for(var D=0;D<y;D++)g.push(o.readDouble(s,m+D*8));if(h["t"+p]=g,y!=0&&g.length==0&&n("unknown TIFF tag type: ",v,"num:",y),u&&n("   ".repeat(c),p,v,r.tags[p],g),!(p==330&&h.t272&&h.t272[0]=="DSLR-A100")){if(p==330||p==34665||p==50740&&o.readUshort(s,o.readUint(g,0))<300){for(var C=p==50740?[o.readUint(g,0)]:g,S=[],D=0;D<C.length;D++)r._readIFD(o,s,C[D],S,c+1,u);p==330&&(h.subIFD=S),p==34665&&(h.exifIFD=S[0]),p==50740&&(h.dngPrvt=S[0])}}if(p==37500){var b=g;if(o.readASCII(b,0,5)=="Nikon")h.makerNote=r.decode(b.slice(10).buffer)[0];else if(o.readUshort(s,m)<300){var E=[];r._readIFD(o,s,m,E,c+1,u),h.makerNote=E[0]}}}return u&&n("   ".repeat(c),"<<<---------------"),a},r._writeIFD=function(o,s,a,l){var c=Object.keys(l);o.writeUshort(s,a,c.length),a+=2;for(var u=a+c.length*12+4,d=0;d<c.length;d++){var h=c[d],f=parseInt(h.slice(1)),p=r.ttypes[f];if(p==null)throw new Error("unknown type of tag: "+f);var v=l[h];p==2&&(v=v[0]+"\0");var y=v.length;o.writeUshort(s,a,f),a+=2,o.writeUshort(s,a,p),a+=2,o.writeUint(s,a,y),a+=4;var m=[-1,1,1,2,4,8,0,0,0,0,0,0,8][p]*y,g=a;if(m>4&&(o.writeUint(s,a,u),g=u),p==2&&o.writeASCII(s,g,v),p==3)for(var _=0;_<y;_++)o.writeUshort(s,g+2*_,v[_]);if(p==4)for(var _=0;_<y;_++)o.writeUint(s,g+4*_,v[_]);if(p==5)for(var _=0;_<y;_++)o.writeUint(s,g+8*_,Math.round(v[_]*1e4)),o.writeUint(s,g+8*_+4,1e4);if(p==12)for(var _=0;_<y;_++)o.writeDouble(s,g+8*_,v[_]);m>4&&(m+=m&1,u+=m),a+=4}return[a,u]},r.toRGBA8=function(o){var s=o.width,a=o.height,l=s*a,c=l*4,u=o.data,d=new Uint8Array(l*4),h=o.t262?o.t262[0]:2,f=o.t258?Math.min(32,o.t258[0]):1;if(h==0)for(var p=Math.ceil(f*s/8),v=0;v<a;v++){var y=v*p,m=v*s;if(f==1)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+(g>>3)]>>7-(g&7)&1;d[_]=d[_+1]=d[_+2]=(1-w)*255,d[_+3]=255}if(f==4)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+(g>>1)]>>4-4*(g&1)&15;d[_]=d[_+1]=d[_+2]=(15-w)*17,d[_+3]=255}if(f==8)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+g];d[_]=d[_+1]=d[_+2]=255-w,d[_+3]=255}}else if(h==1)for(var p=Math.ceil(f*s/8),v=0;v<a;v++){var y=v*p,m=v*s;if(f==1)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+(g>>3)]>>7-(g&7)&1;d[_]=d[_+1]=d[_+2]=w*255,d[_+3]=255}if(f==2)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+(g>>2)]>>6-2*(g&3)&3;d[_]=d[_+1]=d[_+2]=w*85,d[_+3]=255}if(f==8)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+g];d[_]=d[_+1]=d[_+2]=w,d[_+3]=255}if(f==16)for(var g=0;g<s;g++){var _=m+g<<2,w=u[y+(2*g+1)];d[_]=d[_+1]=d[_+2]=Math.min(255,w),d[_+3]=255}}else if(h==2){var D=o.t258?o.t258.length:3;if(f==8){if(D==4)for(var g=0;g<c;g++)d[g]=u[g];if(D==3)for(var g=0;g<l;g++){var _=g<<2,C=g*3;d[_]=u[C],d[_+1]=u[C+1],d[_+2]=u[C+2],d[_+3]=255}}else{if(D==4)for(var g=0;g<l;g++){var _=g<<2,C=g*8+1;d[_]=u[C],d[_+1]=u[C+2],d[_+2]=u[C+4],d[_+3]=u[C+6]}if(D==3)for(var g=0;g<l;g++){var _=g<<2,C=g*6+1;d[_]=u[C],d[_+1]=u[C+2],d[_+2]=u[C+4],d[_+3]=255}}}else if(h==3)for(var S=o.t320,g=0;g<l;g++){var _=g<<2,b=u[g];d[_]=S[b]>>8,d[_+1]=S[256+b]>>8,d[_+2]=S[512+b]>>8,d[_+3]=255}else if(h==5)for(var D=o.t258?o.t258.length:4,E=D>4?1:0,g=0;g<l;g++){var _=g<<2,I=g*D,M=255-u[I],P=255-u[I+1],k=255-u[I+2],A=(255-u[I+3])*(1/255);d[_]=~~(M*A+.5),d[_+1]=~~(P*A+.5),d[_+2]=~~(k*A+.5),d[_+3]=255*(1-E)+u[I+4]*E}else n("Unknown Photometric interpretation: "+h);return d},r.replaceIMG=function(o){o==null&&(o=document.getElementsByTagName("img"));for(var s=["tif","tiff","dng","cr2","nef"],a=0;a<o.length;a++){var l=o[a],c=l.getAttribute("src");if(c!=null){var u=c.split(".").pop().toLowerCase();if(s.indexOf(u)!=-1){var d=new XMLHttpRequest;r._xhrs.push(d),r._imgs.push(l),d.open("GET",c),d.responseType="arraybuffer",d.onload=r._imgLoaded,d.send()}}}},r._xhrs=[],r._imgs=[],r._imgLoaded=function(o){var s=o.target.response,a=r.decode(s),l=a,c=0,u=l[0];a[0].subIFD&&(l=l.concat(a[0].subIFD));for(var d=0;d<l.length;d++){var m=l[d];if(!(m.t258==null||m.t258.length<3)){var h=m.t256*m.t257;h>c&&(c=h,u=m)}}r.decodeImage(s,u,a);var f=r.toRGBA8(u),p=u.width,v=u.height,y=r._xhrs.indexOf(o.target),m=r._imgs[y];r._xhrs.splice(y,1),r._imgs.splice(y,1);var g=document.createElement("canvas");g.width=p,g.height=v;for(var _=g.getContext("2d"),w=_.createImageData(p,v),d=0;d<f.length;d++)w.data[d]=f[d];_.putImageData(w,0,0),m.setAttribute("src",g.toDataURL())},r._binBE={nextZero:function(o,s){for(;o[s]!=0;)s++;return s},readUshort:function(o,s){return o[s]<<8|o[s+1]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+1],a[1]=o[s+0],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.ui32[0]},readASCII:function(o,s,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(o[s+c]);return l},readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+3-l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+7-l];return r._binBE.fl64[0]},writeUshort:function(o,s,a){o[s]=a>>8&255,o[s+1]=a&255},writeUint:function(o,s,a){o[s]=a>>24&255,o[s+1]=a>>16&255,o[s+2]=a>>8&255,o[s+3]=a>>0&255},writeASCII:function(o,s,a){for(var l=0;l<a.length;l++)o[s+l]=a.charCodeAt(l)},writeDouble:function(o,s,a){r._binBE.fl64[0]=a;for(var l=0;l<8;l++)o[s+l]=r._binBE.ui8[7-l]}},r._binBE.ui8=new Uint8Array(8),r._binBE.i16=new Int16Array(r._binBE.ui8.buffer),r._binBE.i32=new Int32Array(r._binBE.ui8.buffer),r._binBE.ui32=new Uint32Array(r._binBE.ui8.buffer),r._binBE.fl32=new Float32Array(r._binBE.ui8.buffer),r._binBE.fl64=new Float64Array(r._binBE.ui8.buffer),r._binLE={nextZero:r._binBE.nextZero,readUshort:function(o,s){return o[s+1]<<8|o[s]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.ui32[0]},readASCII:r._binBE.readASCII,readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+l];return r._binBE.fl64[0]}},r._copyTile=function(o,s,a,l,c,u,d,h){for(var f=Math.min(s,c-d),p=Math.min(a,u-h),v=0;v<p;v++)for(var y=(h+v)*c+d,m=v*s,g=0;g<f;g++)l[y+g]=o[m+g]},r.LosslessJpegDecode=function(){function o(c){this.w=c,this.N=0,this._=0,this.G=0}o.prototype={t:function(c){this.N=Math.max(0,Math.min(this.w.length,c))},i:function(){return this.w[this.N++]},l:function(){var c=this.N;return this.N+=2,this.w[c]<<8|this.w[c+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(c){var u=this._,d=this.G,h=Math.min(u,c);c-=h,u-=h;for(var f=d>>>u&(1<<h)-1;c>0;)d=this.w[this.N],this.N+=1+(d+1>>>8),h=Math.min(8,c),c-=h,u=8-h,f<<=h,f|=d>>>u&(1<<h)-1;return this._=u,this.G=d,f}};var s={};s.X=function(){return[0,0,-1]},s.s=function(c,u,d){c[s.Y(c,0,d)+2]=u},s.Y=function(c,u,d){if(c[u+2]!=-1)return 0;if(d==0)return u;for(var h=0;h<2;h++){c[u+h]==0&&(c[u+h]=c.length,c.push(0),c.push(0),c.push(-1));var f=s.Y(c,c[u+h],d-1);if(f!=0)return f}return 0},s.B=function(c,u){for(var d=0,h=0,f=0,p=u._,v=u.G,y=u.N;;)if(p==0&&(v=u.w[y],y+=1+(v+1>>>8),p=8),f=v>>>--p&1,d=c[d+f],h=c[d+2],h!=-1)return u._=p,u.G=v,u.N=y,h;return-1};function a(c){this.z=new o(c),this.D(this.z)}a.prototype={$:function(c,u){this.Q=c.i(),this.F=c.l(),this.o=c.l();var d=this.O=c.i();this.L=[];for(var h=0;h<d;h++){var f=c.i(),p=c.i();c.i(),this.L[f]=h}c.t(c.N+u-(6+d*3))},e:function(){var c=0,u=this.z.i();this.H==null&&(this.H={});for(var d=this.H[u]=s.X(),h=[],f=0;f<16;f++)h[f]=this.z.i(),c+=h[f];for(var f=0;f<16;f++)for(var p=0;p<h[f];p++)s.s(d,this.z.i(),f+1);return c+17},W:function(c){for(;c>0;)c-=this.e()},p:function(c,u){var d=c.i();this.U||(this.U=[]);for(var h=0;h<d;h++){var f=c.i(),p=c.i();this.U[this.L[f]]=this.H[p>>>4]}this.g=c.i(),c.t(c.N+u-(2+d*2))},D:function(c){var u=!1,d=c.l();if(d===a.q)do{var d=c.l(),h=c.l()-2;switch(d){case a.m:this.$(c,h);break;case a.K:this.W(h);break;case a.V:this.p(c,h),u=!0;break;default:c.t(c.N+h);break}}while(!u)},I:function(c,u){var d=s.B(u,c);if(d==16)return-32768;var h=c.Z(d);return(h&1<<d-1)==0&&(h-=(1<<d)-1),h},B:function(c,u){for(var d=this.z,h=this.O,f=this.F,p=this.I,v=this.g,y=this.o*h,m=this.U,g=0;g<h;g++)c[g]=p(d,m[g])+(1<<this.Q-1);for(var _=h;_<y;_+=h)for(var g=0;g<h;g++)c[_+g]=p(d,m[g])+c[_+g-h];for(var w=u,D=1;D<f;D++){for(var g=0;g<h;g++)c[w+g]=p(d,m[g])+c[w+g-u];for(var _=h;_<y;_+=h)for(var g=0;g<h;g++){var C=w+_+g,S=c[C-h];v==6&&(S=c[C-u]+(S-c[C-h-u]>>>1)),c[C]=S+p(d,m[g])}w+=u}}},a.m=65475,a.K=65476,a.q=65496,a.V=65498;function l(c){var u=new a(c),d=u.Q>8?Uint16Array:Uint8Array,h=new d(u.o*u.F*u.O),f=u.o*u.O;return u.B(h,f),h}return l}()})(e,t)})()});var Od;function fl(){return Od}function vn(e){let t=Od;return Od=e,t}var Sm=Symbol("NotFound");function Ji(e){return e===Sm||e?.name==="\u0275NotFound"}function vl(e,t){return Object.is(e,t)}var dt=null,hl=!1,Pd=1,gb=null,ft=Symbol("SIGNAL");function ne(e){let t=dt;return dt=e,t}function yl(){return dt}var Qr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xi(e){if(hl)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(e);let t=dt.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=dt.recomputing;if(r&&(n=t!==void 0?t.nextProducer:dt.producers,n!==void 0&&n.producer===e)){dt.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===dt&&(!r||vb(i,dt)))return;let o=to(dt),s={producer:e,consumer:dt,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};dt.producersTail=s,t!==void 0?t.nextProducer=s:dt.producers=s,o&&xm(e,s)}function Mm(){Pd++}function _l(e){if(!(to(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Pd)){if(!e.producerMustRecompute(e)&&!bs(e)){ml(e);return}e.producerRecomputeValue(e),ml(e)}}function Fd(e){if(e.consumers===void 0)return;let t=hl;hl=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||mb(r)}}finally{hl=t}}function Ld(){return dt?.consumerAllowSignalWrites!==!1}function mb(e){e.dirty=!0,Fd(e),e.consumerMarkedDirty?.(e)}function ml(e){e.dirty=!1,e.lastCleanEpoch=Pd}function Jr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),ne(e)}function eo(e,t){if(ne(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(to(e))do r=Vd(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function bs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(_l(n),r!==n.version))return!0}return!1}function Dl(e){if(to(e)){let t=e.producers;for(;t!==void 0;)t=Vd(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function xm(e,t){let n=e.consumersTail,r=to(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)xm(i.producer,i)}function Vd(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!to(t)){let o=t.producers;for(;o!==void 0;)o=Vd(o)}return n}function to(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function wl(e){gb?.(e)}function vb(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function bl(e,t){let n=Object.create(yb);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(_l(n),Xi(n),n.value===ws)throw n.error;return n.value};return r[ft]=n,wl(n),r}var pl=Symbol("UNSET"),gl=Symbol("COMPUTING"),ws=Symbol("ERRORED"),yb=ae(F({},Qr),{value:pl,dirty:!0,error:null,equal:vl,kind:"computed",producerMustRecompute(e){return e.value===pl||e.value===gl},producerRecomputeValue(e){if(e.value===gl)throw new Error("");let t=e.value;e.value=gl;let n=Jr(e),r,i=!1;try{r=e.computation(),ne(null),i=t!==pl&&t!==ws&&r!==ws&&e.equal(t,r)}catch(o){r=ws,e.error=o}finally{eo(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function _b(){throw new Error}var Tm=_b;function Am(e){Tm(e)}function jd(e){Tm=e}var Db=null;function Bd(e,t){let n=Object.create(Cl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Rm(n);return r[ft]=n,wl(n),[r,s=>no(n,s),s=>Ud(n,s)]}function Rm(e){return Xi(e),e.value}function no(e,t){Ld()||Am(e),e.equal(e.value,t)||(e.value=t,wb(e))}function Ud(e,t){Ld()||Am(e),no(e,t(e.value))}var Cl=ae(F({},Qr),{equal:vl,value:void 0,kind:"signal"});function wb(e){e.version++,Mm(),Fd(e),Db?.(e)}function re(e){return typeof e=="function"}function ro(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var El=ro(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Cs(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ve=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){t=o instanceof El?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Nm(o)}catch(s){t=t??[],s instanceof El?t=[...t,...s.errors]:t.push(s)}}if(t)throw new El(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Nm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Cs(n,t)}remove(t){let{_finalizers:n}=this;n&&Cs(n,t),t instanceof e&&t._removeParent(this)}};Ve.EMPTY=(()=>{let e=new Ve;return e.closed=!0,e})();var Hd=Ve.EMPTY;function Il(e){return e instanceof Ve||e&&"closed"in e&&re(e.remove)&&re(e.add)&&re(e.unsubscribe)}function Nm(e){re(e)?e():e.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var io={setTimeout(e,t,...n){let{delegate:r}=io;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=io;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Sl(e){io.setTimeout(()=>{let{onUnhandledError:t}=tn;if(t)t(e);else throw e})}function Es(){}var km=$d("C",void 0,void 0);function Om(e){return $d("E",void 0,e)}function Pm(e){return $d("N",e,void 0)}function $d(e,t,n){return{kind:e,value:t,error:n}}var Xr=null;function oo(e){if(tn.useDeprecatedSynchronousErrorHandling){let t=!Xr;if(t&&(Xr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else e()}function Fm(e){tn.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=e)}var ei=class extends Ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Il(t)&&t.add(this)):this.destination=Eb}static create(t,n,r){return new so(t,n,r)}next(t){this.isStopped?Gd(Pm(t),this):this._next(t)}error(t){this.isStopped?Gd(Om(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Gd(km,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bb=Function.prototype.bind;function zd(e,t){return bb.call(e,t)}var Wd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ml(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ml(r)}else Ml(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ml(n)}}},so=class extends ei{constructor(t,n,r){super();let i;if(re(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&zd(t.next,o),error:t.error&&zd(t.error,o),complete:t.complete&&zd(t.complete,o)}):i=t}this.destination=new Wd(i)}};function Ml(e){tn.useDeprecatedSynchronousErrorHandling?Fm(e):Sl(e)}function Cb(e){throw e}function Gd(e,t){let{onStoppedNotification:n}=tn;n&&io.setTimeout(()=>n(e,t))}var Eb={closed:!0,next:Es,error:Cb,complete:Es};var ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(e){return e}function qd(...e){return Zd(e)}function Zd(e){return e.length===0?St:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var de=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Sb(n)?n:new so(n,r,i);return oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lm(r),new r((i,o)=>{let s=new so({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ao](){return this}pipe(...n){return Zd(n)(this)}toPromise(n){return n=Lm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Lm(e){var t;return(t=e??tn.Promise)!==null&&t!==void 0?t:Promise}function Ib(e){return e&&re(e.next)&&re(e.error)&&re(e.complete)}function Sb(e){return e&&e instanceof ei||Ib(e)&&Il(e)}function Yd(e){return re(e?.lift)}function he(e){return t=>{if(Yd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(e,t,n,r,i){return new Kd(e,t,n,r,i)}var Kd=class extends ei{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function lo(){return he((e,t)=>{let n=null;e._refCount++;let r=ce(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var co=class extends de{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ve;let n=this.getSubject();t.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ve.EMPTY)}return t}refCount(){return lo()(this)}};var Vm=ro(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class e extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vm}next(n){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hd:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,Cs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return e.create=(t,n)=>new xl(t,n),e})(),xl=class extends ke{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Hd}};var ot=class extends ke{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var wt=new de(e=>e.complete());function jm(e){return e&&re(e.schedule)}function Bm(e){return e[e.length-1]}function Tl(e){return re(Bm(e))?e.pop():void 0}function mr(e){return jm(Bm(e))?e.pop():void 0}function Hm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Um(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(e){return this instanceof ti?(this.v=e,this):new ti(e)}function $m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(v){return new Promise(function(y,m){o.push([f,v,y,m])>1||l(f,v)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(v){h(o[0][3],v)}}function c(f){f.value instanceof ti?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function zm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Um=="function"?Um(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Al=e=>e&&typeof e.length=="number"&&typeof e!="function";function Rl(e){return re(e?.then)}function Nl(e){return re(e[ao])}function kl(e){return Symbol.asyncIterator&&re(e?.[Symbol.asyncIterator])}function Ol(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pl=Mb();function Fl(e){return re(e?.[Pl])}function Ll(e){return $m(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield ti(n.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{n.releaseLock()}})}function Vl(e){return re(e?.getReader)}function je(e){if(e instanceof de)return e;if(e!=null){if(Nl(e))return xb(e);if(Al(e))return Tb(e);if(Rl(e))return Ab(e);if(kl(e))return Gm(e);if(Fl(e))return Rb(e);if(Vl(e))return Nb(e)}throw Ol(e)}function xb(e){return new de(t=>{let n=e[ao]();if(re(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tb(e){return new de(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ab(e){return new de(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Sl)})}function Rb(e){return new de(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Gm(e){return new de(t=>{kb(e,t).catch(n=>t.error(n))})}function Nb(e){return Gm(Ll(e))}function kb(e,t){var n,r,i,o;return Hm(this,void 0,void 0,function*(){try{for(n=zm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function bt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function jl(e,t=0){return he((n,r)=>{n.subscribe(ce(r,i=>bt(r,e,()=>r.next(i),t),()=>bt(r,e,()=>r.complete(),t),i=>bt(r,e,()=>r.error(i),t)))})}function Bl(e,t=0){return he((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Wm(e,t){return je(e).pipe(Bl(t),jl(t))}function qm(e,t){return je(e).pipe(Bl(t),jl(t))}function Zm(e,t){return new de(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Ym(e,t){return new de(n=>{let r;return bt(n,t,()=>{r=e[Pl](),bt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Ul(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(n=>{bt(n,t,()=>{let r=e[Symbol.asyncIterator]();bt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Km(e,t){return Ul(Ll(e),t)}function Qm(e,t){if(e!=null){if(Nl(e))return Wm(e,t);if(Al(e))return Zm(e,t);if(Rl(e))return qm(e,t);if(kl(e))return Ul(e,t);if(Fl(e))return Ym(e,t);if(Vl(e))return Km(e,t)}throw Ol(e)}function Se(e,t){return t?Qm(e,t):je(e)}function Q(...e){let t=mr(e);return Se(e,t)}function uo(e,t){let n=re(e)?e:()=>e,r=i=>i.error(n());return new de(t?i=>t.schedule(r,0,i):r)}function Qd(e){return!!e&&(e instanceof de||re(e.lift)&&re(e.subscribe))}var $n=ro(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(e,t){return he((n,r)=>{let i=0;n.subscribe(ce(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:Ob}=Array;function Pb(e,t){return Ob(t)?e(...t):e(t)}function Hl(e){return ue(t=>Pb(e,t))}var{isArray:Fb}=Array,{getPrototypeOf:Lb,prototype:Vb,keys:jb}=Object;function $l(e){if(e.length===1){let t=e[0];if(Fb(t))return{args:t,keys:null};if(Bb(t)){let n=jb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Bb(e){return e&&typeof e=="object"&&Lb(e)===Vb}function zl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Gl(...e){let t=mr(e),n=Tl(e),{args:r,keys:i}=$l(e);if(r.length===0)return Se([],t);let o=new de(Ub(r,t,i?s=>zl(i,s):St));return n?o.pipe(Hl(n)):o}function Ub(e,t,n=St){return r=>{Jm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Jm(t,()=>{let c=Se(e[l],t),u=!1;c.subscribe(ce(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Jm(e,t,n){e?bt(n,e,t):t()}function Xm(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=v=>c<r?p(v):l.push(v),p=v=>{o&&t.next(v),c++;let y=!1;je(n(v,u++)).subscribe(ce(t,m=>{i?.(m),o?f(m):t.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let m=l.shift();s?bt(t,s,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(ce(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Be(e,t,n=1/0){return re(t)?Be((r,i)=>ue((o,s)=>t(r,o,i,s))(je(e(r,i))),n):(typeof t=="number"&&(n=t),he((r,i)=>Xm(r,i,e,n)))}function fo(e=1/0){return Be(St,e)}function e0(){return fo(1)}function ho(...e){return e0()(Se(e,mr(e)))}function Is(e){return new de(t=>{je(e()).subscribe(t)})}function Jd(...e){let t=Tl(e),{args:n,keys:r}=$l(e),i=new de(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;je(n[u]).subscribe(ce(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?zl(r,a):a),o.complete())}))}});return t?i.pipe(Hl(t)):i}function Mt(e,t){return he((n,r)=>{let i=0;n.subscribe(ce(r,o=>e.call(t,o,i++)&&r.next(o)))})}function zn(e){return he((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ce(n,void 0,void 0,s=>{o=je(e(s,zn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function t0(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(ce(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ni(e,t){return re(t)?Be(e,t,1):Be(e,1)}function vr(e){return he((t,n)=>{let r=!1;t.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Gn(e){return e<=0?()=>wt:he((t,n)=>{let r=0;t.subscribe(ce(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Wl(e=Hb){return he((t,n)=>{let r=!1;t.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Hb(){return new $n}function Ss(e){return he((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Wn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Mt((i,o)=>e(i,o,r)):St,Gn(1),n?vr(t):Wl(()=>new $n))}function po(e){return e<=0?()=>wt:he((t,n)=>{let r=[];t.subscribe(ce(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Mt((i,o)=>e(i,o,r)):St,po(1),n?vr(t):Wl(()=>new $n))}function ef(e,t){return he(t0(e,t,arguments.length>=2,!0))}function tf(...e){let t=mr(e);return he((n,r)=>{(t?ho(e,n,t):ho(e,n)).subscribe(r)})}function Vt(e,t){return he((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ce(r,l=>{i?.unsubscribe();let c=0,u=o++;je(e(l,u)).subscribe(i=ce(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ql(e){return he((t,n)=>{je(e).subscribe(ce(n,()=>n.complete(),Es)),!n.closed&&t.subscribe(n)})}function Ze(e,t,n){let r=re(e)||t||n?{next:e,error:t,complete:n}:e;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):St}function n0(e){let t=ne(null);try{return e()}finally{ne(t)}}var Jl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(t,n){super(Rs(t,n)),this.code=t}};function $b(e){return`NG0${Math.abs(e)}`}function Rs(e,t){return`${$b(e)}${t?": "+t:""}`}var Yn=globalThis;function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("")}function o0(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Zn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Zn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function pf(e,t){return e?t?`${e} ${t}`:e:t||""}var zb=ye({__forward_ref__:ye});function Dr(e){return e.__forward_ref__=Dr,e.toString=function(){return Zn(this())},e}function st(e){return gf(e)?e():e}function gf(e){return typeof e=="function"&&e.hasOwnProperty(zb)&&e.__forward_ref__===Dr}function s0(e,t){e==null&&mf(t,e,null,"!=")}function mf(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function G(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ns(e){return Gb(e,Xl)}function vf(e){return Ns(e)!==null}function Gb(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Wb(e){let t=e?.[Xl]??null;return t||null}function rf(e){return e&&e.hasOwnProperty(Yl)?e[Yl]:null}var Xl=ye({\u0275prov:ye}),Yl=ye({\u0275inj:ye}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yf(e){return e&&!!e.\u0275providers}var _f=ye({\u0275cmp:ye}),Df=ye({\u0275dir:ye}),wf=ye({\u0275pipe:ye}),bf=ye({\u0275mod:ye}),Ts=ye({\u0275fac:ye}),li=ye({__NG_ELEMENT_ID__:ye}),r0=ye({__NG_ENV_ID__:ye});function ci(e){return typeof e=="string"?e:e==null?"":String(e)}function Kl(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ci(e)}var Cf=ye({ngErrorCode:ye}),a0=ye({ngErrorMessage:ye}),xs=ye({ngTokenPath:ye});function Ef(e,t){return l0("",-200,t)}function ec(e,t){throw new $(-201,!1)}function qb(e,t){e[xs]??=[];let n=e[xs],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(s0(t.provide,"Token with multi: true should have a provide property"),r=Kl(t.provide)):r=Kl(t),n[0]!==r&&e[xs].unshift(r)}function Zb(e,t){let n=e[xs],r=e[Cf],i=e[a0]||e.message;return e.message=Kb(i,r,n,t),e}function l0(e,t,n){let r=new $(t,e);return r[Cf]=t,r[a0]=e,n&&(r[xs]=n),r}function Yb(e){return e[Cf]}function Kb(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Rs(t,`${e}${o}${i}`)}var of;function c0(){return of}function pt(e){let t=of;return of=e,t}function If(e,t,n){let r=Ns(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;ec(e,"Injector")}var Qb={},ri=Qb,Jb="__NG_DI_FLAG__",sf=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ii(n)||0;try{return this.injector.get(t,r&8?null:ri,r)}catch(i){if(Ji(i))return i;throw i}}};function Xb(e,t=0){let n=fl();if(n===void 0)throw new $(-203,!1);if(n===null)return If(e,void 0,t);{let r=eC(t),i=n.retrieve(e,r);if(Ji(i)){if(r.optional)return null;throw i}return i}}function X(e,t=0){return(c0()||Xb)(st(e),t)}function O(e,t){return X(e,ii(t))}function ii(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function eC(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function af(e){let t=[];for(let n=0;n<e.length;n++){let r=st(e[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=tC(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(X(i,o))}else t.push(X(r))}return t}function tC(e){return e[Jb]}function yr(e,t){let n=e.hasOwnProperty(Ts);return n?e[Ts]:null}function u0(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function d0(e){return e.flat(Number.POSITIVE_INFINITY)}function tc(e,t){e.forEach(n=>Array.isArray(n)?tc(n,t):t(n))}function Sf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ks(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function f0(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function h0(e,t,n){let r=mo(e,t);return r>=0?e[r|1]=n:(r=~r,f0(e,r,t,n)),r}function nc(e,t){let n=mo(e,t);if(n>=0)return e[n|1]}function mo(e,t){return nC(e,t,1)}function nC(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var wr={},xt=[],br=new z(""),Mf=new z("",-1),xf=new z(""),As=class{get(t,n=ri){if(n===ri){let i=l0("",-201);throw i.name="\u0275NotFound",i}return n}};function Tf(e){return e[bf]||null}function Cr(e){return e[_f]||null}function Af(e){return e[Df]||null}function p0(e){return e[wf]||null}function rc(e){return{\u0275providers:e}}function g0(...e){return{\u0275providers:Rf(!0,e),\u0275fromNgModule:!0}}function Rf(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return tc(t,s=>{let a=s;Ql(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&m0(i,o),n}function m0(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Nf(i,o=>{t(o,r)})}}function Ql(e,t,n,r){if(e=st(e),!e)return!1;let i=null,o=rf(e),s=!o&&Cr(e);if(!o&&!s){let l=e.ngModule;if(o=rf(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ql(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{tc(o.imports,u=>{Ql(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&m0(c,t)}if(!a){let c=yr(i)||(()=>new i);t({provide:i,useFactory:c,deps:xt},i),t({provide:xf,useValue:i,multi:!0},i),t({provide:br,useValue:()=>X(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Nf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Nf(e,t){for(let n of e)yf(n)&&(n=n.\u0275providers),Array.isArray(n)?Nf(n,t):t(n)}var rC=ye({provide:String,useValue:ye});function v0(e){return e!==null&&typeof e=="object"&&rC in e}function iC(e){return!!(e&&e.useExisting)}function oC(e){return!!(e&&e.useFactory)}function oi(e){return typeof e=="function"}function y0(e){return!!e.useClass}var Os=new z(""),Zl={},i0={},nf;function Ps(){return nf===void 0&&(nf=new As),nf}var Ye=class{},si=class extends Ye{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,cf(t,s=>this.processProvider(s)),this.records.set(Mf,go(void 0,this)),i.has("environment")&&this.records.set(Ye,go(void 0,this));let o=this.records.get(Os);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xf,xt,{self:!0}))}retrieve(t,n){let r=ii(n)||0;try{return this.get(t,ri,r)}catch(i){if(Ji(i))return i;throw i}}destroy(){Ms(this),this._destroyed=!0;let t=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(t)}}onDestroy(t){return Ms(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ms(this);let n=vn(this),r=pt(void 0),i;try{return t()}finally{vn(n),pt(r)}}get(t,n=ri,r){if(Ms(this),t.hasOwnProperty(r0))return t[r0](this);let i=ii(r),o,s=vn(this),a=pt(void 0);try{if(!(i&4)){let c=this.records.get(t);if(c===void 0){let u=uC(t)&&Ns(t);u&&this.injectableDefInScope(u)?c=go(lf(t),Zl):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,i)}let l=i&2?Ps():this.parent;return n=i&8&&n===ri?null:n,l.get(t,n)}catch(l){let c=Yb(l);throw c===-200||c===-201?new $(c,null):l}finally{pt(a),vn(s)}}resolveInjectorInitializers(){let t=ne(null),n=vn(this),r=pt(void 0),i;try{let o=this.get(br,xt,{self:!0});for(let s of o)s()}finally{vn(n),pt(r),ne(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Zn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=st(t);let n=oi(t)?t:st(t&&t.provide),r=aC(t);if(!oi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=go(void 0,Zl,!0),i.factory=()=>af(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=ne(null);try{if(n.value===i0)throw Ef(Zn(t));return n.value===Zl&&(n.value=i0,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&cC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=st(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lf(e){let t=Ns(e),n=t!==null?t.factory:yr(e);if(n!==null)return n;if(e instanceof z)throw new $(204,!1);if(e instanceof Function)return sC(e);throw new $(204,!1)}function sC(e){if(e.length>0)throw new $(204,!1);let n=Wb(e);return n!==null?()=>n.factory(e):()=>new e}function aC(e){if(v0(e))return go(void 0,e.useValue);{let t=kf(e);return go(t,Zl)}}function kf(e,t,n){let r;if(oi(e)){let i=st(e);return yr(i)||lf(i)}else if(v0(e))r=()=>st(e.useValue);else if(oC(e))r=()=>e.useFactory(...af(e.deps||[]));else if(iC(e))r=(i,o)=>X(st(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=st(e&&(e.useClass||e.provide));if(lC(e))r=()=>new i(...af(e.deps));else return yr(i)||lf(i)}return r}function Ms(e){if(e.destroyed)throw new $(205,!1)}function go(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function lC(e){return!!e.deps}function cC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function uC(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function cf(e,t){for(let n of e)Array.isArray(n)?cf(n,t):n&&yf(n)?cf(n.\u0275providers,t):t(n)}function gt(e,t){let n;e instanceof si?(Ms(e),n=e):n=new sf(e);let r,i=vn(n),o=pt(void 0);try{return t()}finally{vn(i),pt(o)}}function _0(){return c0()!==void 0||fl()!=null}var rn=0,q=1,ee=2,Ke=3,Bt=4,Ut=5,Fs=6,vo=7,at=8,ui=9,_n=10,Ee=11,yo=12,Of=13,di=14,Ht=15,Er=16,fi=17,Dn=18,Ls=19,Pf=20,qn=21,ic=22,Vs=23,Tt=24,oc=25,We=26,D0=1;var Ir=7,js=8,hi=9,ht=10;function wn(e){return Array.isArray(e)&&typeof e[D0]=="object"}function on(e){return Array.isArray(e)&&e[D0]===!0}function Ff(e){return(e.flags&4)!==0}function Sr(e){return e.componentOffset>-1}function Bs(e){return(e.flags&1)===1}function bn(e){return!!e.template}function _o(e){return(e[ee]&512)!==0}function pi(e){return(e[ee]&256)===256}var Lf="svg",w0="math";function $t(e){for(;Array.isArray(e);)e=e[rn];return e}function Vf(e,t){return $t(t[e])}function sn(e,t){return $t(t[e.index])}function Us(e,t){return e.data[t]}function b0(e,t){return e[t]}function jf(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function zt(e,t){let n=t[e];return wn(n)?n:n[rn]}function C0(e){return(e[ee]&4)===4}function sc(e){return(e[ee]&128)===128}function E0(e){return on(e[Ke])}function Cn(e,t){return t==null?null:e[t]}function Bf(e){e[fi]=0}function Uf(e){e[ee]&1024||(e[ee]|=1024,sc(e)&&$s(e))}function I0(e,t){for(;e>0;)t=t[di],e--;return t}function Hs(e){return!!(e[ee]&9216||e[Tt]?.dirty)}function ac(e){e[_n].changeDetectionScheduler?.notify(8),e[ee]&64&&(e[ee]|=1024),Hs(e)&&$s(e)}function $s(e){e[_n].changeDetectionScheduler?.notify(0);let t=_r(e);for(;t!==null&&!(t[ee]&8192||(t[ee]|=8192,!sc(t)));)t=_r(t)}function Hf(e,t){if(pi(e))throw new $(911,!1);e[qn]===null&&(e[qn]=[]),e[qn].push(t)}function S0(e,t){if(e[qn]===null)return;let n=e[qn].indexOf(t);n!==-1&&e[qn].splice(n,1)}function _r(e){let t=e[Ke];return on(t)?t[Ke]:t}function $f(e){return e[vo]??=[]}function zf(e){return e.cleanup??=[]}function M0(e,t,n,r){let i=$f(t);i.push(n),e.firstCreatePass&&zf(e).push(r,i.length-1)}var oe={lFrame:U0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},zs=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(zs||{}),dC=0,uf=!1;function x0(){return oe.lFrame.elementDepthCount}function T0(){oe.lFrame.elementDepthCount++}function Gf(){oe.lFrame.elementDepthCount--}function Wf(){return oe.bindingsEnabled}function A0(){return oe.skipHydrationRootTNode!==null}function qf(e){return oe.skipHydrationRootTNode===e}function Zf(){oe.skipHydrationRootTNode=null}function se(){return oe.lFrame.lView}function Oe(){return oe.lFrame.tView}function be(e){return oe.lFrame.contextLView=e,e[at]}function Ce(e){return oe.lFrame.contextLView=null,e}function Qe(){let e=Yf();for(;e!==null&&e.type===64;)e=e.parent;return e}function Yf(){return oe.lFrame.currentTNode}function R0(){let e=oe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Do(e,t){let n=oe.lFrame;n.currentTNode=e,n.isParent=t}function Kf(){return oe.lFrame.isParent}function N0(){oe.lFrame.isParent=!1}function Qf(e){mf("Must never be called in production mode"),dC=e}function Jf(){return uf}function Xf(e){let t=uf;return uf=e,t}function k0(){let e=oe.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function O0(){return oe.lFrame.bindingIndex}function P0(e){return oe.lFrame.bindingIndex=e}function gi(){return oe.lFrame.bindingIndex++}function eh(e){let t=oe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function F0(){return oe.lFrame.inI18n}function L0(e,t){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=e,lc(t)}function V0(){return oe.lFrame.currentDirectiveIndex}function lc(e){oe.lFrame.currentDirectiveIndex=e}function j0(e){let t=oe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function th(){return oe.lFrame.currentQueryIndex}function cc(e){oe.lFrame.currentQueryIndex=e}function fC(e){let t=e[q];return t.type===2?t.declTNode:t.type===1?e[Ut]:null}function nh(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=fC(o),i===null||(o=o[di],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=oe.lFrame=B0();return r.currentTNode=t,r.lView=e,!0}function uc(e){let t=B0(),n=e[q];oe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function B0(){let e=oe.lFrame,t=e===null?null:e.child;return t===null?U0(e):t}function U0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function H0(){let e=oe.lFrame;return oe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var rh=H0;function dc(){let e=H0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $0(e){return(oe.lFrame.contextLView=I0(e,oe.lFrame.contextLView))[at]}function Mr(){return oe.lFrame.selectedIndex}function xr(e){oe.lFrame.selectedIndex=e}function Gs(){let e=oe.lFrame;return Us(e.tView,e.selectedIndex)}function Tr(){oe.lFrame.currentNamespace=Lf}function wo(){hC()}function hC(){oe.lFrame.currentNamespace=null}function z0(){return oe.lFrame.currentNamespace}var G0=!0;function fc(){return G0}function hc(e){G0=e}function df(e,t=null,n=null,r){let i=ih(e,t,n,r);return i.resolveInjectorInitializers(),i}function ih(e,t=null,n=null,r,i=new Set){let o=[n||xt,g0(e)];return r=r||(typeof e=="object"?void 0:Zn(e)),new si(o,t||Ps(),r||null,i)}var nn=class e{static THROW_IF_NOT_FOUND=ri;static NULL=new As;static create(t,n){if(Array.isArray(t))return df({name:""},n,t,"");{let r=t.name??"";return df({name:r},t.parent,t.providers,r)}}static \u0275prov=G({token:e,providedIn:"any",factory:()=>X(Mf)});static __NG_ELEMENT_ID__=-1},lt=new z(""),mi=(()=>{class e{static __NG_ELEMENT_ID__=pC;static __NG_ENV_ID__=n=>n}return e})(),ff=class extends mi{_lView;constructor(t){super(),this._lView=t}get destroyed(){return pi(this._lView)}onDestroy(t){let n=this._lView;return Hf(n,t),()=>S0(n,t)}};function pC(){return new ff(se())}var yn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},At=new z("",{providedIn:"root",factory:()=>{let e=O(Ye),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(yn),t.handleError(n))}}}),W0={provide:br,useValue:()=>void O(yn),multi:!0};function oh(e){return typeof e=="function"&&e[ft]!==void 0}function En(e,t){let[n,r,i]=Bd(e,t?.equal),o=n,s=o[ft];return o.set=r,o.update=i,o.asReadonly=q0.bind(o),o}function q0(){let e=this[ft];if(e.readonlyFn===void 0){let t=()=>this();t[ft]=e,e.readonlyFn=t}return e.readonlyFn}function sh(e){return oh(e)&&typeof e.set=="function"}var ai=class{},pc=new z("",{providedIn:"root",factory:()=>!1});var ah=new z(""),lh=new z("");var Kn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new de(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ws(...e){}var ch=(()=>{class e{static \u0275prov=G({token:e,providedIn:"root",factory:()=>new hf})}return e})(),hf=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Xs(e){return{toString:e}.toString()}function bC(e){return typeof e=="function"}var bc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ev(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Mn=(()=>{let e=()=>Iv;return e.ngInherit=!0,e})();function Iv(e){return e.type.prototype.ngOnChanges&&(e.setInput=EC),CC}function CC(){let e=Mv(this),t=e?.current;if(t){let n=e.previous;if(n===wr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function EC(e,t,n,r,i){let o=this.declaredInputs[r],s=Mv(e)||IC(e,{previous:wr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new bc(c&&c.currentValue,n,l===wr),Ev(e,t,i,n)}var Sv="__ngSimpleChanges__";function Mv(e){return e[Sv]||null}function IC(e,t){return e[Sv]=t}var Z0=[];var _e=function(e,t=null,n){for(let r=0;r<Z0.length;r++){let i=Z0[r];i(e,t,n)}};function SC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Iv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function xv(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function vc(e,t,n){Tv(e,t,3,n)}function yc(e,t,n,r){(e[ee]&3)===n&&Tv(e,t,n,r)}function uh(e,t){let n=e[ee];(n&3)===t&&(n&=16383,n+=1,e[ee]=n)}function Tv(e,t,n,r){let i=r!==void 0?e[fi]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[fi]+=65536),(a<o||o==-1)&&(MC(e,n,t,l),e[fi]=(e[fi]&4294901760)+l+2),l++}function Y0(e,t){_e(4,e,t);let n=ne(null);try{t.call(e)}finally{ne(n),_e(5,e,t)}}function MC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[ee]>>14<e[fi]>>16&&(e[ee]&3)===t&&(e[ee]+=16384,Y0(a,o)):Y0(a,o)}var Co=-1,_i=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function xC(e){return(e.flags&8)!==0}function TC(e){return(e.flags&16)!==0}function AC(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];RC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Av(e){return e===3||e===4||e===6}function RC(e){return e.charCodeAt(0)===64}function Eo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?K0(e,n,i,null,t[++r]):K0(e,n,i,null,null))}}return e}function K0(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Rv(e){return e!==Co}function Cc(e){return e&32767}function NC(e){return e>>16}function Ec(e,t){let n=NC(e),r=t;for(;n>0;)r=r[di],n--;return r}var Dh=!0;function Ic(e){let t=Dh;return Dh=e,t}var kC=256,Nv=kC-1,kv=5,OC=0,In={};function PC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(li)&&(r=n[li]),r==null&&(r=n[li]=OC++);let i=r&Nv,o=1<<i;t.data[e+(i>>kv)]|=o}function Sc(e,t){let n=Ov(e,t);if(n!==-1)return n;let r=t[q];r.firstCreatePass&&(e.injectorIndex=t.length,dh(r.data,e),dh(t,null),dh(r.blueprint,null));let i=zh(e,t),o=e.injectorIndex;if(Rv(i)){let s=Cc(i),a=Ec(i,t),l=a[q].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function dh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ov(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function zh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=jv(i),r===null)return Co;if(n++,i=i[di],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Co}function wh(e,t,n){PC(e,t,n)}function FC(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Av(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Pv(e,t,n){if(n&8||e!==void 0)return e;ec(t,"NodeInjector")}function Fv(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[ui],o=pt(void 0);try{return i?i.get(t,r,n&8):If(t,r,n&8)}finally{pt(o)}}return Pv(r,t,n)}function Lv(e,t,n,r=0,i){if(e!==null){if(t[ee]&2048&&!(r&2)){let s=BC(e,t,n,r,In);if(s!==In)return s}let o=Vv(e,t,n,r,In);if(o!==In)return o}return Fv(t,n,r,i)}function Vv(e,t,n,r,i){let o=VC(n);if(typeof o=="function"){if(!nh(t,e,r))return r&1?Pv(i,n,r):Fv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ec(n);else return s}finally{rh()}}else if(typeof o=="number"){let s=null,a=Ov(e,t),l=Co,c=r&1?t[Ht][Ut]:null;for((a===-1||r&4)&&(l=a===-1?zh(e,t):t[a+8],l===Co||!J0(r,!1)?a=-1:(s=t[q],a=Cc(l),t=Ec(l,t)));a!==-1;){let u=t[q];if(Q0(o,a,u.data)){let d=LC(a,t,n,s,r,c);if(d!==In)return d}l=t[a+8],l!==Co&&J0(r,t[q].data[a+8]===c)&&Q0(o,a,t)?(s=u,a=Cc(l),t=Ec(l,t)):a=-1}}return i}function LC(e,t,n,r,i,o){let s=t[q],a=s.data[e+8],l=r==null?Sr(a)&&Dh:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=_c(a,s,n,l,c);return u!==null?Ys(t,s,u,a,i):In}function _c(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=s[l];if(f&&bn(f)&&f.type===n)return l}return null}function Ys(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof _i){let a=o;if(a.resolving){let f=Kl(s[n]);throw Ef(f)}let l=Ic(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],u,d=a.injectImpl?pt(a.injectImpl):null,h=nh(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&SC(n,s[n],t)}finally{d!==null&&pt(d),Ic(l),a.resolving=!1,rh()}}return o}function VC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(li)?e[li]:void 0;return typeof t=="number"?t>=0?t&Nv:jC:t}function Q0(e,t,n){let r=1<<e;return!!(n[t+(e>>kv)]&r)}function J0(e,t){return!(e&2)&&!(e&1&&t)}var yi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Lv(this._tNode,this._lView,t,ii(r),n)}};function jC(){return new yi(Qe(),se())}function Ei(e){return Xs(()=>{let t=e.prototype.constructor,n=t[Ts]||bh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||bh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bh(e){return gf(e)?()=>{let t=bh(st(e));return t&&t()}:yr(e)}function BC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ee]&2048&&!_o(s);){let a=Vv(o,s,n,r|2,In);if(a!==In)return a;let l=o.parent;if(!l){let c=s[Pf];if(c){let u=c.get(n,In,r);if(u!==In)return u}l=jv(s),s=s[di]}o=l}return i}function jv(e){let t=e[q],n=t.type;return n===2?t.declTNode:n===1?e[Ut]:null}function ea(e){return FC(Qe(),e)}function UC(){return xo(Qe(),se())}function xo(e,t){return new Gt(sn(e,t))}var Gt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=UC}return e})();function HC(e){return e instanceof Gt?e.nativeElement:e}function $C(){return this._results[Symbol.iterator]()}var Mc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ke}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=d0(t);(this._changesDetected=!u0(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=$C};function Bv(e){return(e.flags&128)===128}var Gh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Gh||{}),Uv=new Map,zC=0;function GC(){return zC++}function WC(e){Uv.set(e[Ls],e)}function Ch(e){Uv.delete(e[Ls])}var X0="__ngContext__";function Io(e,t){wn(t)?(e[X0]=t[Ls],WC(t)):e[X0]=t}function Hv(e){return zv(e[yo])}function $v(e){return zv(e[Bt])}function zv(e){for(;e!==null&&!on(e);)e=e[Bt];return e}var Eh;function Wh(e){Eh=e}function Gv(){if(Eh!==void 0)return Eh;if(typeof document<"u")return document;throw new $(210,!1)}var Uc=new z("",{providedIn:"root",factory:()=>qC}),qC="ng",Hc=new z(""),To=new z("",{providedIn:"platform",factory:()=>"unknown"});var $c=new z("",{providedIn:"root",factory:()=>Gv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZC="h",YC="b";var Wv=!1,qv=new z("",{providedIn:"root",factory:()=>Wv});var KC=(e,t,n,r)=>{};function QC(e,t,n,r){KC(e,t,n,r)}function qh(e){return(e.flags&32)===32}var JC=()=>null;function Zv(e,t,n=!1){return JC(e,t,n)}function Yv(e,t){let n=e.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];cc(o),a.contentQueries(2,t[s],s)}}}finally{ne(r)}}}function Ih(e,t,n){cc(0);let r=ne(null);try{t(e,n)}finally{ne(r)}}function Kv(e,t,n){if(Ff(t)){let r=ne(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{ne(r)}}}var Qn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Qn||{});var gc;function XC(){if(gc===void 0&&(gc=null,Yn.trustedTypes))try{gc=Yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return gc}function ev(e){return XC()?.createScriptURL(e)||e}var xc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jl})`}};function zc(e){return e instanceof xc?e.changingThisBreaksApplicationSecurity:e}function Zh(e,t){let n=Qv(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Jl})`)}return n===t}function Qv(e){return e instanceof xc&&e.getTypeName()||null}var eE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jv(e){return e=String(e),e.match(eE)?e:"unsafe:"+e}var Gc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Gc||{});function xn(e){let t=ey();return t?t.sanitize(Gc.URL,e)||"":Zh(e,"URL")?zc(e):Jv(ci(e))}function Xv(e){let t=ey();if(t)return ev(t.sanitize(Gc.RESOURCE_URL,e)||"");if(Zh(e,"ResourceURL"))return ev(zc(e));throw new $(904,!1)}function tE(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Xv:xn}function Yh(e,t,n){return tE(t,n)(e)}function ey(){let e=se();return e&&e[_n].sanitizer}function ty(e){return e instanceof Function?e():e}function nE(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var ny="ng-template";function rE(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&nE(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Kh(e){return e.type===4&&e.value!==ny}function iE(e,t,n){let r=e.type===4&&!n?ny:e.value;return t===r}function oE(e,t,n){let r=4,i=e.attrs,o=i!==null?lE(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!an(r)&&!an(l))return!1;if(s&&an(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!iE(e,l,n)||l===""&&t.length===1){if(an(r))return!1;s=!0}}else if(r&8){if(i===null||!rE(e,i,l,n)){if(an(r))return!1;s=!0}}else{let c=t[++a],u=sE(l,i,Kh(e),n);if(u===-1){if(an(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(an(r))return!1;s=!0}}}}return an(r)||s}function an(e){return(e&1)===0}function sE(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cE(t,e)}function aE(e,t,n=!1){for(let r=0;r<t.length;r++)if(oE(e,t[r],n))return!0;return!1}function lE(e){for(let t=0;t<e.length;t++){let n=e[t];if(Av(n))return t}return e.length}function cE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function tv(e,t){return e?":not("+t.trim()+")":t}function uE(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!an(s)&&(t+=tv(o,i),i=""),r=s,o=o||!an(r);n++}return i!==""&&(t+=tv(o,i)),t}function dE(e){return e.map(uE).join(",")}function fE(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!an(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Wt={};function hE(e,t){return e.createText(t)}function pE(e,t,n){e.setValue(t,n)}function ry(e,t,n){return e.createElement(t,n)}function Tc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function iy(e,t,n){e.appendChild(t,n)}function nv(e,t,n,r,i){r!==null?Tc(e,t,n,r,i):iy(e,t,n)}function gE(e,t,n){e.removeChild(null,t,n)}function mE(e,t,n){e.setAttribute(t,"style",n)}function vE(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function oy(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&AC(e,t,r),i!==null&&vE(e,t,i),o!==null&&mE(e,t,o)}function Qh(e,t,n,r,i,o,s,a,l,c,u){let d=We+r,h=d+i,f=yE(d,h),p=typeof c=="function"?c():c;return f[q]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function yE(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Wt);return n}function _E(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Qh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Jh(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[rn]=i,d[ee]=r|4|128|8|64|1024,(c!==null||e&&e[ee]&2048)&&(d[ee]|=2048),Bf(d),d[Ke]=d[di]=e,d[at]=n,d[_n]=s||e&&e[_n],d[Ee]=a||e&&e[Ee],d[ui]=l||e&&e[ui]||null,d[Ut]=o,d[Ls]=GC(),d[Fs]=u,d[Pf]=c,d[Ht]=t.type==2?e[Ht]:d,d}function DE(e,t,n){let r=sn(t,e),i=_E(n),o=e[_n].rendererFactory,s=Xh(e,Jh(e,i,null,sy(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function sy(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ay(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Xh(e,t){return e[yo]?e[Of][Bt]=t:e[yo]=t,e[Of]=t,t}function j(e=1){ly(Oe(),se(),Mr()+e,!1)}function ly(e,t,n,r){if(!r)if((t[ee]&3)===3){let o=e.preOrderCheckHooks;o!==null&&vc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&yc(t,o,0,n)}xr(n)}var Wc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Wc||{});function Sh(e,t,n,r){let i=ne(null);try{let[o,s,a]=e.inputs[n],l=null;(s&Wc.SignalBased)!==0&&(l=t[o][ft]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Ev(t,l,o,r)}finally{ne(i)}}var Sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sn||{}),wE;function ep(e,t){return wE(e,t)}function bo(e,t,n,r,i){if(r!=null){let o,s=!1;on(r)?o=r:wn(r)&&(s=!0,r=r[rn]);let a=$t(r);e===0&&n!==null?i==null?iy(t,n,a):Tc(t,n,a,i||null,!0):e===1&&n!==null?Tc(t,n,a,i||null,!0):e===2?gE(t,a,s):e===3&&t.destroyNode(a),o!=null&&kE(t,e,o,n,i)}}function bE(e,t){cy(e,t),t[rn]=null,t[Ut]=null}function CE(e,t,n,r,i,o){r[rn]=i,r[Ut]=t,qc(e,r,n,1,i,o)}function cy(e,t){t[_n].changeDetectionScheduler?.notify(9),qc(e,t,t[Ee],2,null,null)}function EE(e){let t=e[yo];if(!t)return fh(e[q],e);for(;t;){let n=null;if(wn(t))n=t[yo];else{let r=t[ht];r&&(n=r)}if(!n){for(;t&&!t[Bt]&&t!==e;)wn(t)&&fh(t[q],t),t=t[Ke];t===null&&(t=e),wn(t)&&fh(t[q],t),n=t&&t[Bt]}t=n}}function tp(e,t){let n=e[hi],r=n.indexOf(t);n.splice(r,1)}function np(e,t){if(pi(t))return;let n=t[Ee];n.destroyNode&&qc(e,t,n,3,null,null),EE(t)}function fh(e,t){if(pi(t))return;let n=ne(null);try{t[ee]&=-129,t[ee]|=256,t[Tt]&&Dl(t[Tt]),SE(e,t),IE(e,t),t[q].type===1&&t[Ee].destroy();let r=t[Er];if(r!==null&&on(t[Ke])){r!==t[Ke]&&tp(r,t);let i=t[Dn];i!==null&&i.detachView(e)}Ch(t)}finally{ne(n)}}function IE(e,t){let n=e.cleanup,r=t[vo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[vo]=null);let i=t[qn];if(i!==null){t[qn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Vs];if(o!==null){t[Vs]=null;for(let s of o)s.destroy()}}function SE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof _i)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];_e(4,a,l);try{l.call(a)}finally{_e(5,a,l)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function ME(e,t,n){return xE(e,t.parent,n)}function xE(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[rn];if(Sr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Qn.None||i===Qn.Emulated)return null}return sn(r,n)}function TE(e,t,n){return RE(e,t,n)}function AE(e,t,n){return e.type&40?sn(e,n):null}var RE=AE,rv;function rp(e,t,n,r){let i=ME(e,r,t),o=t[Ee],s=r.parent||t[Ut],a=TE(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)nv(o,i,n[l],a,!1);else nv(o,i,n,a,!1);rv!==void 0&&rv(o,r,t,n,i)}function qs(e,t){if(t!==null){let n=t.type;if(n&3)return sn(t,e);if(n&4)return Mh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return qs(e,r);{let i=e[t.index];return on(i)?Mh(-1,i):$t(i)}}else{if(n&128)return qs(e,t.next);if(n&32)return ep(t,e)()||$t(e[t.index]);{let r=uy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=_r(e[Ht]);return qs(i,r)}else return qs(e,t.next)}}}return null}function uy(e,t){if(t!==null){let r=e[Ht][Ut],i=t.projection;return r.projection[i]}return null}function Mh(e,t){let n=ht+e+1;if(n<t.length){let r=t[n],i=r[q].firstChild;if(i!==null)return qs(r,i)}return t[Ir]}function ip(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Io($t(a),r),n.flags|=2),!qh(n))if(l&8)ip(e,t,n.child,r,i,o,!1),bo(t,e,i,a,o);else if(l&32){let c=ep(n,r),u;for(;u=c();)bo(t,e,i,u,o);bo(t,e,i,a,o)}else l&16?NE(e,t,r,n,i,o):bo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function qc(e,t,n,r,i,o){ip(n,r,e.firstChild,t,i,o,!1)}function NE(e,t,n,r,i,o){let s=n[Ht],l=s[Ut].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];bo(t,e,i,u,o)}else{let c=l,u=s[Ke];Bv(r)&&(c.flags|=128),ip(e,t,c,u,i,o,!0)}}function kE(e,t,n,r,i){let o=n[Ir],s=$t(n);o!==s&&bo(t,e,r,o,i);for(let a=ht;a<n.length;a++){let l=n[a];qc(l[q],l,e,t,r,o)}}function OE(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sn.Important),e.setStyle(n,r,i,o))}}function dy(e,t,n,r,i){let o=Mr(),s=r&2;try{xr(-1),s&&t.length>We&&ly(e,t,We,!1),_e(s?2:0,i,n),n(r,i)}finally{xr(o),_e(s?3:1,i,n)}}function op(e,t,n){BE(e,t,n),(n.flags&64)===64&&UE(e,t,n)}function Zc(e,t,n=sn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function PE(e,t,n,r){let o=r.get(qv,Wv)||n===Qn.ShadowDom,s=e.selectRootElement(t,o);return FE(s),s}function FE(e){LE(e)}var LE=()=>null;function VE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function fy(e,t,n,r,i,o){let s=t[q];if(sp(e,s,t,n,r)){Sr(e)&&jE(t,e.index);return}e.type&3&&(n=VE(n)),hy(e,t,n,r,i,o)}function hy(e,t,n,r,i,o){if(e.type&3){let s=sn(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function jE(e,t){let n=zt(t,e);n[ee]&16||(n[ee]|=64)}function BE(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Sr(n)&&DE(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Sc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ys(t,e,s,n);if(Io(l,t),o!==null&&GE(t,s-r,l,a,n,o),bn(a)){let c=zt(n.index,t);c[at]=Ys(t,e,s,n)}}}function UE(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=V0();try{xr(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];lc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&HE(l,c)}}finally{xr(-1),lc(s)}}function HE(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function py(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];aE(t,o.selectors,!1)&&(r??=[],bn(o)?r.unshift(o):r.push(o))}return r}function $E(e,t,n,r,i,o){let s=sn(e,t);zE(t[Ee],s,o,e.value,n,r,i)}function zE(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ci(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function GE(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Sh(r,n,l,c)}}function gy(e,t,n,r,i){let o=We+n,s=t[q],a=i(s,t,e,r,n);t[o]=a,Do(e,!0);let l=e.type===2;return l?(oy(t[Ee],a,e),(x0()===0||Bs(e))&&Io(a,t),T0()):Io(a,t),fc()&&(!l||!qh(e))&&rp(s,t,a,e),e}function my(e){let t=e;return Kf()?N0():(t=t.parent,Do(t,!1)),t}function WE(e,t){let n=e[ui];if(!n)return;n.get(At,null)?.(t)}function sp(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];Sh(d,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];Sh(u,c,r,i),a=!0}return a}function qE(e,t){let n=zt(t,e),r=n[q];ZE(r,n);let i=n[rn];i!==null&&n[Fs]===null&&(n[Fs]=Zv(i,n[ui])),_e(18),ap(r,n,n[at]),_e(19,n[at])}function ZE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ap(e,t,n){uc(t);try{let r=e.viewQuery;r!==null&&Ih(1,r,n);let i=e.template;i!==null&&dy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Dn]?.finishViewCreation(e),e.staticContentQueries&&Yv(e,t),e.staticViewQueries&&Ih(2,e.viewQuery,n);let o=e.components;o!==null&&YE(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ee]&=-5,dc()}}function YE(e,t){for(let n=0;n<t.length;n++)qE(e,t[n])}function vy(e,t,n,r){let i=ne(null);try{let o=t.tView,a=e[ee]&4096?4096:16,l=Jh(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[Er]=c;let u=e[Dn];return u!==null&&(l[Dn]=u.createEmbeddedView(o)),ap(o,l,n),l}finally{ne(i)}}function xh(e,t){return!t||t.firstChild===null||Bv(e)}var iv=!1,KE=new z("");function Ks(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push($t(o)),on(o)&&yy(o,r);let s=n.type;if(s&8)Ks(e,t,n.child,r);else if(s&32){let a=ep(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=uy(t,n);if(Array.isArray(a))r.push(...a);else{let l=_r(t[Ht]);Ks(l[q],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function yy(e,t){for(let n=ht;n<e.length;n++){let r=e[n],i=r[q].firstChild;i!==null&&Ks(r[q],r,i,t)}e[Ir]!==e[rn]&&t.push(e[Ir])}function _y(e){if(e[oc]!==null){for(let t of e[oc])t.impl.addSequence(t);e[oc].length=0}}var Dy=[];function QE(e){return e[Tt]??JE(e)}function JE(e){let t=Dy.pop()??Object.create(eI);return t.lView=e,t}function XE(e){e.lView[Tt]!==e&&(e.lView=null,Dy.push(e))}var eI=ae(F({},Qr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{$s(e.lView)},consumerOnSignalRead(){this.lView[Tt]=this}});function tI(e){let t=e[Tt]??Object.create(nI);return t.lView=e,t}var nI=ae(F({},Qr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=_r(e.lView);for(;t&&!wy(t[q]);)t=_r(t);t&&Uf(t)},consumerOnSignalRead(){this.lView[Tt]=this}});function wy(e){return e.type!==2}function by(e){if(e[Vs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Vs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[ee]&8192)}}var rI=100;function lp(e,t=0){let r=e[_n].rendererFactory,i=!1;i||r.begin?.();try{iI(e,t)}finally{i||r.end?.()}}function iI(e,t){let n=Jf();try{Xf(!0),Th(e,t);let r=0;for(;Hs(e);){if(r===rI)throw new $(103,!1);r++,Th(e,1)}}finally{Xf(n)}}function Cy(e,t){Qf(t?zs.Exhaustive:zs.OnlyDirtyViews);try{lp(e)}finally{Qf(zs.Off)}}function oI(e,t,n,r){if(pi(t))return;let i=t[ee],o=!1,s=!1;uc(t);let a=!0,l=null,c=null;o||(wy(e)?(c=QE(t),l=Jr(c)):yl()===null?(a=!1,c=tI(t),l=Jr(c)):t[Tt]&&(Dl(t[Tt]),t[Tt]=null));try{Bf(t),P0(e.bindingStartIndex),n!==null&&dy(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&vc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&yc(t,f,0,null),uh(t,0)}if(s||sI(t),by(t),Ey(t,0),e.contentQueries!==null&&Yv(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&vc(t,f)}else{let f=e.contentHooks;f!==null&&yc(t,f,1),uh(t,1)}lI(e,t);let d=e.components;d!==null&&Sy(t,d,0);let h=e.viewQuery;if(h!==null&&Ih(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&vc(t,f)}else{let f=e.viewHooks;f!==null&&yc(t,f,2),uh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ic]){for(let f of t[ic])f();t[ic]=null}o||(_y(t),t[ee]&=-73)}catch(u){throw o||$s(t),u}finally{c!==null&&(eo(c,l),a&&XE(c)),dc()}}function Ey(e,t){for(let n=Hv(e);n!==null;n=$v(n))for(let r=ht;r<n.length;r++){let i=n[r];Iy(i,t)}}function sI(e){for(let t=Hv(e);t!==null;t=$v(t)){if(!(t[ee]&2))continue;let n=t[hi];for(let r=0;r<n.length;r++){let i=n[r];Uf(i)}}}function aI(e,t,n){_e(18);let r=zt(t,e);Iy(r,n),_e(19,r[at])}function Iy(e,t){sc(e)&&Th(e,t)}function Th(e,t){let r=e[q],i=e[ee],o=e[Tt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&bs(o)),s||=!1,o&&(o.dirty=!1),e[ee]&=-9217,s)oI(r,e,r.template,e[at]);else if(i&8192){let a=ne(null);try{by(e),Ey(e,1);let l=r.components;l!==null&&Sy(e,l,1),_y(e)}finally{ne(a)}}}function Sy(e,t,n){for(let r=0;r<t.length;r++)aI(e,t[r],n)}function lI(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let o=i,s=n[++r],a=n[++r];L0(s,o);let l=t[o];_e(24,l),a(2,l),_e(25,l)}}}finally{xr(-1)}}function cp(e,t){let n=Jf()?64:1088;for(e[_n].changeDetectionScheduler?.notify(t);e;){e[ee]|=n;let r=_r(e);if(_o(e)&&!r)return e;e=r}return null}function My(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function cI(e,t){let n=ht+t;if(n<e.length)return e[n]}function xy(e,t,n,r=!0){let i=t[q];if(dI(i,t,e,n),r){let s=Mh(n,e),a=t[Ee],l=a.parentNode(e[Ir]);l!==null&&CE(i,e[Ut],a,t,l,s)}let o=t[Fs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uI(e,t){let n=Ac(e,t);return n!==void 0&&np(n[q],n),n}function Ac(e,t){if(e.length<=ht)return;let n=ht+t,r=e[n];if(r){let i=r[Er];i!==null&&i!==e&&tp(i,r),t>0&&(e[n-1][Bt]=r[Bt]);let o=ks(e,ht+t);bE(r[q],r);let s=o[Dn];s!==null&&s.detachView(o[q]),r[Ke]=null,r[Bt]=null,r[ee]&=-129}return r}function dI(e,t,n,r){let i=ht+r,o=n.length;r>0&&(n[i-1][Bt]=t),r<o-ht?(t[Bt]=n[i],Sf(n,ht+r,t)):(n.push(t),t[Bt]=null),t[Ke]=n;let s=t[Er];s!==null&&n!==s&&Ty(s,t);let a=t[Dn];a!==null&&a.insertView(e),ac(t),t[ee]|=128}function Ty(e,t){let n=e[hi],r=t[Ke];if(wn(r))e[ee]|=2;else{let i=r[Ke][Ht];t[Ht]!==i&&(e[ee]|=2)}n===null?e[hi]=[t]:n.push(t)}var Ar=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[q];return Ks(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[at]}set context(t){this._lView[at]=t}get destroyed(){return pi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ke];if(on(t)){let n=t[js],r=n?n.indexOf(this):-1;r>-1&&(Ac(t,r),ks(n,r))}this._attachedToViewContainer=!1}np(this._lView[q],this._lView)}onDestroy(t){Hf(this._lView,t)}markForCheck(){cp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){ac(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,lp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[ui].get(KE,iv)}catch{this.exhaustive=iv}}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=_o(this._lView),n=this._lView[Er];n!==null&&!t&&tp(n,this._lView),cy(this._lView[q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t;let n=_o(this._lView),r=this._lView[Er];r!==null&&!n&&Ty(r,this._lView),ac(this._lView)}};var Di=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=fI;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=vy(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ar(o)}}return e})();function fI(){return up(Qe(),se())}function up(e,t){return e.type&4?new Di(t,e,xo(e,t)):null}function ta(e,t,n,r,i){let o=e.data[t];if(o===null)o=hI(e,t,n,r,i),F0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=R0();o.injectorIndex=s===null?-1:s.injectorIndex}return Do(o,!0),o}function hI(e,t,n,r,i){let o=Yf(),s=Kf(),a=s?o:o&&o.parent,l=e.data[t]=gI(e,a,n,t,r,i);return pI(e,l,o,s),l}function pI(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function gI(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return A0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var c8=new RegExp(`^(\\d+)*(${YC}|${ZC})*(.*)`);var mI=()=>null,vI=()=>null;function ov(e,t){return mI(e,t)}function yI(e,t,n){return vI(e,t,n)}var Ay=class{},Yc=class{},Ah=class{resolveComponentFactory(t){throw new $(917,!1)}},na=class{static NULL=new Ah},wi=class{},Xn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>_I()}return e})();function _I(){let e=se(),t=Qe(),n=zt(t.index,e);return(wn(n)?n:e)[Ee]}var Ry=(()=>{class e{static \u0275prov=G({token:e,providedIn:"root",factory:()=>null})}return e})();var Dc={},Rh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Dc,r);return i!==Dc||n===Dc?i:this.parentInjector.get(t,n,r)}};function Rc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=pf(i,a);else if(o==2){let l=a,c=t[++s];r=pf(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function J(e,t=0){let n=se();if(n===null)return X(e,t);let r=Qe();return Lv(r,n,st(e),t)}function Ny(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}bI(e,t,n,a,o,l,c)}o!==null&&r!==null&&DI(n,r,o)}function DI(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new $(-301,!1);r.push(t[i],o)}}function wI(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bI(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&bn(f)&&(l=!0,wI(e,n,h)),wh(Sc(n,t),e,f.type)}xI(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=ay(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Eo(n.mergedAttrs,f.hostAttrs),EI(e,n,t,d,f),MI(d,f,i),s!==null&&s.has(f)){let[v,y]=s.get(f);n.directiveToIndex.set(f.type,[d,v+n.directiveStart,y+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}CI(e,n,o)}function CI(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))sv(0,t,i,r),sv(1,t,i,r),lv(t,r,!1);else{let o=n.get(i);av(0,t,o,r),av(1,t,o,r),lv(t,r,!0)}}}function sv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),ky(t,o)}}function av(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ky(t,s)}}function ky(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function lv(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Kh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function EI(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=yr(i.type,!0)),s=new _i(o,bn(i),J,null);e.blueprint[r]=s,n[r]=s,II(e,t,r,ay(e,n,i.hostVars,Wt),i)}function II(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;SI(s)!=a&&s.push(a),s.push(n,r,o)}}function SI(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function MI(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;bn(t)&&(n[""]=e)}}function xI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Oy(e,t,n,r,i,o,s,a){let l=t[q],c=l.consts,u=Cn(c,s),d=ta(l,e,n,r,u);return o&&Ny(l,t,d,Cn(c,a),i),d.mergedAttrs=Eo(d.mergedAttrs,d.attrs),d.attrs!==null&&Rc(d,d.attrs,!1),d.mergedAttrs!==null&&Rc(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function Py(e,t){xv(e,t),Ff(t)&&e.queries.elementEnd(t)}function TI(e,t,n,r,i,o){let s=t.consts,a=Cn(s,i),l=ta(t,e,n,r,a);if(l.mergedAttrs=Eo(l.mergedAttrs,l.attrs),o!=null){let c=Cn(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Rc(l,l.attrs,!1),l.mergedAttrs!==null&&Rc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function AI(e,t,n){return e[t]=n}function Jn(e,t,n){if(n===Wt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Fy(e,t,n,r){let i=Jn(e,t,n);return Jn(e,t+1,r)||i}function wc(e,t,n){return function r(i){let o=Sr(e)?zt(e.index,t):t;cp(o,5);let s=t[at],a=cv(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=cv(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function cv(e,t,n,r){let i=ne(null);try{return _e(6,t,n),n(r)!==!1}catch(o){return WE(e,o),!1}finally{_e(7,t,n),ne(i)}}function Ly(e,t,n,r,i,o,s,a){let l=Bs(e),c=!1,u=null;if(!r&&l&&(u=RI(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=sn(e,n),h=r?r(d):d;QC(n,h,o,a);let f=i.listen(h,o,a),p=r?v=>r($t(v[e.index])):e.index;Vy(p,t,n,o,a,f,!1)}return c}function RI(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[vo],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Vy(e,t,n,r,i,o,s){let a=t.firstCreatePass?zf(t):null,l=$f(n),c=l.length;l.push(i,o),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function uv(e,t,n,r,i,o){let s=t[n],a=t[q],c=a.data[n].outputs[r],d=s[c].subscribe(o);Vy(e.index,a,t,i,o,d,!0)}var Nh=Symbol("BINDING");var Nc=class extends na{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Cr(t);return new So(n,this.ngModule)}};function NI(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Wc.SignalBased)!==0};return i&&(o.transform=i),o})}function kI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function OI(e,t,n){let r=t instanceof Ye?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Rh(n,r):n}function PI(e){let t=e.get(wi,null);if(t===null)throw new $(407,!1);let n=e.get(Ry,null),r=e.get(ai,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function FI(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return ry(t,n,n==="svg"?Lf:n==="math"?w0:null)}var So=class extends Yc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kI(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=dE(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){_e(22);let a=ne(null);try{let l=this.componentDef,c=LI(r,l,s,o),u=OI(l,i||this.ngModule,t),d=PI(u),h=d.rendererFactory.createRenderer(null,l),f=r?PE(h,r,l.encapsulation,u):FI(l,h),p=s?.some(dv)||o?.some(m=>typeof m!="function"&&m.bindings.some(dv)),v=Jh(null,c,null,512|sy(l),null,null,d,h,u,null,Zv(f,u,!0));v[We]=f,uc(v);let y=null;try{let m=Oy(We,v,2,"#host",()=>c.directiveRegistry,!0,0);f&&(oy(h,f,m),Io(f,v)),op(c,v,m),Kv(c,m,v),Py(c,m),n!==void 0&&jI(m,this.ngContentSelectors,n),y=zt(m.index,v),v[at]=y[at],ap(c,v,null)}catch(m){throw y!==null&&Ch(y),Ch(v),m}finally{_e(23),dc()}return new kc(this.componentType,v,!!p)}finally{ne(a)}}};function LI(e,t,n,r){let i=e?["ng-version","20.1.6"]:fE(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Nh].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Nh].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let l=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Af(d);l.push(h)}return Qh(0,null,VI(o,s),1,a,l,null,null,null,[i],null)}function VI(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function dv(e){let t=e[Nh].kind;return t==="input"||t==="twoWay"}var kc=class extends Ay{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Us(n[q],We),this.location=xo(this._tNode,n),this.instance=zt(this._tNode.index,n)[at],this.hostView=this.changeDetectorRef=new Ar(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=sp(r,i[q],i,t,n);this.previousInputValues.set(t,n);let s=zt(r.index,i);cp(s,1)}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function jI(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Rr=(()=>{class e{static __NG_ELEMENT_ID__=BI}return e})();function BI(){let e=Qe();return By(e,se())}var UI=Rr,jy=class extends UI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return xo(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){let t=zh(this._hostTNode,this._hostLView);if(Rv(t)){let n=Ec(t,this._hostLView),r=Cc(t),i=n[q].data[r+8];return new yi(i,n)}else return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=fv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ov(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,xh(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let l=t&&!bC(t),c;if(l)c=n;else{let y=n||{};c=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let u=l?t:new So(Cr(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(l?d:this.parentInjector).get(Ye,null);m&&(o=m)}let h=Cr(u.componentType??{}),f=ov(this._lContainer,h?.id??null),p=f?.firstChild??null,v=u.create(d,i,p,o,s,a);return this.insertImpl(v.hostView,c,xh(this._hostTNode,f)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(E0(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Ke],c=new jy(l,l[Ut],l[Ke]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return xy(s,i,o,r),t.attachToViewContainerRef(),Sf(hh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=fv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ac(this._lContainer,n);r&&(ks(hh(this._lContainer),n),np(r[q],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ac(this._lContainer,n);return r&&ks(hh(this._lContainer),n)!=null?new Ar(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function fv(e){return e[js]}function hh(e){return e[js]||(e[js]=[])}function By(e,t){let n,r=t[e.index];return on(r)?n=r:(n=My(r,t,null,e),t[e.index]=n,Xh(t,n)),$I(n,t,e,r),new jy(n,e,t)}function HI(e,t){let n=e[Ee],r=n.createComment(""),i=sn(t,e),o=n.parentNode(i);return Tc(n,o,r,n.nextSibling(i),!1),r}var $I=WI,zI=()=>!1;function GI(e,t,n){return zI(e,t,n)}function WI(e,t,n,r){if(e[Ir])return;let i;n.type&8?i=$t(r):i=HI(t,n),e[Ir]=i}var kh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Oh=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)dp(t,n).matches!==null&&this.queries[n].setDirty()}},Oc=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=eS(t):this.predicate=t}},Ph=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Fh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,qI(n,o)),this.matchTNodeWithReadOption(t,n,_c(n,t,o,!1,!1))}else r===Di?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,_c(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Gt||i===Rr||i===Di&&n.type&4)this.addMatch(n.index,-2);else{let o=_c(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function qI(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function ZI(e,t){return e.type&11?xo(e,t):e.type&4?up(e,t):null}function YI(e,t,n,r){return n===-1?ZI(t,e):n===-2?KI(e,t,r):Ys(e,e[q],n,t)}function KI(e,t,n){if(n===Gt)return xo(t,e);if(n===Di)return up(t,e);if(n===Rr)return By(t,e)}function Uy(e,t,n,r){let i=t[Dn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(YI(t,u,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Lh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Uy(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=ht;d<u.length;d++){let h=u[d];h[Er]===h[Ke]&&Lh(h[q],h,c,r)}if(u[hi]!==null){let d=u[hi];for(let h=0;h<d.length;h++){let f=d[h];Lh(f[q],f,c,r)}}}}}return r}function QI(e,t){return e[Dn].queries[t].queryList}function Hy(e,t,n){let r=new Mc((n&4)===4);return M0(e,t,r,r.destroy),(t[Dn]??=new Oh).queries.push(new kh(r))-1}function JI(e,t,n){let r=Oe();return r.firstCreatePass&&($y(r,new Oc(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Hy(r,se(),t)}function XI(e,t,n,r){let i=Oe();if(i.firstCreatePass){let o=Qe();$y(i,new Oc(t,n,r),o.index),tS(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return Hy(i,se(),n)}function eS(e){return e.split(",").map(t=>t.trim())}function $y(e,t,n){e.queries===null&&(e.queries=new Ph),e.queries.track(new Fh(t,n))}function tS(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function dp(e,t){return e.queries.getByIndex(t)}function nS(e,t){let n=e[q],r=dp(n,t);return r.crossesNgTemplate?Lh(n,e,t,[]):Uy(n,e,r,t)}var hv=new Set;function Ao(e){hv.has(e)||(hv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var bi=class{},Kc=class{};var Pc=class extends bi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nc(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Tf(t);this._bootstrapComponents=ty(o.bootstrap),this._r3Injector=ih(t,n,[{provide:bi,useValue:this},{provide:na,useValue:this.componentFactoryResolver},...r],Zn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Fc=class extends Kc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Pc(this.moduleType,t,[])}};var Qs=class extends bi{injector;componentFactoryResolver=new Nc(this);instance=null;constructor(t){super();let n=new si([...t.providers,{provide:bi,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],t.parent||Ps(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ra(e,t,n=null){return new Qs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var rS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Rf(!1,n.type),i=r.length>0?ra([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(X(Ye))})}return e})();function Re(e){return Xs(()=>{let t=zy(e),n=ae(F({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(rS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Qn.Emulated,styles:e.styles||xt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Ao("NgStandalone"),Gy(n);let r=e.dependencies;return n.directiveDefs=pv(r,iS),n.pipeDefs=pv(r,p0),n.id=aS(n),n})}function iS(e){return Cr(e)||Af(e)}function ln(e){return Xs(()=>({type:e.type,bootstrap:e.bootstrap||xt,declarations:e.declarations||xt,imports:e.imports||xt,exports:e.exports||xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function oS(e,t){if(e==null)return wr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Wc.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function sS(e){if(e==null)return wr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function mt(e){return Xs(()=>{let t=zy(e);return Gy(t),t})}function fp(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function zy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||wr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||xt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:oS(e.inputs,t),outputs:sS(e.outputs),debugInfo:null}}function Gy(e){e.features?.forEach(t=>t(e))}function pv(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function aS(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function lS(e){return Object.getPrototypeOf(e.prototype).constructor}function Nr(e){let t=lS(e.type),n=!0,r=[e];for(;t;){let i;if(bn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=ph(e.inputs),s.declaredInputs=ph(e.declaredInputs),s.outputs=ph(e.outputs);let a=i.hostBindings;a&&hS(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&dS(e,l),c&&fS(e,c),cS(e,i),o0(e.outputs,i.outputs),bn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Nr&&(n=!1)}}t=Object.getPrototypeOf(t)}uS(r)}function cS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function uS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Eo(i.hostAttrs,n=Eo(n,i.hostAttrs))}}function ph(e){return e===wr?{}:e===xt?[]:e}function dS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function fS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function hS(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Wy(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Eo(e.mergedAttrs,e.attrs);let u=e.tView=Qh(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Do(e,!1);let l=gS(n,t,e,r);fc()&&rp(n,t,l,e),Io(l,t);let c=My(l,t,l,e);t[r+We]=c,Xh(t,c),GI(c,e,t)}function pS(e,t,n,r,i,o,s,a,l,c,u){let d=n+We,h;return t.firstCreatePass?(h=ta(t,d,4,s||null,a||null),Wf()&&Ny(t,e,h,Cn(t.consts,c),py),xv(t,h)):h=t.data[d],Wy(h,e,t,n,r,i,o,l),Bs(h)&&op(t,e,h),c!=null&&Zc(e,h,u),h}function qy(e,t,n,r,i,o,s,a,l,c,u){let d=n+We,h;if(t.firstCreatePass){if(h=ta(t,d,4,s||null,a||null),c!=null){let f=Cn(t.consts,c);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return Wy(h,e,t,n,r,i,o,l),c!=null&&Zc(e,h,u),h}function kr(e,t,n,r,i,o,s,a){let l=se(),c=Oe(),u=Cn(c.consts,o);return pS(l,c,e,t,n,r,i,u,void 0,s,a),kr}var gS=mS;function mS(e,t,n,r){return hc(!0),t[Ee].createComment("")}var hp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(hp||{}),ia=new z(""),Zy=!1,Vh=class extends ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,_0()&&(this.destroyRef=O(mi,{optional:!0})??void 0,this.pendingTasks=O(Kn,{optional:!0})??void 0)}emit(t){let n=ne(null);try{super.next(t)}finally{ne(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ve&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ue=Vh;function Yy(e){let t,n;function r(){e=Ws;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function gv(e){return queueMicrotask(()=>e()),()=>{e=Ws}}var pp="isAngularZone",Lc=pp+"_ID",vS=0,Je=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ue(!1);onMicrotaskEmpty=new Ue(!1);onStable=new Ue(!1);onError=new Ue(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Zy}=t;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,DS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new $(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,yS,Ws,Ws);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},yS={};function gp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _S(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Yy(()=>{e.callbackScheduled=!1,jh(e),e.isCheckStableRunning=!0,gp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),jh(e)}function DS(e){let t=()=>{_S(e)},n=vS++;e._inner=e._inner.fork({name:"angular",properties:{[pp]:!0,[Lc]:n,[Lc+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(wS(l))return r.invokeTask(o,s,a,l);try{return mv(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),vv(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return mv(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!bS(l)&&t(),vv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,jh(e),gp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function jh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function mv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vv(e){e._nesting--,gp(e)}var Vc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ue;onMicrotaskEmpty=new Ue;onStable=new Ue;onError=new Ue;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function wS(e){return Ky(e,"__ignore_ng_zone__")}function bS(e){return Ky(e,"__scheduler_tick__")}function Ky(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Qy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();var mp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var vp=new z("");function Or(e){return!!e&&typeof e.then=="function"}function yp(e){return!!e&&typeof e.subscribe=="function"}var Jy=new z("");var _p=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(Jy,{optional:!0})??[];injector=O(nn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=gt(this.injector,i);if(Or(o))n.push(o);else if(yp(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qc=new z("");function Xy(){jd(()=>{let e="";throw new $(600,e)})}function e_(e){return e.isBoundToModule}var CS=10;var Pr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(At);afterRenderManager=O(Qy);zonelessEnabled=O(pc);rootEffectScheduler=O(ch);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Kn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ue(n=>!n))}constructor(){O(ia,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(Ye);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=nn.NULL){return this._injector.get(Je).run(()=>{_e(10);let s=n instanceof Yc;if(!this._injector.get(_p).done){let p="";throw new $(405,p)}let l;s?l=n:l=this._injector.get(na).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=e_(l)?void 0:this._injector.get(bi),u=r||l.selector,d=l.create(i,[],u,c),h=d.location.nativeElement,f=d.injector.get(vp,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Zs(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),_e(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(hp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let n=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(n),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<CS;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Hs(i))continue;let o=r&&!this.zonelessEnabled?0:1;lp(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Hs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Zs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Qc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ro(e,t,n,r){let i=se(),o=gi();if(Jn(i,o,t)){let s=Oe(),a=Gs();$E(a,i,e,t,n,r)}return Ro}function er(e,t,n,r,i,o,s,a){Ao("NgControlFlow");let l=se(),c=Oe(),u=Cn(c.consts,o);return qy(l,c,e,t,n,r,i,u,256,s,a),Dp}function Dp(e,t,n,r,i,o,s,a){Ao("NgControlFlow");let l=se(),c=Oe(),u=Cn(c.consts,o);return qy(l,c,e,t,n,r,i,u,512,s,a),Dp}function tr(e,t){Ao("NgControlFlow");let n=se(),r=gi(),i=n[r]!==Wt?n[r]:-1,o=i!==-1?yv(n,We+i):void 0,s=0;if(Jn(n,r,e)){let a=ne(null);try{if(o!==void 0&&uI(o,s),e!==-1){let l=We+e,c=yv(n,l),u=ES(n[q],l),d=yI(c,u,n),h=vy(n,u,t,{dehydratedView:d});xy(c,h,s,xh(u,d))}}finally{ne(a)}}else if(o!==void 0){let a=cI(o,s);a!==void 0&&(a[at]=t)}}function yv(e,t){return e[t]}function ES(e,t){return Us(e,t)}function ge(e,t,n){let r=se(),i=gi();if(Jn(r,i,t)){let o=Oe(),s=Gs();fy(s,r,e,t,r[Ee],n)}return ge}function _v(e,t,n,r,i){sp(t,e,n,i?"class":"style",r)}function T(e,t,n,r){let i=se(),o=i[q],s=e+We,a=o.firstCreatePass?Oy(s,i,2,t,py,Wf(),n,r):o.data[s];if(gy(a,i,e,t,t_),Bs(a)){let l=i[q];op(l,i,a),Kv(l,a,i)}return r!=null&&Zc(i,a),T}function x(){let e=Oe(),t=Qe(),n=my(t);return e.firstCreatePass&&Py(e,n),qf(n)&&Zf(),Gf(),n.classesWithoutHost!=null&&xC(n)&&_v(e,n,se(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&TC(n)&&_v(e,n,se(),n.stylesWithoutHost,!1),x}function Me(e,t,n,r){return T(e,t,n,r),x(),Me}function Xe(e,t,n,r){let i=se(),o=i[q],s=e+We,a=o.firstCreatePass?TI(s,o,2,t,n,r):o.data[s];return gy(a,i,e,t,t_),r!=null&&Zc(i,a),Xe}function et(){let e=Qe(),t=my(e);return qf(t)&&Zf(),Gf(),et}function Jc(e,t,n,r){return Xe(e,t,n,r),et(),Jc}var t_=(e,t,n,r,i)=>(hc(!0),ry(t[Ee],r,z0()));function No(){return se()}function cn(e,t,n){let r=se(),i=gi();if(Jn(r,i,t)){let o=Oe(),s=Gs();hy(s,r,e,t,r[Ee],n)}return cn}var vi=void 0;function IS(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var SS=["en",[["a","p"],["AM","PM"],vi],[["AM","PM"],vi,vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vi,"{1} 'at' {0}",vi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",IS],gh={};function Xc(e){let t=MS(e),n=Dv(t);if(n)return n;let r=t.split("-")[0];if(n=Dv(r),n)return n;if(r==="en")return SS;throw new $(701,!1)}function Dv(e){return e in gh||(gh[e]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[e]),gh[e]}var Ii=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ii||{});function MS(e){return e.toLowerCase().replace(/_/g,"-")}var oa="en-US";var xS=oa;function n_(e){typeof e=="string"&&(xS=e.toLowerCase().replace(/_/g,"-"))}function le(e,t,n){let r=se(),i=Oe(),o=Qe();return r_(i,r,r[Ee],o,e,t,n),le}function un(e,t,n){let r=se(),i=Oe(),o=Qe();return(o.type&3||n)&&Ly(o,i,r,n,r[Ee],e,t,wc(o,r,t)),un}function r_(e,t,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=wc(r,t,o),Ly(r,e,t,s,n,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];l??=wc(r,t,o),uv(r,t,h,f,i,l)}if(c&&c.length)for(let d of c)l??=wc(r,t,o),uv(r,t,d,i,i,l)}}function qt(e=1){return $0(e)}function wp(e,t,n,r){XI(e,t,n,r)}function Si(e,t,n){JI(e,t,n)}function nr(e){let t=se(),n=Oe(),r=th();cc(r+1);let i=dp(n,r);if(e.dirty&&C0(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=nS(t,r);e.reset(o,HC),e.notifyOnChanges()}return!0}return!1}function rr(){return QI(se(),th())}function mc(e,t){return e<<17|t<<2}function Ci(e){return e>>17&32767}function TS(e){return(e&2)==2}function AS(e,t){return e&131071|t<<17}function Bh(e){return e|2}function Mo(e){return(e&131068)>>2}function mh(e,t){return e&-131069|t<<2}function RS(e){return(e&1)===1}function Uh(e){return e|1}function NS(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ci(s),l=Mo(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||mo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Ci(e[a+1]);e[r+1]=mc(h,a),h!==0&&(e[h+1]=mh(e[h+1],r)),e[a+1]=AS(e[a+1],r)}else e[r+1]=mc(a,0),a!==0&&(e[a+1]=mh(e[a+1],r)),a=r;else e[r+1]=mc(l,0),a===0?a=r:e[l+1]=mh(e[l+1],r),l=r;c&&(e[r+1]=Bh(e[r+1])),wv(e,u,r,!0),wv(e,u,r,!1),kS(t,u,e,r,o),s=mc(a,l),o?t.classBindings=s:t.styleBindings=s}function kS(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&mo(o,t)>=0&&(n[r+1]=Uh(n[r+1]))}function wv(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ci(i):Mo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];OS(l,t)&&(a=!0,e[s+1]=r?Uh(c):Bh(c)),s=r?Ci(c):Mo(c)}a&&(e[n+1]=r?Bh(i):Uh(i))}function OS(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?mo(e,t)>=0:!1}function ko(e,t,n){return i_(e,t,n,!1),ko}function Mi(e,t){return i_(e,t,null,!0),Mi}function i_(e,t,n,r){let i=se(),o=Oe(),s=eh(2);if(o.firstUpdatePass&&FS(o,e,s,r),t!==Wt&&Jn(i,s,t)){let a=o.data[Mr()];US(o,a,i,i[Ee],e,i[s+1]=HS(t,n),r,s)}}function PS(e,t){return t>=e.expandoStartIndex}function FS(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Mr()],s=PS(e,n);$S(o,r)&&t===null&&!s&&(t=!1),t=LS(i,o,t,r),NS(i,o,t,n,s,r)}}function LS(e,t,n,r){let i=j0(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=vh(null,e,t,n,r),n=Js(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=vh(i,e,t,n,r),o===null){let l=VS(e,t,r);l!==void 0&&Array.isArray(l)&&(l=vh(null,e,t,l[1],r),l=Js(l,t.attrs,r),jS(e,t,r,l))}else o=BS(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function VS(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Mo(r)!==0)return e[Ci(r)]}function jS(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ci(i)]=r}function BS(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Js(r,s,n)}return Js(r,t.attrs,n)}function vh(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Js(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Js(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),h0(e,s,n?!0:t[++o]))}return e===void 0?null:e}function US(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=RS(c)?bv(l,t,n,i,Mo(c),s):void 0;if(!jc(u)){jc(o)||TS(c)&&(o=bv(l,null,n,i,a,s));let d=Vf(Mr(),n);OE(r,s,d,i,o)}}function bv(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===Wt&&(h=d?xt:void 0);let f=d?nc(h,r):u===r?h:void 0;if(c&&!jc(f)&&(f=nc(l,r)),jc(f)&&(a=f,s))return a;let p=e[i+1];i=s?Ci(p):Mo(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=nc(l,r))}return a}function jc(e){return e!==void 0}function HS(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Zn(zc(e)))),e}function $S(e,t){return(e.flags&(t?8:16))!==0}function N(e,t=""){let n=se(),r=Oe(),i=e+We,o=r.firstCreatePass?ta(r,i,1,t,null):r.data[i],s=zS(r,n,o,t,e);n[i]=s,fc()&&rp(r,n,s,o),Do(o,!1)}var zS=(e,t,n,r,i)=>(hc(!0),hE(t[Ee],r));function GS(e,t,n,r=""){return Jn(e,gi(),n)?t+ci(n)+r:Wt}function WS(e,t,n,r,i,o=""){let s=O0(),a=Fy(e,s,n,i);return eh(2),a?t+ci(n)+r+ci(i)+o:Wt}function ir(e){return xe("",e),ir}function xe(e,t,n){let r=se(),i=GS(r,e,t,n);return i!==Wt&&o_(r,Mr(),i),xe}function eu(e,t,n,r,i){let o=se(),s=WS(o,e,t,n,r,i);return s!==Wt&&o_(o,Mr(),s),eu}function o_(e,t,n){let r=Vf(t,e);pE(e[Ee],r,n)}function Ct(e,t,n){sh(t)&&(t=t());let r=se(),i=gi();if(Jn(r,i,t)){let o=Oe(),s=Gs();fy(s,r,e,t,r[Ee],n)}return Ct}function Rt(e,t){let n=sh(e);return n&&e.set(t),n}function Et(e,t){let n=se(),r=Oe(),i=Qe();return r_(r,n,n[Ee],i,e,t),Et}function qS(e,t,n){let r=Oe();if(r.firstCreatePass){let i=bn(e);Hh(n,r.data,r.blueprint,i,!0),Hh(t,r.data,r.blueprint,i,!1)}}function Hh(e,t,n,r,i){if(e=st(e),Array.isArray(e))for(let o=0;o<e.length;o++)Hh(e[o],t,n,r,i);else{let o=Oe(),s=se(),a=Qe(),l=oi(e)?e:st(e.provide),c=kf(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(oi(e)||!e.multi){let f=new _i(c,i,J,null),p=_h(l,t,i?u:u+h,d);p===-1?(wh(Sc(a,s),o,l),yh(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=_h(l,t,u+h,d),p=_h(l,t,u,u+h),v=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!v){wh(Sc(a,s),o,l);let m=KS(i?YS:ZS,n.length,i,r,c,e);!i&&y&&(n[p].providerFactory=m),yh(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=s_(n[i?p:f],c,!i&&r);yh(o,e,f>-1?f:p,m)}!i&&r&&y&&n[p].componentProviders++}}}function yh(e,t,n,r){let i=oi(t),o=y0(t);if(i||o){let l=(o?st(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function s_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function _h(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ZS(e,t,n,r,i){return $h(this.multi,[])}function YS(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ys(r,r[q],this.providerFactory.index,i);s=l.slice(0,a),$h(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],$h(o,s);return s}function $h(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function KS(e,t,n,r,i,o){let s=new _i(e,n,J,null);return s.multi=[],s.index=t,s.componentProviders=0,s_(s,i,r&&!n),s}function Oo(e,t=[]){return n=>{n.providersResolver=(r,i)=>qS(r,i?i(e):e,t)}}function QS(e,t){let n=e[t];return n===Wt?void 0:n}function JS(e,t,n,r,i,o,s){let a=t+n;return Fy(e,a,i,o)?AI(e,a+2,s?r.call(s,i,o):r(i,o)):QS(e,a+2)}function Nt(e,t){let n=Oe(),r,i=e+We;n.firstCreatePass?(r=XS(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=yr(r.type,!0)),s,a=pt(J);try{let l=Ic(!1),c=o();return Ic(l),jf(n,se(),i,c),c}finally{pt(a)}}function XS(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function kt(e,t,n,r){let i=e+We,o=se(),s=b0(o,i);return eM(o,i)?JS(o,k0(),t,s.transform,n,r,s):s.transform(n,r)}function eM(e,t){return e[q].data[t].pure}var Bc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},bp=(()=>{class e{compileModuleSync(n){return new Fc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Tf(n),o=ty(i.declarations).reduce((s,a)=>{let l=Cr(a);return l&&s.push(new So(l)),s},[]);return new Bc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tM=(()=>{class e{zone=O(Je);changeDetectionScheduler=O(ai);applicationRef=O(Pr);applicationErrorHandler=O(At);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function a_({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Je(ae(F({},l_()),{scheduleInRootZone:n})),[{provide:Je,useFactory:e},{provide:br,multi:!0,useFactory:()=>{let r=O(tM,{optional:!0});return()=>r.initialize()}},{provide:br,multi:!0,useFactory:()=>{let r=O(nM);return()=>{r.initialize()}}},t===!0?{provide:ah,useValue:!0}:[],{provide:lh,useValue:n??Zy},{provide:At,useFactory:()=>{let r=O(Je),i=O(Ye),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(yn),o.handleError(s))})}}}]}function l_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var nM=(()=>{class e{subscription=new Ve;initialized=!1;zone=O(Je);pendingTasks=O(Kn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var c_=(()=>{class e{applicationErrorHandler=O(At);appRef=O(Pr);taskService=O(Kn);ngZone=O(Je);zonelessEnabled=O(pc);tracing=O(ia,{optional:!0});disableScheduling=O(ah,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(lh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gv:Yy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rM(){return typeof $localize<"u"&&$localize.locale||oa}var sa=new z("",{providedIn:"root",factory:()=>O(sa,{optional:!0,skipSelf:!0})||rM()});function dn(e){return n0(e)}function aa(e,t){return bl(e,t?.equal)}var u_=class{[ft];constructor(t){this[ft]=t}destroy(){this[ft].destroy()}};var h_=Symbol("InputSignalNode#UNSET"),yM=ae(F({},Cl),{transformFn:void 0,applyValueToInputSignal(e,t){no(e,t)}});function p_(e,t){let n=Object.create(yM);n.value=e,n.transformFn=t?.transform;function r(){if(Xi(n),n.value===h_){let i=null;throw new $(-950,i)}return n.value}return r[ft]=n,r}var nu=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ea(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},_M=new z("");_M.__NG_ELEMENT_ID__=e=>{let t=Qe();if(t===null)throw new $(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new $(204,!1)};function d_(e,t){return p_(e,t)}function DM(e){return p_(h_,e)}var g_=(d_.required=DM,d_);var Cp=new z(""),wM=new z("");function la(e){return!e.moduleRef}function bM(e){let t=la(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Je);return n.run(()=>{la(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(At),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),la(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Cp);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Cp);s.add(o),e.moduleRef.onDestroy(()=>{Zs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return EM(r,n,()=>{let o=t.get(Kn),s=o.add(),a=t.get(_p);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(sa,oa);if(n_(l||oa),!t.get(wM,!0))return la(e)?t.get(Pr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(la(e)){let u=t.get(Pr);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return CM?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var CM;function EM(e,t,n){try{let r=n();return Or(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var tu=null;function IM(e=[],t){return nn.create({name:t,providers:[{provide:Os,useValue:"platform"},{provide:Cp,useValue:new Set([()=>tu=null])},...e]})}function SM(e=[]){if(tu)return tu;let t=IM(e);return tu=t,Xy(),MM(t),t}function MM(e){let t=e.get(Hc,null);gt(e,()=>{t?.forEach(n=>n())})}var xi=(()=>{class e{static __NG_ELEMENT_ID__=xM}return e})();function xM(e){return TM(Qe(),se(),(e&16)===16)}function TM(e,t,n){if(Sr(e)&&!n){let r=zt(e.index,t);return new Ar(r,r)}else if(e.type&175){let r=t[Ht];return new Ar(r,t)}return null}function m_(e){_e(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=SM(r),o=[a_({}),{provide:ai,useExisting:c_},W0,...n||[]],s=new Qs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return bM({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{_e(9)}}function Po(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var __=null;function Zt(){return __}function Ep(e){__??=e}var ca=class{},Ip=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>O(D_),providedIn:"platform"})}return e})();var D_=(()=>{class e extends Ip{_location;_history;_doc=O(lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zt().getBaseHref(this._doc)}onPopState(n){let r=Zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function w_(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function v_(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Fr(e){return e&&e[0]!=="?"?`?${e}`:e}var Fo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>O(C_),providedIn:"root"})}return e})(),b_=new z(""),C_=(()=>{class e extends Fo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return w_(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Fr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Fr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Fr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(X(Ip),X(b_,8))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lo=(()=>{class e{_subject=new ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=NM(v_(y_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fr(r))}normalize(n){return e.stripTrailingSlash(RM(this._basePath,y_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Fr;static joinWithSlash=w_;static stripTrailingSlash=v_;static \u0275fac=function(r){return new(r||e)(X(Fo))};static \u0275prov=G({token:e,factory:()=>AM(),providedIn:"root"})}return e})();function AM(){return new Lo(X(Fo))}function RM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function y_(e){return e.replace(/\/index.html$/,"")}function NM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var xp=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(xp||{});var Tn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Vo(e,t){let n=Xc(e),r=n[Ii.NumberSymbols][t];if(typeof r>"u"){if(t===Tn.CurrencyDecimal)return n[Ii.NumberSymbols][Tn.Decimal];if(t===Tn.CurrencyGroup)return n[Ii.NumberSymbols][Tn.Group]}return r}function S_(e,t){return Xc(e)[Ii.NumberFormats][t]}var kM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,E_=22,ru=".",ua="0",OM=";",PM=",",Sp="#";function FM(e,t,n,r,i,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Vo(n,Tn.Infinity);else{let c=jM(e);s&&(c=VM(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){let g=o.match(kM);if(g===null)throw new $(2306,!1);let _=g[1],w=g[3],D=g[5];_!=null&&(u=Mp(_)),w!=null&&(d=Mp(w)),D!=null?h=Mp(D):w!=null&&d>h&&(h=d)}BM(c,d,h);let f=c.digits,p=c.integerLen,v=c.exponent,y=[];for(l=f.every(g=>!g);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);let m=[];for(f.length>=t.lgSize&&m.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)m.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&m.unshift(f.join("")),a=m.join(Vo(n,r)),y.length&&(a+=Vo(n,i)+y.join("")),v&&(a+=Vo(n,Tn.Exponential)+"+"+v)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function M_(e,t,n){let r=S_(t,xp.Decimal),i=LM(r,Vo(t,Tn.MinusSign));return FM(e,i,t,Tn.Group,Tn.Decimal,n)}function LM(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(OM),i=r[0],o=r[1],s=i.indexOf(ru)!==-1?i.split(ru):[i.substring(0,i.lastIndexOf(ua)+1),i.substring(i.lastIndexOf(ua)+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf(Sp));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===ua?n.minFrac=n.maxFrac=u+1:d===Sp?n.maxFrac=u+1:n.posSuf+=d}let c=a.split(PM);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(Sp);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function VM(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function jM(e){let t=Math.abs(e)+"",n=0,r,i,o,s,a;for((i=t.indexOf(ru))>-1&&(t=t.replace(ru,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===ua;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===ua;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>E_&&(r=r.splice(0,E_-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function BM(e,t,n){if(t>n)throw new $(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=t+e.integerLen,u=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function Mp(e){let t=parseInt(e);if(isNaN(t))throw new $(2305,!1);return t}var Tp=(()=>{class e{_viewContainer;_context=new iu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){I_(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){I_(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(J(Rr),J(Di))};static \u0275dir=mt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),iu=class{$implicit=null;ngIf=null};function I_(e,t){if(e&&!e.createEmbeddedView)throw new $(2020,!1)}function UM(e,t){return new $(2100,!1)}var Ti=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!HM(n))return null;i||=this._locale;try{let o=$M(n);return M_(o,i,r)}catch(o){throw UM(e,o.message)}}static \u0275fac=function(r){return new(r||e)(J(sa,16))};static \u0275pipe=fp({name:"number",type:e,pure:!0})}return e})();function HM(e){return!(e==null||e===""||e!==e)}function $M(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new $(2309,!1);return e}var Yt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ln({type:e});static \u0275inj=jt({})}return e})();function Ap(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var da=class{};var x_="browser";var au=new z(""),Pp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(X(au),X(Je))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),fa=class{_doc;constructor(t){this._doc=t}manager},Rp="ng-app-id";function T_(e){for(let t of e)t.remove()}function A_(e,t){let n=t.createElement("style");return n.textContent=e,n}function GM(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Rp}="${t}"],link[${Rp}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Rp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function kp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Fp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,GM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,A_);r?.forEach(i=>this.addUsage(i,this.external,kp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(T_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])T_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,A_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,kp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(X(lt),X(Uc),X($c,8),X(To))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lp=/%COMP%/g;var N_="%COMP%",WM=`_nghost-${N_}`,qM=`_ngcontent-${N_}`,ZM=!0,YM=new z("",{providedIn:"root",factory:()=>ZM});function KM(e){return qM.replace(Lp,e)}function QM(e){return WM.replace(Lp,e)}function k_(e,t){return t.map(n=>n.replace(Lp,e))}var Vp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ha(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof su?i.applyToHost(n):i instanceof pa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Qn.Emulated:o=new su(l,c,r,this.appId,u,s,a,d,h);break;case Qn.ShadowDom:return new Op(l,c,n,r,s,a,this.nonce,d,h);default:o=new pa(l,c,r,u,s,a,d,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(X(Pp),X(Fp),X(Uc),X(YM),X(lt),X(To),X(Je),X($c),X(ia,8))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),ha=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Np[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(R_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(R_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Np[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Np[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Sn.DashCase|Sn.Important)?t.style.setProperty(n,r,i&Sn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Zt().getGlobalEventTarget(this.doc,t),!t))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function R_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Op=class extends ha{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=k_(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=kp(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pa=class extends ha{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?k_(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},su=class extends pa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=KM(u),this.hostAttr=QM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var lu=class e extends ca{supportsDOMEvents=!0;static makeCurrent(){Ep(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=JM();return n==null?null:XM(n)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ap(document.cookie,t)}},ga=null;function JM(){return ga=ga||document.head.querySelector("base"),ga?ga.getAttribute("href"):null}function XM(e){return new URL(e,document.baseURI).pathname}var ex=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),P_=(()=>{class e extends fa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(X(lt))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),O_=["alt","control","meta","shift"],tx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nx={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},F_=(()=>{class e extends fa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),O_.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=tx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),O_.forEach(s=>{if(s!==i){let a=nx[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(X(lt))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function jp(e,t){let n=F({rootComponent:e},rx(t));return m_(n)}function rx(e){return{appProviders:[...lx,...e?.providers??[]],platformProviders:ax}}function ix(){lu.makeCurrent()}function ox(){return new yn}function sx(){return Wh(document),document}var ax=[{provide:To,useValue:x_},{provide:Hc,useValue:ix,multi:!0},{provide:lt,useFactory:sx}];var lx=[{provide:Os,useValue:"root"},{provide:yn,useFactory:ox},{provide:au,useClass:P_,multi:!0,deps:[lt]},{provide:au,useClass:F_,multi:!0,deps:[lt]},Vp,Fp,Pp,{provide:wi,useExisting:Vp},{provide:da,useClass:ex},[]];var L_=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(X(lt))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ie="primary",Aa=Symbol("RouteTitle"),zp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ni(e){return new zp(e)}function G_(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ux(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!An(e[n],t[n]))return!1;return!0}function An(e,t){let n=e?Gp(e):void 0,r=t?Gp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!W_(e[i],t[i]))return!1;return!0}function Gp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function W_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function q_(e){return e.length>0?e[e.length-1]:null}function lr(e){return Qd(e)?e:Or(e)?Se(Promise.resolve(e)):Q(e)}var dx={exact:Y_,subset:K_},Z_={exact:fx,subset:hx,ignored:()=>!0};function V_(e,t,n){return dx[n.paths](e.root,t.root,n.matrixParams)&&Z_[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function fx(e,t){return An(e,t)}function Y_(e,t,n){if(!Ai(e.segments,t.segments)||!du(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Y_(e.children[r],t.children[r],n))return!1;return!0}function hx(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>W_(e[n],t[n]))}function K_(e,t,n){return Q_(e,t,t.segments,n)}function Q_(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Ai(i,n)||t.hasChildren()||!du(i,n,r))}else if(e.segments.length===n.length){if(!Ai(e.segments,n)||!du(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!K_(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ai(e.segments,i)||!du(e.segments,i,r)||!e.children[ie]?!1:Q_(e.children[ie],t,o,r)}}function du(e,t,n){return t.every((r,i)=>Z_[n](e[i].parameters,r.parameters))}var Nn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ve([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){return mx.serialize(this)}},ve=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fu(this)}},Lr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ni(this.parameters),this._parameterMap}toString(){return X_(this)}};function px(e,t){return Ai(e,t)&&e.every((n,r)=>An(n.parameters,t[r].parameters))}function Ai(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function gx(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ie&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(t(i,r)))}),n}var Ra=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>new ki,providedIn:"root"})}return e})(),ki=class{parse(t){let n=new qp(t);return new Nn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ma(t.root,!0)}`,r=_x(t.queryParams),i=typeof t.fragment=="string"?`#${vx(t.fragment)}`:"";return`${n}${r}${i}`}},mx=new ki;function fu(e){return e.segments.map(t=>X_(t)).join("/")}function ma(e,t){if(!e.hasChildren())return fu(e);if(t){let n=e.children[ie]?ma(e.children[ie],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${ma(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=gx(e,(r,i)=>i===ie?[ma(e.children[ie],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ie]!=null?`${fu(e)}/${n[0]}`:`${fu(e)}/(${n.join("//")})`}}function J_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cu(e){return J_(e).replace(/%3B/gi,";")}function vx(e){return encodeURI(e)}function Wp(e){return J_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hu(e){return decodeURIComponent(e)}function j_(e){return hu(e.replace(/\+/g,"%20"))}function X_(e){return`${Wp(e.path)}${yx(e.parameters)}`}function yx(e){return Object.entries(e).map(([t,n])=>`;${Wp(t)}=${Wp(n)}`).join("")}function _x(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cu(n)}=${cu(i)}`).join("&"):`${cu(n)}=${cu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Dx=/^[^\/()?;#]+/;function Bp(e){let t=e.match(Dx);return t?t[0]:""}var wx=/^[^\/()?;=#]+/;function bx(e){let t=e.match(wx);return t?t[0]:""}var Cx=/^[^=?&#]+/;function Ex(e){let t=e.match(Cx);return t?t[0]:""}var Ix=/^[^&#]+/;function Sx(e){let t=e.match(Ix);return t?t[0]:""}var qp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ie]=new ve(t,n)),r}parseSegment(){let t=Bp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new Lr(hu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=bx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Bp(this.remaining);i&&(r=i,this.capture(r))}t[hu(n)]=hu(r)}parseQueryParam(t){let n=Ex(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Sx(this.remaining);s&&(r=s,this.capture(r))}let i=j_(n),o=j_(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ie);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ie]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}};function e1(e){return e.segments.length>0?new ve([],{[ie]:e}):e}function t1(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=t1(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ve(e.segments,t);return Mx(n)}function Mx(e){if(e.numberOfChildren===1&&e.children[ie]){let t=e.children[ie];return new ve(e.segments.concat(t.segments),t.children)}return e}function Vr(e){return e instanceof Nn}function n1(e,t,n=null,r=null){let i=r1(e);return i1(i,t,n,r)}function r1(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ve(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=e1(r);return t??i}function i1(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Up(i,i,i,n,r);let o=xx(t);if(o.toRoot())return Up(i,i,new ve([],{}),n,r);let s=Tx(o,i,e),a=s.processChildren?ya(s.segmentGroup,s.index,o.commands):s1(s.segmentGroup,s.index,o.commands);return Up(i,s.segmentGroup,a,n,r)}function pu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function wa(e){return typeof e=="object"&&e!=null&&e.outlets}function Up(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=o1(e,t,n);let a=e1(t1(s));return new Nn(a,o,i)}function o1(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=o1(o,t,n)}),new ve(e.segments,r)}var gu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&pu(r[0]))throw new $(4003,!1);let i=r.find(wa);if(i&&i!==q_(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new gu(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gu(n,t,r)}var Uo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Tx(e,t,n){if(e.isAbsolute)return new Uo(t,!0,0);if(!n)return new Uo(t,!1,NaN);if(n.parent===null)return new Uo(n,!0,0);let r=pu(e.commands[0])?0:1,i=n.segments.length-1+r;return Ax(n,i,e.numberOfDoubleDots)}function Ax(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Uo(r,!1,i-o)}function Rx(e){return wa(e[0])?e[0].outlets:{[ie]:e}}function s1(e,t,n){if(e??=new ve([],{}),e.segments.length===0&&e.hasChildren())return ya(e,t,n);let r=Nx(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ve(e.segments.slice(0,r.pathIndex),{});return o.children[ie]=new ve(e.segments.slice(r.pathIndex),e.children),ya(o,0,i)}else return r.match&&i.length===0?new ve(e.segments,{}):r.match&&!e.hasChildren()?Zp(e,t,n):r.match?ya(e,0,i):Zp(e,t,n)}function ya(e,t,n){if(n.length===0)return new ve(e.segments,{});{let r=Rx(n),i={};if(Object.keys(r).some(o=>o!==ie)&&e.children[ie]&&e.numberOfChildren===1&&e.children[ie].segments.length===0){let o=ya(e.children[ie],t,n);return new ve(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=s1(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(e.segments,i)}}function Nx(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(wa(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!U_(l,c,s))return o;r+=2}else{if(!U_(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(wa(o)){let l=kx(o.outlets);return new ve(r,l)}if(i===0&&pu(n[0])){let l=e.segments[t];r.push(new Lr(l.path,B_(n[0]))),i++;continue}let s=wa(o)?o.outlets[ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pu(a)?(r.push(new Lr(s,B_(a))),i+=2):(r.push(new Lr(s,{})),i++)}return new ve(r,{})}function kx(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Zp(new ve([],{}),0,r))}),t}function B_(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function U_(e,t,n){return e==n.path&&An(t,n.parameters)}var _a="imperative",tt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(tt||{}),Pt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Oi=class extends Pt{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Pt{urlAfterRedirects;type=tt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(vt||{}),ba=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ba||{}),Rn=class extends Pt{reason;code;type=tt.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sr=class extends Pt{reason;code;type=tt.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},$o=class extends Pt{error;target;type=tt.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ca=class extends Pt{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mu=class extends Pt{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vu=class extends Pt{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yu=class extends Pt{urlAfterRedirects;state;type=tt.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_u=class extends Pt{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class{route;type=tt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wu=class{route;type=tt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bu=class{snapshot;type=tt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cu=class{snapshot;type=tt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eu=class{snapshot;type=tt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iu=class{snapshot;type=tt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ea=class{},zo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Ox(e){return!(e instanceof Ea)&&!(e instanceof zo)}function Px(e,t){return e.providers&&!e._injector&&(e._injector=ra(e.providers,t,`Route: ${e.path}`)),e._injector??t}function fn(e){return e.outlet||ie}function Fx(e,t){let n=e.filter(r=>fn(r)===t);return n.push(...e.filter(r=>fn(r)!==t)),n}function qo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Su=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Zo(this.rootInjector)}},Zo=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Su(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(X(Ye))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Yp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Yp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Kp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Kp(t,this._root).map(n=>n.value)}};function Yp(e,t){if(e===t.value)return t;for(let n of t.children){let r=Yp(e,n);if(r)return r}return null}function Kp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Kp(e,n);if(r.length)return r.unshift(t),r}return[]}var Ot=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ia=class extends Mu{snapshot;constructor(t,n){super(t),this.snapshot=n,ig(this,t)}toString(){return this.snapshot.toString()}};function a1(e){let t=Lx(e),n=new ot([new Lr("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new ar(n,r,o,s,i,ie,e,t.root);return a.snapshot=t.root,new Ia(new Ot(a,[]),t)}function Lx(e){let t={},n={},r={},i="",o=new Ri([],t,r,i,n,ie,e,null,{});return new Sa("",new Ot(o,[]))}var ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(c=>c[Aa]))??Q(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(t=>Ni(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(t=>Ni(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:F(F({},t.params),e.params),data:F(F({},t.data),e.data),resolve:F(F(F(F({},e.data),t.data),i?.data),e._resolvedData)}:r={params:F({},e.params),data:F({},e.data),resolve:F(F({},e.data),e._resolvedData??{})},i&&c1(i)&&(r.resolve[Aa]=i.title),r}var Ri=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Aa]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ni(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Sa=class extends Mu{url;constructor(t,n){super(n),this.url=t,ig(this,n)}toString(){return l1(this._root)}};function ig(e,t){t.value._routerState=e,t.children.forEach(n=>ig(e,n))}function l1(e){let t=e.children.length>0?` { ${e.children.map(l1).join(", ")} } `:"";return`${e.value}${t}`}function Hp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,An(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),An(t.params,n.params)||e.paramsSubject.next(n.params),ux(t.url,n.url)||e.urlSubject.next(n.url),An(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Qp(e,t){let n=An(e.params,t.params)&&px(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Qp(e.parent,t.parent))}function c1(e){return typeof e.title=="string"||e.title===null}var u1=new z(""),Na=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Ue;deactivateEvents=new Ue;attachEvents=new Ue;detachEvents=new Ue;routerOutletData=g_(void 0);parentContexts=O(Zo);location=O(Rr);changeDetector=O(xi);inputBinder=O(Nu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Jp(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=mt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Mn]})}return e})(),Jp=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ar?this.route:t===Zo?this.childContexts:t===u1?this.outletData:this.parent.get(t,n)}},Nu=new z("");var og=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Re({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Me(0,"router-outlet")},dependencies:[Na],encapsulation:2})}return e})();function sg(e){let t=e.children&&e.children.map(sg),n=t?ae(F({},e),{children:t}):F({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=og),n}function Vx(e,t,n){let r=Ma(e,t._root,n?n._root:void 0);return new Ia(r,t)}function Ma(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=jx(e,t,n);return new Ot(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ma(e,a)),s}}let r=Bx(t.value),i=t.children.map(o=>Ma(e,o));return new Ot(r,i)}}function jx(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ma(e,r,i);return Ma(e,r)})}function Bx(e){return new ar(new ot(e.url),new ot(e.params),new ot(e.queryParams),new ot(e.fragment),new ot(e.data),e.outlet,e.component,e)}var Go=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},d1="ngNavigationCancelingError";function Tu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Vr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=f1(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function f1(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[d1]=!0,n.cancellationCode=t,n}function Ux(e){return h1(e)&&Vr(e.url)}function h1(e){return!!e&&e[d1]}var Hx=(e,t,n,r)=>ue(i=>(new Xp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Xp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Hp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Bo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Bo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Bo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Bo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Iu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Cu(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Hp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Au=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ho=class{component;route;constructor(t,n){this.component=t,this.route=n}};function $x(e,t,n){let r=e._root,i=t?t._root:null;return va(r,i,n,[r.value])}function zx(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Yo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!vf(e)?e:t.get(e):r}function va(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bo(t);return e.children.forEach(s=>{Gx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Da(a,n.getContext(s),i)),i}function Gx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Wx(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Au(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?va(e,t,a?a.children:null,r,i):va(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ho(a.outlet.component,s))}else s&&Da(t,a,i),i.canActivateChecks.push(new Au(r)),o.component?va(e,null,a?a.children:null,r,i):va(e,null,n,r,i);return i}function Wx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ai(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ai(e.url,t.url)||!An(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qp(e,t)||!An(e.queryParams,t.queryParams);case"paramsChange":default:return!Qp(e,t)}}function Da(e,t,n){let r=Bo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Da(s,t.children.getContext(o),n):Da(s,null,n):Da(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ho(t.outlet.component,i)):n.canDeactivateChecks.push(new Ho(null,i)):n.canDeactivateChecks.push(new Ho(null,i))}function ka(e){return typeof e=="function"}function qx(e){return typeof e=="boolean"}function Zx(e){return e&&ka(e.canLoad)}function Yx(e){return e&&ka(e.canActivate)}function Kx(e){return e&&ka(e.canActivateChild)}function Qx(e){return e&&ka(e.canDeactivate)}function Jx(e){return e&&ka(e.canMatch)}function p1(e){return e instanceof $n||e?.name==="EmptyError"}var uu=Symbol("INITIAL_VALUE");function Wo(){return Vt(e=>Gl(e.map(t=>t.pipe(Gn(1),tf(uu)))).pipe(ue(t=>{for(let n of t)if(n!==!0){if(n===uu)return uu;if(n===!1||Xx(n))return n}return!0}),Mt(t=>t!==uu),Gn(1)))}function Xx(e){return Vr(e)||e instanceof Go}function eT(e,t){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(ae(F({},n),{guardsResult:!0})):tT(s,r,i,e).pipe(Be(a=>a&&qx(a)?nT(r,o,e,t):Q(a)),ue(a=>ae(F({},n),{guardsResult:a})))})}function tT(e,t,n,r){return Se(e).pipe(Be(i=>aT(i.component,i.route,n,t,r)),Wn(i=>i!==!0,!0))}function nT(e,t,n,r){return Se(t).pipe(ni(i=>ho(iT(i.route.parent,r),rT(i.route,r),sT(e,i.path,n),oT(e,i.route,n))),Wn(i=>i!==!0,!0))}function rT(e,t){return e!==null&&t&&t(new Eu(e)),Q(!0)}function iT(e,t){return e!==null&&t&&t(new bu(e)),Q(!0)}function oT(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Is(()=>{let s=qo(t)??n,a=Yo(o,s),l=Yx(a)?a.canActivate(t,e):gt(s,()=>a(t,e));return lr(l).pipe(Wn())}));return Q(i).pipe(Wo())}function sT(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>zx(s)).filter(s=>s!==null).map(s=>Is(()=>{let a=s.guards.map(l=>{let c=qo(s.node)??n,u=Yo(l,c),d=Kx(u)?u.canActivateChild(r,e):gt(c,()=>u(r,e));return lr(d).pipe(Wn())});return Q(a).pipe(Wo())}));return Q(o).pipe(Wo())}function aT(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let l=qo(t)??i,c=Yo(a,l),u=Qx(c)?c.canDeactivate(e,t,n,r):gt(l,()=>c(e,t,n,r));return lr(u).pipe(Wn())});return Q(s).pipe(Wo())}function lT(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=Yo(s,e),l=Zx(a)?a.canLoad(t,n):gt(e,()=>a(t,n));return lr(l)});return Q(o).pipe(Wo(),g1(r))}function g1(e){return qd(Ze(t=>{if(typeof t!="boolean")throw Tu(e,t)}),ue(t=>t===!0))}function cT(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=Yo(s,e),l=Jx(a)?a.canMatch(t,n):gt(e,()=>a(t,n));return lr(l)});return Q(o).pipe(Wo(),g1(r))}var xa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ta=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function jo(e){return uo(new xa(e))}function uT(e){return uo(new $(4e3,!1))}function dT(e){return uo(f1(!1,vt.GuardRejected))}var eg=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ie])return uT(`${t.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(t,n,r,i,o){return fT(n,i,o).pipe(ue(s=>{if(s instanceof Nn)throw new Ta(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ta(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Nn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ve(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function fT(e,t,n){if(typeof e=="string")return Q(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=t;return lr(gt(n,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d})))}var tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hT(e,t,n,r,i){let o=m1(e,t,n);return o.matched?(r=Px(t,r),cT(r,t,n,i).pipe(ue(s=>s===!0?o:F({},tg)))):Q(o)}function m1(e,t,n){if(t.path==="**")return pT(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?F({},tg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||G_)(n,e,t);if(!i)return F({},tg);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pT(e){return{matched:!0,parameters:e.length>0?q_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function H_(e,t,n,r){return n.length>0&&vT(e,n,r)?{segmentGroup:new ve(t,mT(r,new ve(n,e.children))),slicedSegments:[]}:n.length===0&&yT(e,n,r)?{segmentGroup:new ve(e.segments,gT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ve(e.segments,e.children),slicedSegments:n}}function gT(e,t,n,r){let i={};for(let o of n)if(ku(e,t,o)&&!r[fn(o)]){let s=new ve([],{});i[fn(o)]=s}return F(F({},r),i)}function mT(e,t){let n={};n[ie]=t;for(let r of e)if(r.path===""&&fn(r)!==ie){let i=new ve([],{});n[fn(r)]=i}return n}function vT(e,t,n){return n.some(r=>ku(e,t,r)&&fn(r)!==ie)}function yT(e,t,n){return n.some(r=>ku(e,t,r))}function ku(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _T(e,t,n){return t.length===0&&!e.children[n]}var ng=class{};function DT(e,t,n,r,i,o,s="emptyOnly"){return new rg(e,t,n,r,i,s,o).recognize()}var wT=31,rg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new eg(this.urlSerializer,this.urlTree)}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){let t=H_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ue(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),o=new Sa("",i),s=n1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Ri([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ie,n).pipe(ue(r=>({children:r,rootSnapshot:n})),zn(r=>{if(r instanceof Ta)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xa?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(ue(s=>s instanceof Ot?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(ni(s=>{let a=r.children[s],l=Fx(n,s);return this.processSegmentGroup(t,l,a,s,i)}),ef((s,a)=>(s.push(...a),s)),vr(null),Xd(),Be(s=>{if(s===null)return jo(r);let a=v1(s);return bT(a),Q(a)}))}processSegment(t,n,r,i,o,s,a){return Se(n).pipe(ni(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(zn(c=>{if(c instanceof xa)return Q(null);throw c}))),Wn(l=>!!l),zn(l=>{if(p1(l))return _T(r,i,o)?Q(new ng):jo(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return fn(r)!==s&&(s===ie||!ku(i,o,r))?jo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):jo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=m1(n,i,o);if(!l)return jo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wT&&(this.allowRedirects=!1));let f=new Ri(o,c,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,$_(i),fn(i),i.component??i._loadedComponent??null,i,z_(i)),p=xu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t).pipe(Vt(y=>this.applyRedirects.lineralizeSegments(i,y)),Be(y=>this.processSegment(t,r,n,y.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=hT(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Vt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Vt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Ri(h,d,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,$_(r),fn(r),r.component??r._loadedComponent??null,r,z_(r)),v=xu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:m}=H_(n,h,f,c);if(m.length===0&&y.hasChildren())return this.processChildren(u,c,y,p).pipe(ue(_=>new Ot(p,_)));if(c.length===0&&m.length===0)return Q(new Ot(p,[]));let g=fn(r)===o;return this.processSegment(u,c,y,m,g?ie:o,!0,p).pipe(ue(_=>new Ot(p,_ instanceof Ot?[_]:[])))}))):jo(n)))}getChildConfig(t,n,r){return n.children?Q({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):lT(t,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(t,n).pipe(Ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):dT(n))):Q({routes:[],injector:t})}};function bT(e){e.sort((t,n)=>t.value.outlet===ie?-1:n.value.outlet===ie?1:t.value.outlet.localeCompare(n.value.outlet))}function CT(e){let t=e.value.routeConfig;return t&&t.path===""}function v1(e){let t=[],n=new Set;for(let r of e){if(!CT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=v1(r.children);t.push(new Ot(r.value,i))}return t.filter(r=>!n.has(r))}function $_(e){return e.data||{}}function z_(e){return e.resolve||{}}function ET(e,t,n,r,i,o){return Be(s=>DT(e,t,n,r,s.extractedUrl,i,o).pipe(ue(({state:a,tree:l})=>ae(F({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function IT(e,t){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of y1(l))s.add(c);let a=0;return Se(s).pipe(ni(l=>o.has(l)?ST(l,r,e,t):(l.data=xu(l,l.parent,e).resolve,Q(void 0))),Ze(()=>a++),po(1),Be(l=>a===s.size?Q(n):wt))})}function y1(e){let t=e.children.map(n=>y1(n)).flat();return[e,...t]}function ST(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!c1(i)&&(o[Aa]=i.title),Is(()=>(e.data=xu(e,e.parent,n).resolve,MT(o,e,t,r).pipe(ue(s=>(e._resolvedData=s,e.data=F(F({},e.data),s),null)))))}function MT(e,t,n,r){let i=Gp(e);if(i.length===0)return Q({});let o={};return Se(i).pipe(Be(s=>xT(e[s],t,n,r).pipe(Wn(),Ze(a=>{if(a instanceof Go)throw Tu(new ki,a);o[s]=a}))),po(1),ue(()=>o),zn(s=>p1(s)?wt:uo(s)))}function xT(e,t,n,r){let i=qo(t)??r,o=Yo(e,i),s=o.resolve?o.resolve(t,n):gt(i,()=>o(t,n));return lr(s)}function $p(e){return Vt(t=>{let n=e(t);return n?Se(n).pipe(ue(()=>t)):Q(t)})}var ag=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Aa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>O(_1),providedIn:"root"})}return e})(),_1=(()=>{class e extends ag{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(X(L_))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ko=new z("",{providedIn:"root",factory:()=>({})}),Oa=new z(""),D1=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(bp);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(gt(n,()=>r.loadComponent())).pipe(ue(b1),Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ss(()=>{this.componentLoaders.delete(r)})),o=new co(i,()=>new ke).pipe(lo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=w1(r,this.compiler,n,this.onLoadEndListener).pipe(Ss(()=>{this.childrenLoaders.delete(r)})),s=new co(o,()=>new ke).pipe(lo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function w1(e,t,n,r){return lr(gt(n,()=>e.loadChildren())).pipe(ue(b1),Be(i=>i instanceof Kc||Array.isArray(i)?Q(i):Se(t.compileModuleAsync(i))),ue(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Oa,[],{optional:!0,self:!0}).flat()),{routes:s.map(sg),injector:o}}))}function TT(e){return e&&typeof e=="object"&&"default"in e}function b1(e){return TT(e)?e.default:e}var Ou=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>O(AT),providedIn:"root"})}return e})(),AT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),C1=new z("");var E1=new z(""),I1=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ke;transitionAbortWithErrorSubject=new ke;configLoader=O(D1);environmentInjector=O(Ye);destroyRef=O(mi);urlSerializer=O(Ra);rootContexts=O(Zo);location=O(Lo);inputBindingEnabled=O(Nu,{optional:!0})!==null;titleStrategy=O(ag);options=O(Ko,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(Ou);createViewTransition=O(C1,{optional:!0});navigationErrorHandler=O(E1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Du(i)),r=i=>this.events.next(new wu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ot(null),this.transitions.pipe(Mt(r=>r!==null),Vt(r=>{let i=!1;return Q(r).pipe(Vt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),wt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ae(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new sr(o.id,this.urlSerializer.serialize(o.rawUrl),l,ba.IgnoredSameUrlNavigation)),o.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(Vt(l=>(this.events.next(new Oi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?wt:Promise.resolve(l))),ET(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ae(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Ca(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:h}=o,f=new Oi(l,this.urlSerializer.serialize(c),u,d);this.events.next(f);let p=a1(this.rootComponentType).snapshot;return this.currentTransition=r=ae(F({},o),{targetSnapshot:p,urlAfterRedirects:c,extras:ae(F({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,Q(r)}else{let l="";return this.events.next(new sr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,ba.IgnoredByUrlHandlingStrategy)),o.resolve(!1),wt}}),Ze(o=>{let s=new mu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ue(o=>(this.currentTransition=r=ae(F({},o),{guards:$x(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),eT(this.environmentInjector,o=>this.events.next(o)),Ze(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Tu(this.urlSerializer,o.guardsResult);let s=new vu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vt.GuardRejected),!1)),$p(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(Ze(s=>{let a=new yu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Vt(s=>{let a=!1;return Q(s).pipe(IT(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",vt.NoDataFromResolver)}}))}),Ze(s=>{let a=new _u(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),$p(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=qo(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Ze(u=>{a.component=u}),ue(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Gl(s(o.targetSnapshot.root)).pipe(vr(null),Gn(1))}),$p(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Se(a).pipe(ue(()=>r)):Q(r)}),ue(o=>{let s=Vx(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ae(F({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ze(()=>{this.events.next(new Ea)}),Hx(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Gn(1),ql(new de(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Mt(()=>!i&&!r.targetRouterState),Ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vt.Aborted)}))),Ze({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ql(this.transitionAbortWithErrorSubject.pipe(Ze(o=>{throw o}))),Ss(()=>{i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),zn(o=>{if(this.destroyed)return r.resolve(!1),wt;if(i=!0,h1(o))this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Ux(o)?this.events.next(new zo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new $o(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=gt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Go){let{message:l,cancellationCode:c}=Tu(this.urlSerializer,a);this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new zo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return wt}))}))}cancelNavigationTransition(n,r,i){let o=new Rn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RT(e){return e!==_a}var S1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>O(NT),providedIn:"root"})}return e})(),Ru=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},NT=(()=>{class e extends Ru{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ei(e)))(i||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),M1=(()=>{class e{urlSerializer=O(Ra);options=O(Ko,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Lo);urlHandlingStrategy=O(Ou);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Nn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Nn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=a1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>O(kT),providedIn:"root"})}return e})(),kT=(()=>{class e extends M1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Oi?this.updateStateMemento():n instanceof sr?this.commitTransition(r):n instanceof Ca?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ea?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Rn&&n.code!==vt.SupersededByNewNavigation&&n.code!==vt.Redirect?this.restoreHistory(r):n instanceof $o?this.restoreHistory(r,!0):n instanceof hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ei(e)))(i||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lg(e,t){e.events.pipe(Mt(n=>n instanceof hn||n instanceof Rn||n instanceof $o||n instanceof sr),ue(n=>n instanceof hn||n instanceof sr?0:(n instanceof Rn?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?2:1),Mt(n=>n!==2),Gn(1)).subscribe(()=>{t()})}var OT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(mp);stateManager=O(M1);options=O(Ko,{optional:!0})||{};pendingTasks=O(Kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(I1);urlSerializer=O(Ra);location=O(Lo);urlHandlingStrategy=O(Ou);injector=O(Ye);_events=new ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(S1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Oa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Nu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rn&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof zo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RT(i.source)},s);this.scheduleNavigation(a,_a,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ox(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_a,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=F({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(At)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=r1(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return i1(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Vr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_a,null,r)}navigate(n,r={skipLocationChange:!1}){return FT(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},OT):r===!1?i=F({},PT):i=r,Vr(n))return V_(this.currentUrlTree,n,i);let o=this.parseUrl(n);return V_(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return lg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FT(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new $(4008,!1)}var Qo=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=En(null);get href(){return dn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ke;applicationErrorHandler=O(At);options=O(Ko,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(O(new nu("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof hn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Vr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Vr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(J(jr),J(ar),ea("tabindex"),J(Xn),J(Gt),J(Fo))};static \u0275dir=mt({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ro("href",i.reactiveHref(),Yh)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Po],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Po],replaceUrl:[2,"replaceUrl","replaceUrl",Po],routerLink:"routerLink"},features:[Mn]})}return e})(),cg=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ue;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof hn&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(fo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(n).pipe(fo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=VT(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(J(jr),J(Gt),J(Xn),J(xi),J(Qo,8))};static \u0275dir=mt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&wp(o,Qo,5),r&2){let s;nr(s=rr())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Mn]})}return e})();function VT(e){return!!e.paths}var jT=new z("");function ug(e,...t){return rc([{provide:Oa,multi:!0,useValue:e},[],{provide:ar,useFactory:BT,deps:[jr]},{provide:Qc,multi:!0,useFactory:UT},t.map(n=>n.\u0275providers)])}function BT(e){return e.routerState.root}function UT(){let e=O(nn);return t=>{let n=e.get(Pr);if(t!==n.components[0])return;let r=e.get(jr),i=e.get(HT);e.get($T)===1&&r.initialNavigation(),e.get(zT,null,{optional:!0})?.setUpPreloading(),e.get(jT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HT=new z("",{factory:()=>new ke}),$T=new z("",{providedIn:"root",factory:()=>1});var zT=new z("");var Xt=pb(gw());var fd=typeof self<"u"?self:global,nl=typeof navigator<"u",VR=nl&&typeof HTMLImageElement>"u",Xu=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),hd=fd.Buffer,Qu=fd.BigInt,pd=!!hd,jR=e=>e;function ed(e,t=jR){if(Xu)try{return typeof Ds=="function"?Promise.resolve(t(Ds(e))):import(e).then(t)}catch{console.warn(`Couldn't load ${e}`)}}var sm=fd.fetch,BR=e=>sm=e;if(!fd.fetch){let e=ed("http",r=>r),t=ed("https",r=>r),n=(r,{headers:i}={})=>new Promise((o,s)=>L(null,null,function*(){let{port:a,hostname:l,pathname:c,protocol:u,search:d}=new URL(r),h={method:"GET",hostname:l,path:encodeURI(c)+d,headers:i};a!==""&&(h.port=Number(a));let f=(u==="https:"?yield t:yield e).request(h,p=>{if(p.statusCode===301||p.statusCode===302){let v=new URL(p.headers.location,r).toString();return n(v,{headers:i}).then(o).catch(s)}o({status:p.statusCode,arrayBuffer:()=>new Promise(v=>{let y=[];p.on("data",m=>y.push(m)),p.on("end",()=>v(Buffer.concat(y)))})})});f.on("error",s),f.end()}));BR(n)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var td=e=>Tw(e)?void 0:e,UR=e=>e!==void 0;function Tw(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(UR).length===0)}function ze(e){let t=new Error(e);throw delete t.stack,t}function zi(e){return(e=function(t){for(;t.endsWith("\0");)t=t.slice(0,-1);return t}(e).trim())===""?void 0:e}function Yg(e){let t=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var Kg=e=>String.fromCharCode.apply(null,e),mw=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function Aw(e){return mw?mw.decode(e):pd?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(Kg(e)))}var Vn=class e{static from(t,n){return t instanceof this&&t.le===n?t:new e(t,void 0,void 0,n)}constructor(t,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-n);let o=new DataView(t,n,r);this._swapDataView(o)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof e){r===void 0&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&ze("Creating view outside of available memory in ArrayBuffer");let o=new DataView(t.buffer,n,r);this._swapDataView(o)}else if(typeof t=="number"){let o=new DataView(new ArrayBuffer(t));this._swapDataView(o)}else ze("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,r=e){return t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||ze("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new e(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return Aw(this.getUint8Array(t,n))}getLatin1String(t=0,n=this.byteLength){let r=this.getUint8Array(t,n);return Kg(r)}getUnicodeString(t=0,n=this.byteLength){let r=[];for(let i=0;i<n&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return Kg(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,r){switch(n){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,n,r){switch(n){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}};function Qg(e,t){ze(`${e} '${t}' was not loaded, try using full build of exifr.`)}var rl=class extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||Qg(this.kind,t),n&&(t in n||function(r,i){ze(`Unknown ${r} '${i}'.`)}(this.kind,t),n[t].enabled||Qg(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}},jn=new rl("file parser"),$e=new rl("segment parser"),Un=new rl("file reader");function HR(e,t){return typeof e=="string"?vw(e,t):nl&&!VR&&e instanceof HTMLImageElement?vw(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new Vn(e):nl&&e instanceof Blob?Jg(e,t,"blob",Zi):void ze("Invalid input argument")}function vw(e,t){return(n=e).startsWith("data:")||n.length>1e4?Xg(e,t,"base64"):Xu&&e.includes("://")?Jg(e,t,"url",qi):Xu?Xg(e,t,"fs"):nl?Jg(e,t,"url",qi):void ze("Invalid input argument");var n}function Jg(e,t,n,r){return L(this,null,function*(){return Un.has(n)?Xg(e,t,n):r?function(i,o){return L(this,null,function*(){let s=yield o(i);return new Vn(s)})}(e,r):void ze(`Parser ${n} is not loaded`)})}function Xg(e,t,n){return L(this,null,function*(){let r=new(Un.get(n))(e,t);return yield r.read(),r})}var qi=e=>sm(e).then(t=>t.arrayBuffer()),Zi=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}),em=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function Fe(e,t,n){let r=new em;for(let[i,o]of n)r.set(i,o);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function Yi(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}var nt=new Map,mn=new Map,Kr=new Map,Wr=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],fs=["jfif","xmp","icc","iptc","ihdr"],Ki=["tiff",...fs],Ne=["ifd0","ifd1","exif","gps","interop"],qr=[...Ki,...Ne],Zr=["makerNote","userComment"],hs=["translateKeys","translateValues","reviveValues","multiSegment"],Yr=[...hs,"sanitize","mergeOutput","silentErrors"],nd=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}},$i=class extends nd{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,r,i){if(super(),Z(this,"enabled",!1),Z(this,"skip",new Set),Z(this,"pick",new Set),Z(this,"deps",new Set),Z(this,"translateKeys",!1),Z(this,"translateValues",!1),Z(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Ne.includes(t),this.canBeFiltered&&(this.dict=nt.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:o,skip:s}=r;o&&o.length>0&&this.translateTagSet(o,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:ze(`Invalid options argument: ${r}`)}applyInheritables(t){let n,r;for(n of hs)r=t[n],r!==void 0&&(this[n]=r)}translateTagSet(t,n){if(this.dict){let r,i,{tagKeys:o,tagValues:s}=this.dict;for(r of t)typeof r=="string"?(i=s.indexOf(r),i===-1&&(i=o.indexOf(Number(r))),i!==-1&&n.add(Number(o[i]))):n.add(r)}else for(let r of t)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,rd(this.pick,this.deps)):this.enabled&&this.pick.size>0&&rd(this.pick,this.deps)}},Dt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},yw=new Map,pr=class extends nd{static useCached(t){let n=yw.get(t);return n!==void 0||(n=new this(t),yw.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):ze(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=nl?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of Wr)this[t]=Dt[t];for(t of Yr)this[t]=Dt[t];for(t of Zr)this[t]=Dt[t];for(t of qr)this[t]=new $i(t,Dt[t],void 0,this)}setupFromTrue(){let t;for(t of Wr)this[t]=Dt[t];for(t of Yr)this[t]=Dt[t];for(t of Zr)this[t]=!0;for(t of qr)this[t]=new $i(t,!0,void 0,this)}setupFromArray(t){let n;for(n of Wr)this[n]=Dt[n];for(n of Yr)this[n]=Dt[n];for(n of Zr)this[n]=Dt[n];for(n of qr)this[n]=new $i(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,Ne)}setupFromObject(t){let n;for(n of(Ne.ifd0=Ne.ifd0||Ne.image,Ne.ifd1=Ne.ifd1||Ne.thumbnail,Object.assign(this,t),Wr))this[n]=Wg(t[n],Dt[n]);for(n of Yr)this[n]=Wg(t[n],Dt[n]);for(n of Zr)this[n]=Wg(t[n],Dt[n]);for(n of Ki)this[n]=new $i(n,Dt[n],t[n],this);for(n of Ne)this[n]=new $i(n,Dt[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Ne,qr),t.tiff===!0?this.batchEnableWithBool(Ne,!0):t.tiff===!1?this.batchEnableWithUserValue(Ne,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Ne):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Ne)}batchEnableWithBool(t,n){for(let r of t)this[r].enabled=n}batchEnableWithUserValue(t,n){for(let r of t){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,n,r,i=r){if(t&&t.length){for(let s of i)this[s].enabled=!1;let o=_w(t,r);for(let[s,a]of o)rd(this[s].pick,a),this[s].enabled=!0}else if(n&&n.length){let o=_w(n,r);for(let[s,a]of o)rd(this[s].skip,a)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:r,iptc:i,icc:o}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),o.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=Ne.some(o=>this[o].enabled===!0)||this.makerNote||this.userComment;for(let o of Ne)this[o].finalizeFilters()}get onlyTiff(){return!fs.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Ki)this[t].enabled&&!$e.has(t)&&Qg("segment parser",t)}};function _w(e,t){let n,r,i,o,s=[];for(i of t){for(o of(n=nt.get(i),r=[],n))(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&s.push([i,r])}return s}function Wg(e,t){return e!==void 0?e:t!==void 0?t:void 0}function rd(e,t){for(let n of t)e.add(n)}Z(pr,"default",Dt);var Bn=class{constructor(t){Z(this,"parsers",{}),Z(this,"output",{}),Z(this,"errors",[]),Z(this,"pushToErrors",n=>this.errors.push(n)),this.options=pr.useCached(t)}read(t){return L(this,null,function*(){this.file=yield HR(t,this.options)})}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[r,i]of jn)if(i.canHandle(t,n))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),ze("Unknown file format")}parse(){return L(this,null,function*(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(yield this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):yield this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),td(t)})}executeParsers(){return L(this,null,function*(){let{output:t}=this;yield this.fileParser.parse();let n=Object.values(this.parsers).map(r=>L(this,null,function*(){let i=yield r.parse();r.assignToOutput(t,i)}));this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),yield Promise.all(n)})}extractThumbnail(){return L(this,null,function*(){this.setup();let{options:t,file:n}=this,r=$e.get("tiff",t);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=yield this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let o=yield this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new r(o,t,n),a=yield s.extractThumbnail();return n.close&&n.close(),a})}};function ps(e,t){return L(this,null,function*(){let n=new Bn(t);return yield n.read(e),n.parse()})}var $R=Object.freeze({__proto__:null,parse:ps,Exifr:Bn,fileParsers:jn,segmentParsers:$e,fileReaders:Un,tagKeys:nt,tagValues:mn,tagRevivers:Kr,createDictionary:Fe,extendDictionary:Yi,fetchUrlAsArrayBuffer:qi,readBlobAsArrayBuffer:Zi,chunkedProps:Wr,otherSegments:fs,segments:Ki,tiffBlocks:Ne,segmentsAndBlocks:qr,tiffExtractables:Zr,inheritables:hs,allFormatters:Yr,Options:pr}),us=class{constructor(t,n,r){Z(this,"errors",[]),Z(this,"ensureSegmentChunk",i=>L(this,null,function*(){let o=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(o,s))i.chunk=this.file.subarray(o,s);else try{i.chunk=yield this.file.readChunk(o,s)}catch(a){ze(`Couldn't read segment: ${JSON.stringify(i)}. ${a.message}`)}else this.file.byteLength>o+s?i.chunk=this.file.subarray(o,s):i.size===void 0?i.chunk=this.file.subarray(o):ze("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let r=new($e.get(t))(n,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let n of t){let{type:r,chunk:i}=n,o=this.options[r];if(o&&o.enabled){let s=this.parsers[r];s&&s.append||s||this.createParser(r,i)}}}readSegments(t){return L(this,null,function*(){let n=t.map(this.ensureSegmentChunk);yield Promise.all(n)})}},Lt=class{static findPosition(t,n){let r=t.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,n,r):this.headerLength,o=n+i,s=r-i;return{offset:n,length:r,headerLength:i,start:o,size:s,end:o+s}}static parse(t,n={}){return new this(t,new pr({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof Vn?t:new Vn(t)}constructor(t,n={},r){Z(this,"errors",[]),Z(this,"raw",new Map),Z(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let r=Kr.get(n),i=mn.get(n),o=nt.get(n),s=this.options[n],a=s.reviveValues&&!!r,l=s.translateValues&&!!i,c=s.translateKeys&&!!o,u={};for(let[d,h]of t)a&&r.has(d)?h=r.get(d)(h):l&&i.has(d)&&(h=this.translateValue(h,i.get(d))),c&&o.has(d)&&(d=o.get(d)||d),u[d]=h;return u}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[n]?Object.assign(t[n],r):t[n]=r}};Z(Lt,"headerLength",4),Z(Lt,"type",void 0),Z(Lt,"multiSegment",!1),Z(Lt,"canHandle",()=>!1);function zR(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function GR(e){return e>=224&&e<=239}function WR(e,t,n){for(let[r,i]of $e)if(i.canHandle(e,t,n))return r}var id=class extends us{constructor(...t){super(...t),Z(this,"appSegments",[]),Z(this,"jpegSegments",[]),Z(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}parse(){return L(this,null,function*(){yield this.findAppSegments(),yield this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)})}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set($e.keyList())):(t=t===void 0?$e.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&$e.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}findAppSegments(t=0,n){return L(this,null,function*(){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:o,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(o).some(a=>{let l=$e.get(a),c=this.options[a];return l.multiSegment&&c.multiSegment}),i&&(yield this.file.readWhole())),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let a=!1;for(;s.size>0&&!a&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,c=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(a=t>l&&!c?!(yield r.readNextChunk(t)):!(yield r.readNextChunk(l)),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}})}findAppSegmentsInRange(t,n){n-=2;let r,i,o,s,a,l,{file:c,findAll:u,wanted:d,remaining:h,options:f}=this;for(;t<n;t++)if(c.getUint8(t)===255){if(r=c.getUint8(t+1),GR(r)){if(i=c.getUint16(t+2),o=WR(c,t,i),o&&d.has(o)&&(s=$e.get(o),a=s.findPosition(c,t),l=f[o],a.type=o,this.appSegments.push(a),!u&&(s.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||h.delete(o)):h.delete(o),h.size===0)))break;f.recordUnknownSegments&&(a=Lt.findPosition(c,t),a.marker=r,this.unknownSegments.push(a)),t+=i+1}else if(zR(r)){if(i=c.getUint16(t+2),r===218&&f.stopAfterSos!==!1)return;f.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,r){let i,o,s,a=new Map;for(let l=0;l<n.length;l++)i=n[l],o=i[r],a.has(o)?s=a.get(o):a.set(o,s=[]),s.push(i);return Array.from(a)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,r])=>{let i=$e.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}getOrFindSegment(t){return L(this,null,function*(){let n=this.getSegment(t);return n===void 0&&(yield this.findAppSegments(0,[t]),n=this.getSegment(t)),n})}};Z(id,"type","jpeg"),jn.set("jpeg",id);var qR=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],tm=class extends Lt{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,r=new Map){let{pick:i,skip:o}=this.options[n];i=new Set(i);let s=i.size>0,a=o.size===0,l=this.chunk.getUint16(t);t+=2;for(let c=0;c<l;c++){let u=this.chunk.getUint16(t);if(s){if(i.has(u)&&(r.set(u,this.parseTag(t,u,n)),i.delete(u),i.size===0))break}else!a&&o.has(u)||r.set(u,this.parseTag(t,u,n));t+=12}return r}parseTag(t,n,r){let{chunk:i}=this,o=i.getUint16(t+2),s=i.getUint32(t+4),a=qR[o];if(a*s<=4?t+=8:t=i.getUint32(t+8),(o<1||o>13)&&ze(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${o}, offset ${t}`),t>i.byteLength&&ze(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${o}, offset ${t} is outside of chunk size ${i.byteLength}`),o===1)return i.getUint8Array(t,s);if(o===2)return zi(i.getString(t,s));if(o===7)return i.getUint8Array(t,s);if(s===1)return this.parseTagValue(o,t);{let l=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(o))(s),c=a;for(let u=0;u<s;u++)l[u]=this.parseTagValue(o,t),t+=c;return l}}parseTagValue(t,n){let{chunk:r}=this;switch(t){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:ze(`Invalid tiff type ${t}`)}}},Ja=class extends tm{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}parse(){return L(this,null,function*(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&(yield this.parseIfd0Block()),t.exif.enabled&&(yield this.safeParse("parseExifBlock")),t.gps.enabled&&(yield this.safeParse("parseGpsBlock")),t.interop.enabled&&(yield this.safeParse("parseInteropBlock")),t.ifd1.enabled&&(yield this.safeParse("parseThumbnailBlock")),this.createOutput()})}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let r=new Map;return this[n]=r,this.parseTags(t,n,r),r}parseIfd0Block(){return L(this,null,function*(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ze("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&ze(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&(yield t.ensureChunk(this.ifd0Offset,Yg(this.options)));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0})}parseExifBlock(){return L(this,null,function*(){if(this.exif||(this.ifd0||(yield this.parseIfd0Block()),this.exifOffset===void 0))return;this.file.tiff&&(yield this.file.ensureChunk(this.exifOffset,Yg(this.options)));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t})}unpack(t,n){let r=t.get(n);r&&r.length===1&&t.set(n,r[0])}parseGpsBlock(){return L(this,null,function*(){if(this.gps||(this.ifd0||(yield this.parseIfd0Block()),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",Dw(...t.get(2),t.get(1))),t.set("longitude",Dw(...t.get(4),t.get(3)))),t})}parseInteropBlock(){return L(this,null,function*(){if(!this.interop&&(this.ifd0||(yield this.parseIfd0Block()),this.interopOffset!==void 0||this.exif||(yield this.parseExifBlock()),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")})}parseThumbnailBlock(t=!1){return L(this,null,function*(){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1})}extractThumbnail(){return L(this,null,function*(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||(yield this.parseThumbnailBlock(!0)),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)})}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,r,i={};for(n of Ne)if(t=this[n],!Tw(t))if(r=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(t,r,i)}};function Dw(e,t,n,r){var i=e+t/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Z(Ja,"type","tiff"),Z(Ja,"headerLength",10),$e.set("tiff",Ja);var ZR=Object.freeze({__proto__:null,default:$R,Exifr:Bn,fileParsers:jn,segmentParsers:$e,fileReaders:Un,tagKeys:nt,tagValues:mn,tagRevivers:Kr,createDictionary:Fe,extendDictionary:Yi,fetchUrlAsArrayBuffer:qi,readBlobAsArrayBuffer:Zi,chunkedProps:Wr,otherSegments:fs,segments:Ki,tiffBlocks:Ne,segmentsAndBlocks:qr,tiffExtractables:Zr,inheritables:hs,allFormatters:Yr,Options:pr,parse:ps}),am={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},lm=Object.assign({},am,{firstChunkSize:4e4,gps:[1,2,3,4]});function Rw(e){return L(this,null,function*(){let t=new Bn(lm);yield t.read(e);let n=yield t.parse();if(n&&n.gps){let{latitude:r,longitude:i}=n.gps;return{latitude:r,longitude:i}}})}var cm=Object.assign({},am,{tiff:!1,ifd1:!0,mergeOutput:!1});function Nw(e){return L(this,null,function*(){let t=new Bn(cm);yield t.read(e);let n=yield t.extractThumbnail();return n&&pd?hd.from(n):n})}function kw(e){return L(this,null,function*(){let t=yield this.thumbnail(e);if(t!==void 0){let n=new Blob([t]);return URL.createObjectURL(n)}})}var um=Object.assign({},am,{firstChunkSize:4e4,ifd0:[274]});function dm(e){return L(this,null,function*(){let t=new Bn(um);yield t.read(e);let n=yield t.parse();if(n&&n.ifd0)return n.ifd0[274]})}var fm=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Gi=!0,Wi=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,r]=t;Gi=Number(n)+.1*Number(r)<13.4,Wi=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Gi=Wi=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Gi=Wi=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Gi=Wi=Number(t)<77}}function Ow(e){return L(this,null,function*(){let t=yield dm(e);return Object.assign({canvas:Gi,css:Wi},fm[t])})}var nm=class extends Vn{constructor(...t){super(...t),Z(this,"ranges",new rm),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+n;if(i>this.byteLength){let{dataView:o}=this._extend(i);this._swapDataView(o)}}}_extend(t){let n;n=pd?hd.allocUnsafe(t):new Uint8Array(t);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(t,n,r=!1){return n=n||this._lengthToEnd(t),r&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,r=!1){r&&this._tryExtend(n,t.byteLength,t);let i=super.set(t,n);return this.ranges.add(n,i.byteLength),i}ensureChunk(t,n){return L(this,null,function*(){this.chunked&&(this.ranges.available(t,n)||(yield this.readChunk(t,n)))})}available(t,n){return this.ranges.available(t,n)}},rm=class{constructor(){Z(this,"list",[])}get length(){return this.list.length}add(t,n,r=0){let i=t+n,o=this.list.filter(s=>ww(t,s.offset,i)||ww(t,s.end,i));if(o.length>0){t=Math.min(t,...o.map(a=>a.offset)),i=Math.max(i,...o.map(a=>a.end)),n=i-t;let s=o.shift();s.offset=t,s.length=n,s.end=i,this.list=this.list.filter(a=>!o.includes(a))}else this.list.push({offset:t,length:n,end:i})}available(t,n){let r=t+n;return this.list.some(i=>i.offset<=t&&r<=i.end)}};function ww(e,t,n){return e<=t&&t<=n}var ds=class extends nm{constructor(t,n){super(0),Z(this,"chunksRead",0),this.input=t,this.options=n}readWhole(){return L(this,null,function*(){this.chunked=!1,yield this.readChunk(this.nextChunkOffset)})}readChunked(){return L(this,null,function*(){this.chunked=!0,yield this.readChunk(0,this.options.firstChunkSize)})}readNextChunk(){return L(this,arguments,function*(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=yield this.readChunk(t,n);return!!r&&r.byteLength===n})}readChunk(t,n){return L(this,null,function*(){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)})}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};Un.set("blob",class extends ds{readWhole(){return L(this,null,function*(){this.chunked=!1;let e=yield Zi(this.input);this._swapArrayBuffer(e)})}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(e,t){return L(this,null,function*(){let n=t?e+t:void 0,r=this.input.slice(e,n),i=yield Zi(r);return this.set(i,e,!0)})}});var YR=Object.freeze({__proto__:null,default:ZR,Exifr:Bn,fileParsers:jn,segmentParsers:$e,fileReaders:Un,tagKeys:nt,tagValues:mn,tagRevivers:Kr,createDictionary:Fe,extendDictionary:Yi,fetchUrlAsArrayBuffer:qi,readBlobAsArrayBuffer:Zi,chunkedProps:Wr,otherSegments:fs,segments:Ki,tiffBlocks:Ne,segmentsAndBlocks:qr,tiffExtractables:Zr,inheritables:hs,allFormatters:Yr,Options:pr,parse:ps,gpsOnlyOptions:lm,gps:Rw,thumbnailOnlyOptions:cm,thumbnail:Nw,thumbnailUrl:kw,orientationOnlyOptions:um,orientation:dm,rotations:fm,get rotateCanvas(){return Gi},get rotateCss(){return Wi},rotation:Ow});Un.set("url",class extends ds{readWhole(){return L(this,null,function*(){this.chunked=!1;let e=yield qi(this.input);e instanceof ArrayBuffer?this._swapArrayBuffer(e):e instanceof Uint8Array&&this._swapBuffer(e)})}_readChunk(e,t){return L(this,null,function*(){let n=t?e+t-1:void 0,r=this.options.httpHeaders||{};(e||n)&&(r.range=`bytes=${[e,n].join("-")}`);let i=yield sm(this.input,{headers:r}),o=yield i.arrayBuffer(),s=o.byteLength;if(i.status!==416)return s!==t&&(this.size=e+s),this.set(o,e,!0)})}});Vn.prototype.getUint64=function(e){let t=this.getUint32(e),n=this.getUint32(e+4);return t<1048575?t<<32|n:typeof Qu!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Qu(t)<<Qu(32)|Qu(n)):void ze("Trying to read 64b value but JS can only handle 53b numbers.")};var im=class extends us{parseBoxes(t=0){let n=[];for(;t<this.file.byteLength-4;){let r=this.parseBoxHead(t);if(n.push(r),r.length===0)break;t+=r.length}return n}parseSubBoxes(t){t.boxes=this.parseBoxes(t.start)}findBox(t,n){return t.boxes===void 0&&this.parseSubBoxes(t),t.boxes.find(r=>r.kind===n)}parseBoxHead(t){let n=this.file.getUint32(t),r=this.file.getString(t+4,4),i=t+8;return n===1&&(n=this.file.getUint64(t+8),i+=8),{offset:t,length:n,kind:r,start:i}}parseBoxFullHead(t){if(t.version!==void 0)return;let n=this.file.getUint32(t.start);t.version=n>>24,t.start+=4}},od=class extends im{static canHandle(t,n){if(n!==0)return!1;let r=t.getUint16(2);if(r>50)return!1;let i=16,o=[];for(;i<r;)o.push(t.getString(i,4)),i+=4;return o.includes(this.type)}parse(){return L(this,null,function*(){let t=this.file.getUint32(0),n=this.parseBoxHead(t);for(;n.kind!=="meta";)t+=n.length,yield this.file.ensureChunk(t,16),n=this.parseBoxHead(t);yield this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&(yield this.findIcc(n)),this.options.tiff.enabled&&(yield this.findExif(n))})}registerSegment(t,n,r){return L(this,null,function*(){yield this.file.ensureChunk(n,r);let i=this.file.subarray(n,r);this.createParser(t,i)})}findIcc(t){return L(this,null,function*(){let n=this.findBox(t,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let i=this.findBox(r,"colr");i!==void 0&&(yield this.registerSegment("icc",i.offset+12,i.length))})}findExif(t){return L(this,null,function*(){let n=this.findBox(t,"iinf");if(n===void 0)return;let r=this.findBox(t,"iloc");if(r===void 0)return;let i=this.findExifLocIdInIinf(n),o=this.findExtentInIloc(r,i);if(o===void 0)return;let[s,a]=o;yield this.file.ensureChunk(s,a);let l=4+this.file.getUint32(s);s+=l,a-=l,yield this.registerSegment("tiff",s,a)})}findExifLocIdInIinf(t){this.parseBoxFullHead(t);let n,r,i,o,s=t.start,a=this.file.getUint16(s);for(s+=2;a--;){if(n=this.parseBoxHead(s),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(i=n.version===3?4:2,o=this.file.getString(r+i+2,4),o==="Exif"))return this.file.getUintBytes(r,i);s+=n.length}}get8bits(t){let n=this.file.getUint8(t);return[n>>4,15&n]}findExtentInIloc(t,n){this.parseBoxFullHead(t);let r=t.start,[i,o]=this.get8bits(r++),[s,a]=this.get8bits(r++),l=t.version===2?4:2,c=t.version===1||t.version===2?2:0,u=a+i+o,d=t.version===2?4:2,h=this.file.getUintBytes(r,d);for(r+=d;h--;){let f=this.file.getUintBytes(r,l);r+=l+c+2+s;let p=this.file.getUint16(r);if(r+=2,f===n)return p>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+a,i),this.file.getUintBytes(r+a+i,o)];r+=p*u}}},sd=class extends od{};Z(sd,"type","heic");var ad=class extends od{};Z(ad,"type","avif"),jn.set("heic",sd),jn.set("avif",ad),Fe(nt,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),Fe(nt,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),Fe(nt,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),Fe(mn,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);var Xa=Fe(mn,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]),bw={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Xa.set(37392,bw),Xa.set(41488,bw);var qg={0:"Normal",1:"Low",2:"High"};function Cw(e){return typeof e=="object"&&e.length!==void 0?e[0]:e}function Ew(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map(n=>String.fromCharCode(n))),t[2]!=="0"&&t[2]!==0||t.pop(),t.join(".")}function Zg(e){if(typeof e=="string"){var[t,n,r,i,o,s]=e.trim().split(/[-: ]/g).map(Number),a=new Date(t,n-1,r);return Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(s)||(a.setHours(i),a.setMinutes(o),a.setSeconds(s)),Number.isNaN(+a)?e:a}}function Qa(e){if(typeof e=="string")return e;let t=[];if(e[1]===0&&e[e.length-1]===0)for(let n=0;n<e.length;n+=2)t.push(Iw(e[n+1],e[n]));else for(let n=0;n<e.length;n+=2)t.push(Iw(e[n],e[n+1]));return zi(String.fromCodePoint(...t))}function Iw(e,t){return e<<8|t}Xa.set(41992,qg),Xa.set(41993,qg),Xa.set(41994,qg),Fe(Kr,["ifd0","ifd1"],[[50827,function(e){return typeof e!="string"?Aw(e):e}],[306,Zg],[40091,Qa],[40092,Qa],[40093,Qa],[40094,Qa],[40095,Qa]]),Fe(Kr,"exif",[[40960,Ew],[36864,Ew],[36867,Zg],[36868,Zg],[40962,Cw],[40963,Cw]]),Fe(Kr,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);var el=class extends Lt{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1752462448&&t.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(t,n){return t.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(t,n){let r=super.findPosition(t,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=t.getUint8(n+72),r.chunkNumber=t.getUint8(n+76),t.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(t){return t.map(n=>n.chunk.getString()).join("")}normalizeInput(t){return typeof t=="string"?t:Vn.from(t).getString()}parse(t=this.chunk){if(!this.localOptions.parse)return t;t=function(o){let s={},a={};for(let l of Vw)s[l]=[],a[l]=0;return o.replace(XR,(l,c,u)=>{if(c==="<"){let d=++a[u];return s[u].push(d),`${l}#${d}`}return`${l}#${s[u].pop()}`})}(t);let n=ld.findAll(t,"rdf","Description");n.length===0&&n.push(new ld("rdf","Description",void 0,t));let r,i={};for(let o of n)for(let s of o.properties)r=JR(s.ns,i),Pw(s,r);return function(o){let s;for(let a in o)s=o[a]=td(o[a]),s===void 0&&delete o[a];return td(o)}(i)}assignToOutput(t,n){if(this.localOptions.parse)for(let[r,i]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(t,"ifd0",i);break;case"exif":this.assignObjectToOutput(t,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(t,r,i)}else t.xmp=n}};Z(el,"type","xmp"),Z(el,"multiSegment",!0),$e.set("xmp",el);var om=class e{static findAll(t){return Fw(t,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(e.unpackMatch)}static unpackMatch(t){let n=t[1],r=t[2],i=t[3].slice(1,-1);return i=Lw(i),new e(n,r,i)}constructor(t,n,r){this.ns=t,this.name=n,this.value=r}serialize(){return this.value}},ld=class e{static findAll(t,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var i=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return Fw(t,i).map(e.unpackMatch)}static unpackMatch(t){let n=t[1],r=t[2],i=t[4],o=t[8];return new e(n,r,i,o)}constructor(t,n,r,i){this.ns=t,this.name=n,this.attrString=r,this.innerXml=i,this.attrs=om.findAll(r),this.children=e.findAll(i),this.value=this.children.length===0?Lw(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:t,name:n}=this;return t==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return QR(this.children.map(KR));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let t={};for(let n of this.properties)Pw(n,t);return this.value!==void 0&&(t.value=this.value),td(t)}};function Pw(e,t){let n=e.serialize();n!==void 0&&(t[e.name]=n)}var KR=e=>e.serialize(),QR=e=>e.length===1?e[0]:e,JR=(e,t)=>t[e]?t[e]:t[e]={};function Fw(e,t){let n,r=[];if(!e)return r;for(;(n=t.exec(e))!==null;)r.push(n);return r}function Lw(e){if(function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""}(e))return;let t=Number(e);if(!Number.isNaN(t))return t;let n=e.toLowerCase();return n==="true"||n!=="false"&&e.trim()}var Vw=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],XR=new RegExp(`(<|\\/)(${Vw.join("|")})`,"g"),Q7=Object.freeze({__proto__:null,default:YR,Exifr:Bn,fileParsers:jn,segmentParsers:$e,fileReaders:Un,tagKeys:nt,tagValues:mn,tagRevivers:Kr,createDictionary:Fe,extendDictionary:Yi,fetchUrlAsArrayBuffer:qi,readBlobAsArrayBuffer:Zi,chunkedProps:Wr,otherSegments:fs,segments:Ki,tiffBlocks:Ne,segmentsAndBlocks:qr,tiffExtractables:Zr,inheritables:hs,allFormatters:Yr,Options:pr,parse:ps,gpsOnlyOptions:lm,gps:Rw,thumbnailOnlyOptions:cm,thumbnail:Nw,thumbnailUrl:kw,orientationOnlyOptions:um,orientation:dm,rotations:fm,get rotateCanvas(){return Gi},get rotateCss(){return Wi},rotation:Ow});var Sw=ed("fs",e=>e.promises);Un.set("fs",class extends ds{readWhole(){return L(this,null,function*(){this.chunked=!1,this.fs=yield Sw;let e=yield this.fs.readFile(this.input);this._swapBuffer(e)})}readChunked(){return L(this,null,function*(){this.chunked=!0,this.fs=yield Sw,yield this.open(),yield this.readChunk(0,this.options.firstChunkSize)})}open(){return L(this,null,function*(){this.fh===void 0&&(this.fh=yield this.fs.open(this.input,"r"),this.size=(yield this.fh.stat(this.input)).size)})}_readChunk(e,t){return L(this,null,function*(){this.fh===void 0&&(yield this.open()),e+t>this.size&&(t=this.size-e);var n=this.subarray(e,t,!0);return yield this.fh.read(n.dataView,0,t,e),n})}close(){return L(this,null,function*(){if(this.fh){let e=this.fh;this.fh=void 0,yield e.close()}})}});Un.set("base64",class extends ds{constructor(...e){super(...e),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}_readChunk(e,t){return L(this,null,function*(){let n,r,i=this.input;e===void 0?(e=0,n=0,r=0):(n=4*Math.floor(e/3),r=e-n/4*3),t===void 0&&(t=this.size);let o=e+t,s=n+4*Math.ceil(o/3);i=i.slice(n,s);let a=Math.min(t,this.size-e);if(pd){let l=hd.from(i,"base64").slice(r,r+a);return this.set(l,e,!0)}{let l=this.subarray(e,a,!0),c=atob(i),u=l.toUint8();for(let d=0;d<a;d++)u[d]=c.charCodeAt(r+d);return l}})}});var cd=class extends us{static canHandle(t,n){return n===18761||n===19789}extendOptions(t){let{ifd0:n,xmp:r,iptc:i,icc:o}=t;r.enabled&&n.deps.add(700),i.enabled&&n.deps.add(33723),o.enabled&&n.deps.add(34675),n.finalizeFilters()}parse(){return L(this,null,function*(){let{tiff:t,xmp:n,iptc:r,icc:i}=this.options;if(t.enabled||n.enabled||r.enabled||i.enabled){let o=Math.max(Yg(this.options),this.options.chunkSize);yield this.file.ensureChunk(0,o),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),yield this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}})}adaptTiffPropAsSegment(t){if(this.parsers.tiff[t]){let n=this.parsers.tiff[t];this.injectSegment(t,n)}}};Z(cd,"type","tiff"),jn.set("tiff",cd);var e2=ed("zlib"),t2=["ihdr","iccp","text","itxt","exif"],ud=class extends us{constructor(...t){super(...t),Z(this,"catchError",n=>this.errors.push(n)),Z(this,"metaChunks",[]),Z(this,"unknownChunks",[])}static canHandle(t,n){return n===35152&&t.getUint32(0)===2303741511&&t.getUint32(4)===218765834}parse(){return L(this,null,function*(){let{file:t}=this;yield this.findPngChunksInRange(8,t.byteLength),yield this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),yield this.findExif().catch(this.catchError),yield this.findXmp().catch(this.catchError),yield this.findIcc().catch(this.catchError)})}findPngChunksInRange(t,n){return L(this,null,function*(){let{file:r}=this;for(;t<n;){let i=r.getUint32(t),o=r.getUint32(t+4),s=r.getString(t+4,4).toLowerCase(),a=i+4+4+4,l={type:s,offset:t,length:a,start:t+4+4,size:i,marker:o};t2.includes(s)?this.metaChunks.push(l):this.unknownChunks.push(l),t+=a}})}parseTextChunks(){let t=this.metaChunks.filter(n=>n.type==="text");for(let n of t){let[r,i]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,i)}}injectKeyValToIhdr(t,n){let r=this.parsers.ihdr;r&&r.raw.set(t,n)}findIhdr(){let t=this.metaChunks.find(n=>n.type==="ihdr");t&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",t.chunk)}findExif(){return L(this,null,function*(){let t=this.metaChunks.find(n=>n.type==="exif");t&&this.injectSegment("tiff",t.chunk)})}findXmp(){return L(this,null,function*(){let t=this.metaChunks.filter(n=>n.type==="itxt");for(let n of t)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)})}findIcc(){return L(this,null,function*(){let t=this.metaChunks.find(a=>a.type==="iccp");if(!t)return;let{chunk:n}=t,r=n.getUint8Array(0,81),i=0;for(;i<80&&r[i]!==0;)i++;let o=i+2,s=n.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",s),Xu){let a=yield e2,l=n.getUint8Array(o);l=a.inflateSync(l),this.injectSegment("icc",l)}})}};Z(ud,"type","png"),jn.set("png",ud),Fe(nt,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Yi(nt,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);var Mw=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Yi(nt,"ifd0",Mw),Yi(nt,"exif",Mw),Fe(mn,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);var tl=class extends Lt{static canHandle(t,n){return t.getUint8(n+1)===224&&t.getUint32(n+4)===1246120262&&t.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}};Z(tl,"type","jfif"),Z(tl,"headerLength",9),$e.set("jfif",tl),Fe(nt,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);var dd=class extends Lt{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}};Z(dd,"type","ihdr"),$e.set("ihdr",dd),Fe(nt,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),Fe(mn,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);var cs=class extends Lt{static canHandle(t,n){return t.getUint8(n+1)===226&&t.getUint32(n+4)===1229144927}static findPosition(t,n){let r=super.findPosition(t,n);return r.chunkNumber=t.getUint8(n+16),r.chunkCount=t.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(t){return function(n){let r=function(i){let o=i[0].constructor,s=0;for(let c of i)s+=c.length;let a=new o(s),l=0;for(let c of i)a.set(c,l),l+=c.length;return a}(n.map(i=>i.chunk.toUint8()));return new Vn(r)}(t)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:t}=this;this.chunk.byteLength<84&&ze("ICC header is too short");for(let[n,r]of Object.entries(n2)){n=parseInt(n,10);let i=r(this.chunk,n);i!=="\0\0\0\0"&&t.set(n,i)}}parseTags(){let t,n,r,i,o,{raw:s}=this,a=this.chunk.getUint32(128),l=132,c=this.chunk.byteLength;for(;a--;){if(t=this.chunk.getString(l,4),n=this.chunk.getUint32(l+4),r=this.chunk.getUint32(l+8),i=this.chunk.getString(n,4),n+r>c)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");o=this.parseTag(i,n,r),o!==void 0&&o!=="\0\0\0\0"&&s.set(t,o),l+=12}}parseTag(t,n,r){switch(t){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(t){let n=this.chunk.getUint32(t+8)-1;return zi(this.chunk.getString(t+12,n))}parseText(t,n){return zi(this.chunk.getString(t+8,n-8))}parseSig(t){return zi(this.chunk.getString(t+8,4))}parseMluc(t){let{chunk:n}=this,r=n.getUint32(t+8),i=n.getUint32(t+12),o=t+16,s=[];for(let a=0;a<r;a++){let l=n.getString(o+0,2),c=n.getString(o+2,2),u=n.getUint32(o+4),d=n.getUint32(o+8)+t,h=zi(n.getUnicodeString(d,u));s.push({lang:l,country:c,text:h}),o+=i}return r===1?s[0].text:s}translateValue(t,n){return typeof t=="string"?n[t]||n[t.toLowerCase()]||t:n[t]||t}};Z(cs,"type","icc"),Z(cs,"multiSegment",!0),Z(cs,"headerLength",18);var n2={4:hr,8:function(e,t){return[e.getUint8(t),e.getUint8(t+1)>>4,e.getUint8(t+1)%16].map(n=>n.toString(10)).join(".")},12:hr,16:hr,20:hr,24:function(e,t){let n=e.getUint16(t),r=e.getUint16(t+2)-1,i=e.getUint16(t+4),o=e.getUint16(t+6),s=e.getUint16(t+8),a=e.getUint16(t+10);return new Date(Date.UTC(n,r,i,o,s,a))},36:hr,40:hr,48:hr,52:hr,64:(e,t)=>e.getUint32(t),80:hr};function hr(e,t){return zi(e.getString(t,4))}$e.set("icc",cs),Fe(nt,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);var Ju={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},xw={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};Fe(mn,"icc",[[4,Ju],[12,xw],[40,Object.assign({},Ju,xw)],[48,Ju],[80,Ju],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);var ls=class extends Lt{static canHandle(t,n,r){return t.getUint8(n+1)===237&&t.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(t,n,r)!==void 0}static headerLength(t,n,r){let i,o=this.containsIptc8bim(t,n,r);if(o!==void 0)return i=t.getUint8(n+o+7),i%2!=0&&(i+=1),i===0&&(i=4),o+8+i}static containsIptc8bim(t,n,r){for(let i=0;i<r;i++)if(this.isIptcSegmentHead(t,n+i))return i}static isIptcSegmentHead(t,n){return t.getUint8(n)===56&&t.getUint32(n)===943868237&&t.getUint16(n+4)===1028}parse(){let{raw:t}=this,n=this.chunk.byteLength-1,r=!1;for(let i=0;i<n;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){r=!0;let o=this.chunk.getUint16(i+3),s=this.chunk.getUint8(i+2),a=this.chunk.getLatin1String(i+5,o);t.set(s,this.pluralizeValue(t.get(s),a)),i+=4+o}else if(r)break;return this.translate(),this.output}pluralizeValue(t,n){return t!==void 0?t instanceof Array?(t.push(n),t):[t,n]:n}};Z(ls,"type","iptc"),Z(ls,"translateValues",!1),Z(ls,"reviveValues",!1),$e.set("iptc",ls),Fe(nt,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),Fe(mn,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var gd=class e{hslToRgb(t,n,r){let i=(1-Math.abs(2*r-1))*n,o=t%360/60,s=i*(1-Math.abs(o%2-1)),a=0,l=0,c=0;0<=o&&o<1?(a=i,l=s,c=0):1<=o&&o<2?(a=s,l=i,c=0):2<=o&&o<3?(a=0,l=i,c=s):3<=o&&o<4?(a=0,l=s,c=i):4<=o&&o<5?(a=s,l=0,c=i):(a=i,l=0,c=s);let u=r-i/2;return[Math.round((a+u)*255),Math.round((l+u)*255),Math.round((c+u)*255)]}rgbToHsl(t,n,r){let i=t/255,o=n/255,s=r/255,a=Math.max(i,o,s),l=Math.min(i,o,s),c=a-l,u=(a+l)/2,d=0;c!==0&&(d=c/(1-Math.abs(2*u-1)));let h=0;if(c!==0)switch(a){case i:h=60*((o-s)/c%6);break;case o:h=60*((s-i)/c+2);break;default:h=60*((i-o)/c+4);break}return h<0&&(h+=360),[h,d,u]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};var en=class e{constructor(t){this.conversorService=t}imageDataUrl=null;secondaryImageDataUrl=null;editedImageDataUrl=null;metadata=null;rMatrix=[];gMatrix=[];bMatrix=[];getImageDataUrl(){return this.imageDataUrl}getSecondaryImageDataUrl(){return this.secondaryImageDataUrl}getEditedImageDataUrl(){return this.editedImageDataUrl}getMetadata(){return this.metadata}getRMatrix(){return this.rMatrix}getGMatrix(){return this.gMatrix}getBMatrix(){return this.bMatrix}setImageDataUrl(t){this.imageDataUrl=t}setSecondaryImageDataUrl(t){this.secondaryImageDataUrl=t}setEditedImageDataUrl(t){this.editedImageDataUrl=t}get hasProcessableImage(){return!!this.imageDataUrl}get hasProcessableSecImage(){return!!this.secondaryImageDataUrl}uploadPhoto(t){return new Promise((n,r)=>{let i=t.name.split(".").pop()?.toLowerCase();if(i==="tif"||i==="tiff"){let o=new FileReader;o.onload=()=>L(this,null,function*(){try{let s=Xt.decode(o.result);Xt.decodeImage(o.result,s[0]);let a=Xt.toRGBA8(s[0]),l=document.createElement("canvas");l.width=s[0].width,l.height=s[0].height;let c=l.getContext("2d");if(!c)return r("Canvas context not available");let u=c.createImageData(l.width,l.height);u.data.set(a),c.putImageData(u,0,0);let d=l.toDataURL();this.setImageDataUrl(d),yield this.extractAllMetadata(t),n(d)}catch(s){r("Erro ao processar TIFF: "+s)}}),o.onerror=r,o.readAsArrayBuffer(t)}else{let o=new FileReader;o.onload=()=>L(this,null,function*(){let s=o.result;this.setImageDataUrl(s),yield this.extractAllMetadata(t),n(s)}),o.onerror=r,o.readAsDataURL(t)}})}extractAllMetadata(t){return L(this,null,function*(){let n=t.name.split(".").pop()?.toLowerCase(),r={container:{mime:t.type||void 0,extension:n,sizeBytes:t.size},exif:null,iptc:null,xmp:null,icc:null,tiff:null,computed:{}};if(n==="tif"||n==="tiff"){let o=yield t.arrayBuffer(),s=Xt.decode(o);Xt.decodeImage(o,s[0]);let a=s[0];r.container.width=a.width,r.container.height=a.height,r.container.samplesPerPixel=a.samplesPerPixel,r.container.bitDepth=a.bitsPerSample,r.container.colorSpace=a.photometricInterpretation,r.container.compression=a.compression,r.tiff=this.pickTiffTags(a);let l=Xt.toRGBA8(a),c=document.createElement("canvas");c.width=a.width,c.height=a.height;let u=c.getContext("2d");if(u){let d=u.createImageData(c.width,c.height);d.data.set(l),u.putImageData(d,0,0),this.imageDataUrl=c.toDataURL(),r.computed=this.computeDerivedFromCanvas(u,c.width,c.height)}}else{try{let u=yield ps(t,{iptc:!0,xmp:!0,icc:!0,exif:!0});u&&(r.exif=u||null,r.iptc=u.iptc||null,r.xmp=u.xmp||null,r.icc=u.icc||null,r.container.width=u.ImageWidth||u.ExifImageWidth||r.container.width,r.container.height=u.ImageHeight||u.ExifImageHeight||r.container.height,r.container.colorSpace=u.ColorSpace||r.container.colorSpace)}catch{}let o=yield this.sniffContainer(t);if(o&&(r.container.width??=o.width,r.container.height??=o.height,r.container.bitDepth??=o.bitDepth,r.container.samplesPerPixel??=o.samplesPerPixel,r.container.colorSpace??=o.colorSpace,r.container.compression??=o.compression,r.computed&&r.computed.hasAlpha===void 0&&o.hasAlpha!==void 0&&(r.computed.hasAlpha=o.hasAlpha)),!r.container.width||!r.container.height)try{let u=yield createImageBitmap(t);r.container.width=u.width,r.container.height=u.height}catch{Object.assign(r.container,yield this.readSizeWithImageTag(t))}let s=yield this.fileToDataURL(t);this.imageDataUrl=s;let{ctx:a,width:l,height:c}=yield this.canvasFromDataURL(s);a&&(r.computed=this.computeDerivedFromCanvas(a,l,c))}return this.metadata=r,r})}srgbToLinear(t){let n=t/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}linearToSrgb(t){return t<=.0031308?Math.round(255*(12.92*t)):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055))}extractColorMatrices(t){return L(this,null,function*(){yield new Promise((n,r)=>{let i=new Image;i.onload=()=>{let o=document.createElement("canvas");o.width=i.width,o.height=i.height;let s=o.getContext("2d");if(!s){r("Canvas context not available");return}s.drawImage(i,0,0);let a=s.getImageData(0,0,i.width,i.height).data,l=[],c=[],u=[];for(let d=0;d<i.height;d++){l[d]=[],c[d]=[],u[d]=[];for(let h=0;h<i.width;h++){let f=(d*i.width+h)*4;l[d][h]=a[f],c[d][h]=a[f+1],u[d][h]=a[f+2]}}this.rMatrix=l,this.gMatrix=c,this.bMatrix=u,n()},i.onerror=r,i.src=t})})}uploadSecondaryPhoto(t){return L(this,null,function*(){let n=t.name.split(".").pop()?.toLowerCase();if(n==="tif"||n==="tiff"){let i=yield t.arrayBuffer(),o=Xt.decode(i);Xt.decodeImage(i,o[0]);let s=Xt.toRGBA8(o[0]),a=document.createElement("canvas");a.width=o[0].width,a.height=o[0].height;let l=a.getContext("2d");if(!l)throw new Error("Canvas context not available");let c=l.createImageData(a.width,a.height);c.data.set(s),l.putImageData(c,0,0);let u=a.toDataURL();return this.setSecondaryImageDataUrl(u),u}let r=yield new Promise((i,o)=>{let s=new FileReader;s.onload=()=>i(s.result),s.onerror=o,s.readAsDataURL(t)});return this.setSecondaryImageDataUrl(r),r})}readHead(t,n=8192){return L(this,null,function*(){let r=yield t.slice(0,n).arrayBuffer();return new Uint8Array(r)})}sniffContainer(t){return L(this,null,function*(){let n=yield this.readHead(t),r=t.type;return r?.includes("png")||n[0]===137?this.parsePNG(n):r?.includes("jpeg")||r?.includes("jpg")||n[0]===255&&n[1]===216?this.parseJPEG(n):r?.includes("webp")?this.parseWebP(n):null})}fileToDataURL(t){return L(this,null,function*(){return new Promise((n,r)=>{let i=new FileReader;i.onload=()=>n(i.result),i.onerror=r,i.readAsDataURL(t)})})}readSizeWithImageTag(t){return L(this,null,function*(){return new Promise((n,r)=>{let i=URL.createObjectURL(t),o=new Image;o.onload=()=>{n({width:o.width,height:o.height}),URL.revokeObjectURL(i)},o.onerror=s=>{URL.revokeObjectURL(i),r(s)},o.src=i})})}canvasFromDataURL(t){return new Promise((n,r)=>{let i=new Image;i.onload=()=>{let o=document.createElement("canvas");o.width=i.width,o.height=i.height;let s=o.getContext("2d");if(!s)return r("Canvas context not available");s.drawImage(i,0,0),n({ctx:s,width:o.width,height:o.height})},i.onerror=r,i.src=t})}parsePNG(t){if(!(t.length>=33&&t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71&&t[4]===13&&t[5]===10&&t[6]===26&&t[7]===10))return null;let r=t[16]<<24|t[17]<<16|t[18]<<8|t[19],i=t[20]<<24|t[21]<<16|t[22]<<8|t[23],o=t[24],s=t[25],a={0:1,2:3,3:1,4:2,6:4},l={0:"Grayscale",2:"RGB",3:"Indexed",4:"Grayscale+Alpha",6:"RGBA"};return{width:r,height:i,bitDepth:o,samplesPerPixel:a[s],colorSpace:l[s],compression:"PNG (DEFLATE)",hasAlpha:s===4||s===6}}parseJPEG(t){if(!(t.length>=3&&t[0]===255&&t[1]===216))return null;let n=2;for(;n+3<t.length;){if(t[n]!==255){n++;continue}let r=t[n+1];if(n+=2,r===217||r===218)break;if(r===1||r>=208&&r<=215)continue;if(n+1>=t.length)break;let i=t[n]<<8|t[n+1];if(i<2||n+i>t.length)break;if(r>=192&&r<=195&&i>=9){let o=t[n+2],s=t[n+3]<<8|t[n+4],a=t[n+5]<<8|t[n+6],l=t[n+7],c=l===1?"Grayscale":l===3?"YCbCr":l===4?"CMYK":`${l} comps`;return{width:a,height:s,bitDepth:o,samplesPerPixel:l,colorSpace:c,compression:"JPEG",hasAlpha:!1}}n+=i}return{bitDepth:8,samplesPerPixel:3,colorSpace:"YCbCr",compression:"JPEG",hasAlpha:!1}}parseWebP(t){let n=t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70,r=t[8]===87&&t[9]===69&&t[10]===66&&t[11]===80;if(!n||!r)return null;let i=String.fromCharCode(t[12],t[13],t[14],t[15]),o=!1;return i==="VP8X"?o=(t[20]&16)!==0:i==="VP8L"&&(o=!0),{bitDepth:8,samplesPerPixel:o?4:3,colorSpace:"RGB",compression:"WebP",hasAlpha:o}}pickTiffTags(t){let n=new Set(["data","tiffOffset","t34665","thumbnail","stripOffsets","stripByteCounts"]),r={};for(let i of Object.keys(t)){if(n.has(i))continue;let o=t[i];typeof o=="object"&&o?.length>64||(r[i]=o)}return r}computeDerivedFromCanvas(t,n,r){let i=t.getImageData(0,0,n,r).data,o=new Array(256).fill(0),s=new Array(256).fill(0),a=new Array(256).fill(0),l=new Array(256).fill(0),c=0,u=0,d=0,h=0;for(let v=0;v<i.length;v+=4){let y=i[v],m=i[v+1],g=i[v+2],_=i[v+3];o[y]++,s[m]++,a[g]++,l[_]++,c+=y,u+=m,d+=g,h+=_}let f=i.length/4||1;return{hasAlpha:l[255]!==f,mean:{r:c/f,g:u/f,b:d/f,a:h/f},histogram:{r:o,g:s,b:a,a:l}}}loadImage(t){return new Promise((n,r)=>{let i=new Image;i.onload=()=>n(i),i.onerror=o=>r(o),i.src=t})}makeCanvas(t){let n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;let r=n.getContext("2d");if(!r)throw new Error("Canvas context not available");return{canvas:n,ctx:r}}limit8(t){return t<0?0:t>255?255:t|0}runOnImageData(t){return L(this,null,function*(){let n=this.imageDataUrl??null;if(!n)return console.warn("[runOnImageData] Sem imagem para processar."),null;let r=yield this.loadImage(n),{canvas:i,ctx:o}=this.makeCanvas(r);o.drawImage(r,0,0);let s=o.getImageData(0,0,i.width,i.height),a=yield t(s,o,i);a instanceof ImageData&&(s=a),o.putImageData(s,0,0);let l=i.toDataURL();return this.setEditedImageDataUrl(l),l})}adjustBrightness(t,n){this.runOnImageData(r=>{let i=r.data;if(n)for(let o=0;o<i.length;o+=4)i[o]=this.limit8(i[o]*t),i[o+1]=this.limit8(i[o+1]*t),i[o+2]=this.limit8(i[o+2]*t);else for(let o=0;o<i.length;o+=4)i[o]=this.limit8(i[o]+t),i[o+1]=this.limit8(i[o+1]+t),i[o+2]=this.limit8(i[o+2]+t)})}addImage(t,n){if(!this.secondaryImageDataUrl){console.warn("[addImage] Nenhuma imagem secund\xE1ria carregada.");return}let r=t.a/100,i=t.b/100;this.runOnImageData((o,s)=>L(this,null,function*(){let a=yield this.loadImage(this.secondaryImageDataUrl),l=s.canvas.width,c=s.canvas.height,u=document.createElement("canvas");u.width=l,u.height=c;let d=u.getContext("2d");if(!d)throw new Error("Canvas context not available");d.drawImage(a,0,0,l,c);let h=d.getImageData(0,0,l,c).data,f=o.data;if(n==="subtract")for(let p=0;p<f.length;p+=4)f[p]=this.limit8(f[p]*r-i*h[p]),f[p+1]=this.limit8(f[p+1]*r-i*h[p+1]),f[p+2]=this.limit8(f[p+2]*r-i*h[p+2]);else if(n==="modulo")for(let p=0;p<f.length;p+=4)f[p]=this.limit8(Math.abs(f[p]*r-i*h[p])),f[p+1]=this.limit8(Math.abs(f[p+1]*r-i*h[p+1])),f[p+2]=this.limit8(Math.abs(f[p+2]*r-i*h[p+2]));else if(n==="add")for(let p=0;p<f.length;p+=4)f[p]=this.limit8(f[p]*r+i*h[p]),f[p+1]=this.limit8(f[p+1]*r+i*h[p+1]),f[p+2]=this.limit8(f[p+2]*r+i*h[p+2]);else if(n==="media")for(let p=0;p<f.length;p+=4)f[p]=this.limit8(f[p]*r+i*h[p])/2,f[p+1]=this.limit8(f[p+1]*r+i*h[p+1])/2,f[p+2]=this.limit8(f[p+2]*r+i*h[p+2])/2;return o}))}adjustContrast(t){this.runOnImageData(n=>{let r=n.data;for(let i=0;i<r.length;i+=4)r[i]=this.limit8((r[i]-128)*t+128),r[i+1]=this.limit8((r[i+1]-128)*t+128),r[i+2]=this.limit8((r[i+2]-128)*t+128)})}flipImage(t){return L(this,null,function*(){this.runOnImageData((n,r,i)=>{let o=i.width,s=i.height,a=n.data,l=new Uint8ClampedArray(a.length);for(let c=0;c<s;c++)for(let u=0;u<o;u++){let d=(c*o+u)*4,h=t==="hor"?o-u-1:u,p=((t==="ver"?s-c-1:c)*o+h)*4;l[p]=a[d],l[p+1]=a[d+1],l[p+2]=a[d+2],l[p+3]=a[d+3]}return new ImageData(l,o,s)})})}addGate(t){if(!this.secondaryImageDataUrl){console.warn("[addImage] Nenhuma imagem secund\xE1ria carregada.");return}this.runOnImageData((n,r)=>L(this,null,function*(){let i=yield this.loadImage(this.secondaryImageDataUrl),o=r.canvas.width,s=r.canvas.height,a=document.createElement("canvas");a.width=o,a.height=s;let l=a.getContext("2d");if(!l)throw new Error("Canvas context not available");l.drawImage(i,0,0,o,s);let c=l.getImageData(0,0,o,s).data,u=n.data;if(t==="and")for(let d=0;d<u.length;d+=4)u[d]=this.limit8(u[d]&c[d]),u[d+1]=this.limit8(u[d+1]&c[d+1]),u[d+2]=this.limit8(u[d+2]&c[d+2]);else if(t==="not")for(let d=0;d<u.length;d+=4)u[d]=this.limit8(255-u[d]),u[d+1]=this.limit8(255-u[d+1]),u[d+2]=this.limit8(255-u[d+2]);else if(t==="or")for(let d=0;d<u.length;d+=4)u[d]=this.limit8(u[d]|c[d]),u[d+1]=this.limit8(u[d+1]|c[d+1]),u[d+2]=this.limit8(u[d+2]|c[d+2]);else if(t==="xor")for(let d=0;d<u.length;d+=4)u[d]=this.limit8(u[d]^c[d]),u[d+1]=this.limit8(u[d+1]^c[d+1]),u[d+2]=this.limit8(u[d+2]^c[d+2]);return n}))}toGrayscaleLinear(t,n,r){this.runOnImageData(i=>{let o=i.data;for(let s=0;s<o.length;s+=4){let a=this.srgbToLinear(o[s]),l=this.srgbToLinear(o[s+1]),c=this.srgbToLinear(o[s+2]),u=t*a+n*l+r*c,d=this.linearToSrgb(u);o[s]=o[s+1]=o[s+2]=d}return i})}colorGrade(t,n,r,i,o,s){this.runOnImageData(a=>{let l=a;return l=this.enhanceRGBKeyPerceptual(l,"r",this.satFactorFromGain(t),this.clampTolDeg(i)),l=this.enhanceRGBKeyPerceptual(l,"g",this.satFactorFromGain(n),this.clampTolDeg(o)),l=this.enhanceRGBKeyPerceptual(l,"b",this.satFactorFromGain(r),this.clampTolDeg(s)),l})}satFactorFromGain(t){return 1+t/255}enhanceRGBKeyPerceptual(t,n,r,i){let o=t.data,s=this.hueForRGBKey(n);if(i===0)return t;for(let a=0;a<o.length;a+=4){let l=o[a],c=o[a+1],u=o[a+2],[d,h,f]=this.conversorService.rgbToHsl(l,c,u),p=this.hueDist(d,s),v=Math.max(0,1-p/i);if(v>0){let y=h*(1+(r-1)*v),[m,g,_]=this.conversorService.hslToRgb(d,Math.min(1,Math.max(0,y)),f);o[a]=m,o[a+1]=g,o[a+2]=_}}return t}clampTolDeg(t){return Math.max(0,Math.min(180,Math.round(t)))}hueDist(t,n){let r=Math.abs(t-n)%360;return r>180?360-r:r}hueForRGBKey(t){return t==="r"?0:t==="g"?120:240}static \u0275fac=function(n){return new(n||e)(X(gd))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};var o2=["rCanvas"],s2=["gCanvas"],a2=["bCanvas"],l2=["aCanvas"];function c2(e,t){if(e&1&&Me(0,"img",14),e&2){let n=qt();ge("src",n.imageService.getImageDataUrl(),xn)}}function u2(e,t){if(e&1){let n=No();T(0,"button",15),le("click",function(){be(n);let i=qt();return Ce(i.onKeepImage())}),Tr(),T(1,"svg",16),Me(2,"path",17),x(),N(3," Manter "),x()}}function d2(e,t){if(e&1&&Me(0,"img",14),e&2){let n=qt();ge("src",n.imageService.getEditedImageDataUrl(),xn)}}function f2(e,t){if(e&1&&(T(0,"a",18),N(1," Download "),x()),e&2){let n=qt();ge("href",n.imageService.getEditedImageDataUrl(),xn)}}function h2(e,t){e&1&&(T(0,"label",19),N(1," Download "),x())}function p2(e,t){if(e&1&&(T(0,"div",30)(1,"h3",31),N(2,"M\xE9dias"),x(),T(3,"div",32)(4,"div")(5,"span",28),N(6,"R\u0304:"),x(),N(7),Nt(8,"number"),x(),T(9,"div")(10,"span",28),N(11,"G\u0304:"),x(),N(12),Nt(13,"number"),x(),T(14,"div")(15,"span",28),N(16,"B\u0304:"),x(),N(17),Nt(18,"number"),x(),T(19,"div")(20,"span",28),N(21,"\u0100:"),x(),N(22),Nt(23,"number"),x()()()),e&2){let n=t.ngIf;j(7),xe(" ",kt(8,4,n.r,"1.0-1")),j(5),xe(" ",kt(13,7,n.g,"1.0-1")),j(5),xe(" ",kt(18,10,n.b,"1.0-1")),j(5),xe(" ",kt(23,13,n.a,"1.0-1"))}}function g2(e,t){if(e&1&&(T(0,"div",25)(1,"h2",26),N(2,"Metadados"),x(),T(3,"div",27)(4,"div")(5,"span",28),N(6,"MIME:"),x(),N(7),x(),T(8,"div")(9,"span",28),N(10,"Extens\xE3o:"),x(),N(11),x(),T(12,"div")(13,"span",28),N(14,"Dimens\xF5es:"),x(),N(15),x(),T(16,"div")(17,"span",28),N(18,"BitDepth:"),x(),N(19),x(),T(20,"div")(21,"span",28),N(22,"Samples/Pixel:"),x(),N(23),x(),T(24,"div")(25,"span",28),N(26,"Color Space:"),x(),N(27),x(),T(28,"div")(29,"span",28),N(30,"Compress\xE3o:"),x(),N(31),x(),T(32,"div")(33,"span",28),N(34,"Tem Alpha?"),x(),N(35),x()(),kr(36,p2,24,16,"div",29),x()),e&2){let n=t.ngIf;j(7),xe(" ",n.container.mime||"\u2014"),j(4),xe(" ",n.container.extension||"\u2014"),j(4),eu(" ",n.container.width," \xD7 ",n.container.height," "),j(4),xe(" ",n.container.bitDepth||"\u2014"),j(4),xe(" ",n.container.samplesPerPixel||"\u2014"),j(4),xe(" ",n.container.colorSpace||"\u2014"),j(4),xe(" ",n.container.compression||"\u2014"),j(4),xe(" ",n.computed!=null&&n.computed.hasAlpha?"Sim":"N\xE3o"),j(),ge("ngIf",n.computed==null?null:n.computed.mean)}}function m2(e,t){if(e&1&&(T(0,"div",23),kr(1,g2,37,10,"div",24),x()),e&2){let n=qt(2);j(),ge("ngIf",n.meta)}}function v2(e,t){if(e&1&&(T(0,"div",20)(1,"div",21),Me(2,"canvas",22,0),x(),T(4,"div",21),Me(5,"canvas",22,1),x(),T(7,"div",21),Me(8,"canvas",22,2),x()(),er(10,m2,2,1,"div",23)),e&2){let n=qt();Mi("hidden",n.router.url!=="/dados"),j(10),tr(n.router.url==="/dados"?10:-1)}}var md=class e{constructor(t,n){this.imageService=t;this.router=n}rMatrix=[];gMatrix=[];bMatrix=[];aHist=new Array(256).fill(0);meta=null;rCanvas;gCanvas;bCanvas;aCanvas;ngAfterViewInit(){}ngOnInit(){fetch("assets/rainbow.png").then(t=>t.blob()).then(t=>{let n=new File([t],"rainbow.png",{type:t.type});return this.imageService.uploadPhoto(n)}).then(t=>{}).catch(t=>{console.error("Erro ao carregar imagem:",t)})}onFileSelected(t){return L(this,null,function*(){let n=t.target.files?.[0];if(!n)return;let r=yield this.imageService.uploadPhoto(n);yield this.imageService.extractColorMatrices(r),this.rMatrix=this.imageService.getRMatrix(),this.gMatrix=this.imageService.getGMatrix(),this.bMatrix=this.imageService.getBMatrix(),this.meta=(yield this.imageService.extractAllMetadata)?yield this.imageService.extractAllMetadata(n):this.imageService.getMetadata(),this.aHist=this.meta?.computed?.histogram?.a??new Array(256).fill(0),setTimeout(()=>this.drawAllCharts(),0)})}drawAllCharts(){this.drawHistogramFromMatrix(this.rCanvas?.nativeElement,this.rMatrix,"red"),this.drawHistogramFromMatrix(this.gCanvas?.nativeElement,this.gMatrix,"green"),this.drawHistogramFromMatrix(this.bCanvas?.nativeElement,this.bMatrix,"blue")}drawHistogramFromMatrix(t,n,r){if(!t||!n.length)return;let i=t.getContext("2d");if(!i)return;i.clearRect(0,0,t.width,t.height);let o=new Array(256).fill(0);for(let s=0;s<n.length;s++)for(let a=0;a<n[0].length;a++)o[n[s][a]]++;this.drawBars(i,o,r,t.width,t.height)}drawBars(t,n,r,i,o){let s="black",a=t.canvas.width,l=t.canvas.height;typeof r=="string"?(s=r,a=i??a,l=o??l):(a=r,l=i??l);let c=Math.max(...n)||1,u=a/256;t.fillStyle=s;for(let d=0;d<256;d++){let h=n[d]/c*l;t.fillRect(d*u,l-h,Math.max(1,u),h)}}onKeepImage(){this.imageService.setImageDataUrl(this.imageService.getEditedImageDataUrl())}greenPrint(){console.log("Green Matrix:",this.gMatrix)}redPrint(){console.log("Red Matrix:",this.rMatrix)}bluePrint(){console.log("Blue Matrix:",this.bMatrix)}static \u0275fac=function(n){return new(n||e)(J(en),J(jr))};static \u0275cmp=Re({type:e,selectors:[["app-image"]],viewQuery:function(n,r){if(n&1&&(Si(o2,5),Si(s2,5),Si(a2,5),Si(l2,5)),n&2){let i;nr(i=rr())&&(r.rCanvas=i.first),nr(i=rr())&&(r.gCanvas=i.first),nr(i=rr())&&(r.bCanvas=i.first),nr(i=rr())&&(r.aCanvas=i.first)}},decls:17,vars:6,consts:[["rCanvas",""],["gCanvas",""],["bCanvas",""],[1,"flex","h-1/2","gap-x-6","p-4","pt-0","overflow-hidden"],[1,"flex-1","bg-white","shadow-lg","min-h-0","flex","flex-col",2,"max-width","100%","height","400px"],[1,"flex-1","flex","flex-col","overflow-hidden"],["alt","Preview","class","w-full h-full object-contain min-h-0 min-w-0","style","height: 100%; width: 100%;",3,"src",4,"ngIf"],[1,"w-full"],[1,"w-full","block","cursor-pointer","py-3","px-4","text-center","bg-zinc-200","hover:bg-zinc-300","transition"],["type","file",1,"hidden",3,"change"],[1,"flex-1","bg-white","shadow-lg","min-h-0","flex","flex-col","relative",2,"max-width","100%","height","400px"],[1,"absolute","top-0","right-0","flex","items-center","gap-1","bg-white","hover:bg-zinc-300","transition","px-3","py-1","shadow","text-sm"],["download","imagem-processada.png","class","w-full block py-3 px-4 text-center bg-zinc-200 hover:bg-zinc-300 transition rounded cursor-pointer",3,"href",4,"ngIf"],["class","w-full block py-3 px-4 text-center bg-zinc-200 transition rounded cursor-not-allowed opacity-50",4,"ngIf"],["alt","Preview",1,"w-full","h-full","object-contain","min-h-0","min-w-0",2,"height","100%","width","100%",3,"src"],[1,"absolute","top-0","right-0","flex","items-center","gap-1","bg-white","hover:bg-zinc-300","transition","px-3","py-1","shadow","text-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["download","imagem-processada.png",1,"w-full","block","py-3","px-4","text-center","bg-zinc-200","hover:bg-zinc-300","transition","rounded","cursor-pointer",3,"href"],[1,"w-full","block","py-3","px-4","text-center","bg-zinc-200","transition","rounded","cursor-not-allowed","opacity-50"],[1,"mt-13","flex","flex-row","shadow-lg","ml-5",2,"max-width","max-content"],[1,"flex","flex-col","items-start","bg-white"],["width","266","height","120",1,"bg-whitebg-white","rounded"],[1,"px-4","mt-6"],["class","bg-white rounded shadow p-4",4,"ngIf"],[1,"bg-white","rounded","shadow","p-4"],[1,"text-lg","font-semibold","mb-3"],[1,"grid","grid-cols-2","gap-3","text-sm"],[1,"text-zinc-500"],["class","mt-4 text-sm",4,"ngIf"],[1,"mt-4","text-sm"],[1,"font-medium","mb-2"],[1,"grid","grid-cols-4","gap-3"]],template:function(n,r){n&1&&(T(0,"div",3)(1,"div",4)(2,"div",5),kr(3,c2,1,1,"img",6),x(),T(4,"div",7)(5,"label",8)(6,"input",9),le("change",function(o){return r.onFileSelected(o)}),x(),T(7,"span"),N(8,"Adicionar arquivo"),x()()()(),T(9,"div",10),er(10,u2,4,0,"button",11),T(11,"div",5),kr(12,d2,1,1,"img",6),x(),T(13,"div",7),kr(14,f2,2,1,"a",12)(15,h2,2,0,"label",13),x()()(),er(16,v2,11,3)),n&2&&(j(3),ge("ngIf",r.imageService.getImageDataUrl()),j(7),tr(r.imageService.getEditedImageDataUrl()?10:-1),j(2),ge("ngIf",r.imageService.getEditedImageDataUrl()),j(2),ge("ngIf",r.imageService.getEditedImageDataUrl()),j(),ge("ngIf",!r.imageService.getEditedImageDataUrl()),j(),tr(r.imageService.getImageDataUrl()?16:-1))},dependencies:[Yt,Tp,Ti],encapsulation:2})};var vd=class e{title=En("procimag");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Re({type:e,selectors:[["app-root"]],decls:23,vars:0,consts:[[1,"h-screen","w-screen","grid","grid-cols-[300px_1fr]","2xl:grid-cols-[360px_1fr]"],[1,"bg-zinc-900","text-zinc-100","p-5","2xl:p-8","flex","flex-col","gap-2","relative","z-10","shadow-[12px_0_24px_-12px_rgba(0,0,0,0.45)]"],[1,"pointer-events-none","absolute","top-0","right-0","h-full","w-3","bg-gradient-to-l","from-black/10","to-transparent"],[1,"text-xl","2xl:text-2xl","font-semibold","mb-4","2xl:mb-6"],[1,"flex","flex-col","gap-1","2xl:gap-2"],["routerLink","/dados","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/aritmetica","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/geometric","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/color","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/logic","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/spatial","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/morfologic","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],[1,"bg-zinc-50","h-full","overflow-auto"],[1,"block","p-4","2xl:p-8"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"aside",1),Me(2,"div",2),T(3,"h1",3),N(4,"Proc. Imagem"),x(),T(5,"nav",4)(6,"a",5),N(7," Dados "),x(),T(8,"a",6),N(9," Aritm\xE9tica "),x(),T(10,"a",7),N(11," Geom\xE9tricas "),x(),T(12,"a",8),N(13," Cor e Intensidade "),x(),T(14,"a",9),N(15," L\xF3gicas "),x(),T(16,"a",10),N(17," Dom\xEDnio Espacial "),x(),T(18,"a",11),N(19," Morfol\xF3gicas "),x()()(),T(20,"main",12),Me(21,"app-image",13)(22,"router-outlet"),x()())},dependencies:[Na,md,Qo,cg],encapsulation:2})};var yd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Re({type:e,selectors:[["app-dados"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})};var Ww=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(J(Xn),J(Gt))};static \u0275dir=mt({type:e})}return e})(),qw=(()=>{class e extends Ww{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ei(e)))(i||e)}})();static \u0275dir=mt({type:e,features:[Nr]})}return e})(),vm=new z("");var y2={provide:vm,useExisting:Dr(()=>ys),multi:!0};function _2(){let e=Zt()?Zt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var D2=new z(""),ys=(()=>{class e extends Ww{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!_2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(J(Xn),J(Gt),J(D2,8))};static \u0275dir=mt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Oo([y2]),Nr]})}return e})();var w2=new z(""),b2=new z("");function Zw(e){return e!=null}function Yw(e){return Or(e)?Se(e):e}function Kw(e){let t={};return e.forEach(n=>{t=n!=null?F(F({},t),n):t}),Object.keys(t).length===0?null:t}function Qw(e,t){return t.map(n=>n(e))}function C2(e){return!e.validate}function Jw(e){return e.map(t=>C2(t)?t:n=>t.validate(n))}function E2(e){if(!e)return null;let t=e.filter(Zw);return t.length==0?null:function(n){return Kw(Qw(n,t))}}function Xw(e){return e!=null?E2(Jw(e)):null}function I2(e){if(!e)return null;let t=e.filter(Zw);return t.length==0?null:function(n){let r=Qw(n,t).map(Yw);return Jd(r).pipe(ue(Kw))}}function eb(e){return e!=null?I2(Jw(e)):null}function jw(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function S2(e){return e._rawValidators}function M2(e){return e._rawAsyncValidators}function hm(e){return e?Array.isArray(e)?e:[e]:[]}function Dd(e,t){return Array.isArray(e)?e.includes(t):e===t}function Bw(e,t){let n=hm(t);return hm(e).forEach(i=>{Dd(n,i)||n.push(i)}),n}function Uw(e,t){return hm(t).filter(n=>!Dd(e,n))}var wd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},pm=class extends wd{name;get formDirective(){return null}get path(){return null}},cl=class extends wd{_parent=null;name=null;valueAccessor=null},gm=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},x2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},T9=ae(F({},x2),{"[class.ng-submitted]":"isSubmitted"}),Cd=(()=>{class e extends gm{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(J(cl,2))};static \u0275dir=mt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Mi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Nr]})}return e})();var ol="VALID",_d="INVALID",gs="PENDING",sl="DISABLED",vs=class{},bd=class extends vs{value;source;constructor(t,n){super(),this.value=t,this.source=n}},al=class extends vs{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ll=class extends vs{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ms=class extends vs{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function T2(e){return(Ed(e)?e.validators:e)||null}function A2(e){return Array.isArray(e)?Xw(e):e||null}function R2(e,t){return(Ed(t)?t.asyncValidators:e)||null}function N2(e){return Array.isArray(e)?eb(e):e||null}function Ed(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var mm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return dn(this.statusReactive)}set status(t){dn(()=>this.statusReactive.set(t))}_status=aa(()=>this.statusReactive());statusReactive=En(void 0);get valid(){return this.status===ol}get invalid(){return this.status===_d}get pending(){return this.status==gs}get disabled(){return this.status===sl}get enabled(){return this.status!==sl}errors;get pristine(){return dn(this.pristineReactive)}set pristine(t){dn(()=>this.pristineReactive.set(t))}_pristine=aa(()=>this.pristineReactive());pristineReactive=En(!0);get dirty(){return!this.pristine}get touched(){return dn(this.touchedReactive)}set touched(t){dn(()=>this.touchedReactive.set(t))}_touched=aa(()=>this.touchedReactive());touchedReactive=En(!1);get untouched(){return!this.touched}_events=new ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Bw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Bw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Uw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Uw(t,this._rawAsyncValidators))}hasValidator(t){return Dd(this._rawValidators,t)}hasAsyncValidator(t){return Dd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ae(F({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ll(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ll(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ae(F({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new al(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new al(!0,r))}markAsPending(t={}){this.status=gs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ms(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ae(F({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=sl,this.errors=null,this._forEachChild(i=>{i.disable(ae(F({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bd(this.value,r)),this._events.next(new ms(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(F({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ol,this._forEachChild(r=>{r.enable(ae(F({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ae(F({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ol||this.status===gs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bd(this.value,n)),this._events.next(new ms(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ae(F({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sl:ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=gs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=Yw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ms(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?sl:this.errors?_d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gs)?gs:this._anyControlsHaveStatus(_d)?_d:ol}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new al(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ll(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ed(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=A2(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=N2(this._rawAsyncValidators)}};var tb=new z("",{providedIn:"root",factory:()=>ym}),ym="always";function k2(e,t){return[...t.path,e]}function O2(e,t,n=ym){F2(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),L2(e,t),j2(e,t),V2(e,t),P2(e,t)}function Hw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function P2(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function F2(e,t){let n=S2(e);t.validator!==null?e.setValidators(jw(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=M2(e);t.asyncValidator!==null?e.setAsyncValidators(jw(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Hw(t._rawValidators,i),Hw(t._rawAsyncValidators,i)}function L2(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&nb(e,t)})}function V2(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&nb(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function nb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function j2(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function B2(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function U2(e){return Object.getPrototypeOf(e.constructor)===qw}function H2(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===ys?n=o:U2(o)?r=o:i=o}),i||r||n||null}function $w(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function zw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var $2=class extends mm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(T2(n),R2(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(n)&&(n.nonNullable||n.initialValueIsDefault)&&(zw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$w(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$w(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){zw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var z2={provide:cl,useExisting:Dr(()=>ul)},Gw=Promise.resolve(),ul=(()=>{class e extends cl{_changeDetectorRef;callSetDisabledState;control=new $2;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ue;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=H2(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),B2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){O2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Gw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Po(r);Gw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?k2(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(J(pm,9),J(w2,10),J(b2,10),J(vm,10),J(xi,8),J(tb,8))};static \u0275dir=mt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Oo([z2]),Nr,Mn]})}return e})();var G2={provide:vm,useExisting:Dr(()=>dl),multi:!0},dl=(()=>{class e extends qw{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ei(e)))(i||e)}})();static \u0275dir=mt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Oo([G2]),Nr]})}return e})();var W2=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ln({type:e});static \u0275inj=jt({})}return e})();var _s=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:tb,useValue:n.callSetDisabledState??ym}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ln({type:e});static \u0275inj=jt({imports:[W2]})}return e})();function q2(e,t){if(e&1&&Me(0,"img",14),e&2){let n=qt();ge("src",n.imageService.getSecondaryImageDataUrl(),xn)}}var Id=class e{constructor(t){this.imageService=t}Math=Math;brilho=0;valorAddA=100;valorAddB=100;contrast=0;contrastFactorFromSlider(t){return 1+t/100*2}onSecondaryFileSelected(t){let n=t.target.files?.[0];n&&this.imageService.uploadSecondaryPhoto(n)}onBrightnessChange(t){if(!this.imageService.hasProcessableImage){console.warn("Slider chamado sem imagem ainda.");return}this.imageService.adjustBrightness(t||this.brilho,t?"x":null)}addImage(t){if(!this.imageService.hasProcessableImage){console.warn("Slider chamado sem imagem ainda.");return}this.imageService.addImage({a:this.valorAddA,b:this.valorAddB},t)}onContrastChange(){if(!this.imageService.hasProcessableImage)return;let t=this.contrastFactorFromSlider(this.contrast);this.imageService.adjustContrast(t)}static \u0275fac=function(n){return new(n||e)(J(en))};static \u0275cmp=Re({type:e,selectors:[["app-aritmetica"]],decls:55,vars:24,consts:[[1,"grid","grid-cols-3","gap-4","p-4","mt-2","ml-8","mr-8","items-start"],[1,"col-span-2"],[1,"grid","grid-cols-2","gap-3"],[1,"flex","flex-col","bg-white","shadow-md","rounded","p-3"],["for","brilho",1,"mb-2"],["type","range","min","-255","max","255","step","1",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled"],[1,"text-xs","text-zinc-600","mt-1","text-center"],["type","range","min","-100","max","200","step","1",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled"],[1,"flex","flex-row","gap-3"],[1,"shadow-md","cursor-pointer","w-full","px-2","py-3","text-sm","bg-white","rounded","hover:shadow-lg","transition","enabled:hover:shadow-lg","disabled:bg-zinc-200","disabled:text-zinc-400","disabled:cursor-not-allowed",3,"click","disabled"],["type","range","min","0","max","100","step","1",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[1,"col-span-1","shadow-md","bg-white"],[1,"flex-1","shadow-md","flex","flex-col","items-center","rounded","bg-white",2,"max-width","100%","height","auto"],[1,"flex","items-center","justify-center","overflow-hidden","rounded","bg-white","shadow-md",2,"height","200px"],["alt","Imagem secund\xE1ria",1,"object-contain",2,"max-width","200px","max-height","200px","height","200px",3,"src"],[1,"w-full","mt-0","rounded"],[1,"w-full","block","px-2","py-2","cursor-pointer","text-center","bg-zinc-200","hover:bg-zinc-300","transition"],["type","file",1,"hidden",3,"change"],[1,"text-sm"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),N(5,"Brilho"),x(),T(6,"input",5),Et("ngModelChange",function(o){return Rt(r.brilho,o)||(r.brilho=o),o}),le("input",function(){return r.onBrightnessChange()}),x(),T(7,"span",6),N(8),x()(),T(9,"div",3)(10,"label",4),N(11,"Contraste"),x(),T(12,"input",7),Et("ngModelChange",function(o){return Rt(r.contrast,o)||(r.contrast=o),o}),le("input",function(){return r.onContrastChange()}),x(),T(13,"span",6),N(14),Nt(15,"number"),x()(),T(16,"div",8)(17,"button",9),le("click",function(){return r.onBrightnessChange(.25)}),N(18," 25% "),x(),T(19,"button",9),le("click",function(){return r.onBrightnessChange(.5)}),N(20," 50% "),x()(),T(21,"div",8)(22,"button",9),le("click",function(){return r.onBrightnessChange(1.5)}),N(23," 1.5x "),x(),T(24,"button",9),le("click",function(){return r.onBrightnessChange(2)}),N(25," 2x "),x()(),T(26,"button",9),le("click",function(){return r.addImage("add")}),N(27," Somar duas imagens "),x(),T(28,"button",9),le("click",function(){return r.addImage("media")}),N(29," M\xE9dia linear "),x(),T(30,"button",9),le("click",function(){return r.addImage("subtract")}),N(31," Subtrair duas imagens "),x(),T(32,"button",9),le("click",function(){return r.addImage("modulo")}),N(33," Subtrair em m\xF3dulo "),x(),T(34,"div",3)(35,"label",4),N(36,"Valor blending A"),x(),T(37,"input",10),Et("ngModelChange",function(o){return Rt(r.valorAddA,o)||(r.valorAddA=o),o}),x(),T(38,"span",6),N(39),x()(),T(40,"div",3)(41,"label",4),N(42,"Valor blending B"),x(),T(43,"input",10),Et("ngModelChange",function(o){return Rt(r.valorAddB,o)||(r.valorAddB=o),o}),x(),T(44,"span",6),N(45),x()()()(),T(46,"div",11)(47,"div",12)(48,"div",13),er(49,q2,1,1,"img",14),x(),T(50,"div",15)(51,"label",16)(52,"input",17),le("change",function(o){return r.onSecondaryFileSelected(o)}),x(),T(53,"span",18),N(54,"Adicionar imagem secund\xE1ria"),x()()()()()()),n&2&&(j(6),Ct("ngModel",r.brilho),ge("disabled",!r.imageService.hasProcessableImage),j(2),ir(r.brilho),j(4),Ct("ngModel",r.contrast),ge("disabled",!r.imageService.hasProcessableImage),j(2),xe(" ",kt(15,21,r.contrastFactorFromSlider(r.contrast),"1.2-2"),"x "),j(3),ge("disabled",!r.imageService.hasProcessableImage),j(2),ge("disabled",!r.imageService.hasProcessableImage),j(3),ge("disabled",!r.imageService.hasProcessableImage),j(2),ge("disabled",!r.imageService.hasProcessableImage),j(2),ge("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),j(2),ge("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),j(2),ge("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),j(2),ge("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),j(5),Ct("ngModel",r.valorAddA),ge("disabled",!r.imageService.hasProcessableImage),j(2),xe("",r.valorAddA,"%"),j(4),Ct("ngModel",r.valorAddB),ge("disabled",!r.imageService.hasProcessableImage),j(2),xe("",r.valorAddB,"%"),j(4),tr(r.imageService.getSecondaryImageDataUrl()?49:-1))},dependencies:[Yt,_s,ys,dl,Cd,ul,Ti],encapsulation:2})};var ib=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=jt({imports:[Yt]});let e=t;return e})();var Sd=class e{constructor(t){this.imageService=t}r=.299;g=.587;b=.114;rGain=0;gGain=0;bGain=0;tolR=10;tolG=10;tolB=10;colorsMat={r:.299,g:.587,b:.114};toGreyScale(t){let{r:n,g:r,b:i}=t;n+r+i>1.001||this.imageService.toGrayscaleLinear(n,r,i)}colorGrade(){this.imageService.colorGrade(this.rGain,this.gGain,this.bGain,this.tolR,this.tolG,this.tolB)}onTolChange(t,n){this[`tol${t.toUpperCase()}`]=n}onGainChange(t,n){this[`${t}Gain`]=n,this.colorGrade()}startRotate(t,n){let r=t.currentTarget,i=r.getBoundingClientRect(),o=i.left+i.width/2,s=i.top+i.height/2;r.setPointerCapture?.(t.pointerId);let a=c=>{let u=c.clientX-o,d=c.clientY-s,h=Math.atan2(-d,-u)*(180/Math.PI);h<0&&(h+=360);let f;d>0?f=u<0?0:180:(h>180&&(h=180),f=Math.round(h)),n==="r"?this.tolR=f:n==="g"?this.tolG=f:this.tolB=f},l=()=>{r.releasePointerCapture?.(t.pointerId),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",l)};window.addEventListener("pointermove",a),window.addEventListener("pointerup",l)}onSlider(t){this[t]=this.clamp01(this[t]);let n=["r","g","b"].filter(l=>l!==t),r=this[t],i=this.clamp01(1-r),o=this[n[0]],s=this[n[1]],a=o+s;if(a===0)this[n[0]]=i/2,this[n[1]]=i/2;else{let l=i/a;this[n[0]]=o*l,this[n[1]]=s*l}this.r=this.round3(this.r),this.g=this.round3(this.g),this.b=this.round3(this.b),this.normalizeSumTo1(),this.colorsMat={r:this.r,g:this.g,b:this.b},this.toGreyScale(this.colorsMat)}backToBasicGrey(){this.r=.299,this.g=.587,this.b=.114,this.colorsMat={r:this.r,g:this.g,b:this.b},this.toGreyScale(this.colorsMat)}backToBasicRGB(){this.rGain=0,this.gGain=0,this.bGain=0,this.tolR=10,this.tolG=10,this.tolB=10}clamp01(t){return Math.min(1,Math.max(0,t))}round3(t){return Math.round(t*1e3)/1e3}normalizeSumTo1(){let t=this.r+this.g+this.b,n=this.round3(1-t);if(n===0)return;let r=[["r",this.r],["g",this.g],["b",this.b]],[i]=r.reduce((o,s)=>o[1]>=s[1]?o:s);this[i]=this.round3(this.clamp01(this[i]+n))}static \u0275fac=function(n){return new(n||e)(J(en))};static \u0275cmp=Re({type:e,selectors:[["app-color"]],decls:76,vars:32,consts:[["knobR",""],["knobG",""],["knobB",""],[1,"grid","grid-cols-3","gap-4","p-4","mt-2","ml-8","mr-8","items-start"],[1,"col-span-2"],[1,"grid","grid-cols-2","gap-3"],[1,"flex","flex-col","bg-white","shadow-md"],[1,"inline-flex","shadow-md","mb-4","mt-0"],[1,"flex-1","px-4","py-3","text-sm","text-zinc-800","bg-zinc-100","pl-13","transition","cursor-pointer","hover:bg-zinc-200","disabled:bg-zinc-200","disabled:text-zinc-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-3","bg-zinc-200","text-zinc-600","cursor-pointer","hover:bg-zinc-400","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"space-y-3","p-3"],[1,"space-y-3"],[1,"text-sm"],["type","range","min","0","max","1","step","0.001",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled"],[1,"text-xs","text-zinc-600"],[1,"space-y-4","p-3"],["type","range","min","-255","max","255","step","1",1,"w-full","cursor-pointer","accent-red-500",3,"ngModelChange","ngModel"],["type","range","min","-255","max","255","step","1",1,"w-full","cursor-pointer",2,"accent-color","green",3,"ngModelChange","ngModel"],["type","range","min","-255","max","255","step","1",1,"w-full","cursor-pointer",3,"ngModelChange","ngModel"],[1,"knob-title","pl-3"],[1,"knob-group","p-3"],[1,"knob-block","flex","flex-row","gap-5","items-center","justify-between"],[1,"knob","knob--r",3,"pointerdown"],[1,"knob__ring"],[1,"knob__needle","bg-red-500"],[1,"knob__ticks"],[1,"knob-value"],[1,"knob-block"],[1,"knob","knob--g",3,"pointerdown"],[1,"knob__needle","bg-green-500"],[1,"knob","knob--b",3,"pointerdown"],[1,"knob__needle","bg-blue-500"]],template:function(n,r){if(n&1){let i=No();T(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"button",8),le("click",function(){return be(i),Ce(r.toGreyScale(r.colorsMat))}),N(6," Escala de cinza "),x(),T(7,"button",9),le("click",function(){return be(i),Ce(r.backToBasicGrey())}),Tr(),T(8,"svg",10),Me(9,"path",11),x()()(),wo(),T(10,"div",12)(11,"div",13)(12,"label",14),N(13,"R"),x(),T(14,"input",15),Et("ngModelChange",function(s){return be(i),Rt(r.r,s)||(r.r=s),Ce(s)}),le("input",function(){return be(i),Ce(r.onSlider("r"))}),x(),T(15,"span",16),N(16),Nt(17,"number"),x()(),T(18,"div",13)(19,"label",14),N(20,"G"),x(),T(21,"input",15),Et("ngModelChange",function(s){return be(i),Rt(r.g,s)||(r.g=s),Ce(s)}),le("input",function(){return be(i),Ce(r.onSlider("g"))}),x(),T(22,"span",16),N(23),Nt(24,"number"),x()(),T(25,"div",13)(26,"label",14),N(27,"B"),x(),T(28,"input",15),Et("ngModelChange",function(s){return be(i),Rt(r.b,s)||(r.b=s),Ce(s)}),le("input",function(){return be(i),Ce(r.onSlider("b"))}),x(),T(29,"span",16),N(30),Nt(31,"number"),x()()()(),T(32,"div",6)(33,"div",7)(34,"button",8),le("click",function(){return be(i),Ce(r.colorGrade())}),N(35," Cor "),x(),T(36,"button",9),le("click",function(){return be(i),Ce(r.backToBasicRGB())}),Tr(),T(37,"svg",10),Me(38,"path",11),x()()(),wo(),T(39,"div",17)(40,"div")(41,"label",14),N(42,"Ganho"),x(),T(43,"input",18),Et("ngModelChange",function(s){return be(i),Rt(r.rGain,s)||(r.rGain=s),Ce(s)}),le("ngModelChange",function(s){return be(i),Ce(r.onGainChange("r",s))}),x()(),T(44,"div")(45,"input",19),Et("ngModelChange",function(s){return be(i),Rt(r.gGain,s)||(r.gGain=s),Ce(s)}),le("ngModelChange",function(s){return be(i),Ce(r.onGainChange("g",s))}),x()(),T(46,"div")(47,"input",20),Et("ngModelChange",function(s){return be(i),Rt(r.bGain,s)||(r.bGain=s),Ce(s)}),le("ngModelChange",function(s){return be(i),Ce(r.onGainChange("b",s))}),x()()(),T(48,"label",21),N(49,"Toler\xE2ncia"),x(),T(50,"div",22)(51,"div",23)(52,"div")(53,"div",24,0),le("pointerdown",function(s){return be(i),Ce(r.startRotate(s,"r"))}),Me(55,"div",25)(56,"div",26)(57,"div",27),x(),T(58,"div",28),N(59),x()(),T(60,"div",29)(61,"div",30,1),le("pointerdown",function(s){return be(i),Ce(r.startRotate(s,"g"))}),Me(63,"div",25)(64,"div",31)(65,"div",27),x(),T(66,"div",28),N(67),x()(),T(68,"div",29)(69,"div",32,2),le("pointerdown",function(s){return be(i),Ce(r.startRotate(s,"b"))}),Me(71,"div",25)(72,"div",33)(73,"div",27),x(),T(74,"div",28),N(75),x()()()()()()()()}n&2&&(j(5),ge("disabled",!r.imageService.hasProcessableImage),j(9),Ct("ngModel",r.r),ge("disabled",!r.imageService.hasProcessableImage),j(2),ir(kt(17,23,r.r,"1.3-3")),j(5),Ct("ngModel",r.g),ge("disabled",!r.imageService.hasProcessableImage),j(2),ir(kt(24,26,r.g,"1.3-3")),j(5),Ct("ngModel",r.b),ge("disabled",!r.imageService.hasProcessableImage),j(2),ir(kt(31,29,r.b,"1.3-3")),j(4),ge("disabled",!r.imageService.hasProcessableImage),j(9),Ct("ngModel",r.rGain),j(2),Ct("ngModel",r.gGain),j(2),Ct("ngModel",r.bGain),j(9),ko("transform","rotate("+(r.tolR-90)+"deg)"),j(3),xe("",r.tolR,"\xB0"),j(5),ko("transform","rotate("+(r.tolG-90)+"deg)"),j(3),xe("",r.tolG,"\xB0"),j(5),ko("transform","rotate("+(r.tolB-90)+"deg)"),j(3),xe("",r.tolB,"\xB0"))},dependencies:[Yt,_s,ys,dl,Cd,ul,ib,Ti],styles:[".knob-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.knob-block[_ngcontent-%COMP%]{text-align:center;align-items:center;justify-content:space-evenly}.knob-title[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.knob-value[_ngcontent-%COMP%]{margin-top:8px}.knob--r[_ngcontent-%COMP%], .knob--g[_ngcontent-%COMP%], .knob--b[_ngcontent-%COMP%]{color:#000}.knob[_ngcontent-%COMP%]{width:80px;height:40px;position:relative;border-radius:140px 140px 0 0;overflow:hidden;touch-action:none;-webkit-user-select:none;user-select:none;margin:0 auto;background:#f8fafc;box-shadow:inset 0 0 0 1px #e5e7eb;cursor:grab}.knob[_ngcontent-%COMP%]:active{cursor:grabbing}.knob__ring[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:inherit;border-top:3px solid currentColor;border-left:3px solid currentColor;border-right:3px solid currentColor;border-bottom:0;pointer-events:none;opacity:.9}.knob__needle[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:10%;width:2px;height:30px;transform-origin:50% 100%;transition:transform 40ms linear;border-radius:2px}"]})};var Md=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Re({type:e,selectors:[["app-spatial"]],decls:2,vars:0,template:function(n,r){n&1&&(Xe(0,"p"),N(1,"spatial works!"),et())},encapsulation:2})};var xd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Re({type:e,selectors:[["app-morfologic"]],decls:2,vars:0,template:function(n,r){n&1&&(Xe(0,"p"),N(1,"morfologic works!"),et())},encapsulation:2})};function Z2(e,t){if(e&1&&Jc(0,"img",7),e&2){let n=qt();cn("src",n.imageService.getSecondaryImageDataUrl(),xn)}}var Td=class e{constructor(t){this.imageService=t}addImage(t){this.imageService.hasProcessableImage&&this.imageService.addGate(t)}onSecondaryFileSelected(t){let n=t.target.files?.[0];n&&this.imageService.uploadSecondaryPhoto(n)}static \u0275fac=function(n){return new(n||e)(J(en))};static \u0275cmp=Re({type:e,selectors:[["app-logic"]],decls:20,vars:5,consts:[[1,"grid","grid-cols-3","gap-4","p-4","mt-2","ml-8","mr-8","items-start"],[1,"col-span-2"],[1,"grid","grid-cols-2","gap-3"],[1,"shadow-md","cursor-pointer","p-3","text-sm","bg-white","rounded","hover:shadow-lg","transition","enabled:hover:shadow-lg","disabled:bg-zinc-200","disabled:text-zinc-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"col-span-1","shadow-md","bg-white"],[1,"flex-1","shadow-md","flex","flex-col","items-center","rounded","bg-white",2,"max-width","100%","height","auto"],[1,"flex","items-center","justify-center","overflow-hidden","rounded","bg-white","shadow-md",2,"height","200px"],["alt","Imagem secund\xE1ria",1,"object-contain",2,"max-width","200px","max-height","200px","height","200px",3,"src"],[1,"w-full","mt-0","rounded"],[1,"w-full","block","px-2","py-2","cursor-pointer","text-center","bg-zinc-200","hover:bg-zinc-300","transition"],["type","file",1,"hidden",3,"change"],[1,"text-sm"]],template:function(n,r){n&1&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),un("click",function(){return r.addImage("and")}),N(4," AND "),et(),Xe(5,"button",3),un("click",function(){return r.addImage("or")}),N(6," OR "),et(),Xe(7,"button",3),un("click",function(){return r.addImage("not")}),N(8," NOT "),et(),Xe(9,"button",3),un("click",function(){return r.addImage("xor")}),N(10," XOR "),et()()(),Xe(11,"div",4)(12,"div",5)(13,"div",6),er(14,Z2,1,1,"img",7),et(),Xe(15,"div",8)(16,"label",9)(17,"input",10),un("change",function(o){return r.onSecondaryFileSelected(o)}),et(),Xe(18,"span",11),N(19,"Adicionar imagem secund\xE1ria"),et()()()()()()),n&2&&(j(3),cn("disabled",!r.imageService.hasProcessableImage),j(2),cn("disabled",!r.imageService.hasProcessableImage),j(2),cn("disabled",!r.imageService.hasProcessableImage),j(2),cn("disabled",!r.imageService.hasProcessableImage),j(5),tr(r.imageService.getSecondaryImageDataUrl()?14:-1))},encapsulation:2})};var Ad=class e{constructor(t){this.imageService=t}flip(t){return L(this,null,function*(){if(!this.imageService.hasProcessableImage){console.warn("Slider chamado sem imagem ainda.");return}yield this.imageService.flipImage(t)})}static \u0275fac=function(n){return new(n||e)(J(en))};static \u0275cmp=Re({type:e,selectors:[["app-geometric"]],decls:8,vars:2,consts:[[1,"grid","grid-cols-3","gap-4","p-4","mt-2","ml-8","mr-8","items-start"],[1,"col-span-2"],[1,"grid","grid-cols-2","gap-3"],[1,"shadow-md","cursor-pointer","p-3","text-sm","bg-white","rounded","hover:shadow-lg","transition","enabled:hover:shadow-lg","disabled:bg-zinc-200","disabled:text-zinc-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"grid","grid-cols-2","gap-3","mt-4"]],template:function(n,r){n&1&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),un("click",function(){return r.flip("hor")}),N(4," Inverter horizontal "),et()(),Xe(5,"div",4)(6,"button",3),un("click",function(){return r.flip("ver")}),N(7," Inverter vertical "),et()()()()),n&2&&(j(3),cn("disabled",!r.imageService.hasProcessableImage),j(3),cn("disabled",!r.imageService.hasProcessableImage))},dependencies:[Yt,_s],encapsulation:2})};var ob=[{path:"",redirectTo:"dados",pathMatch:"full"},{path:"dados",component:yd},{path:"aritmetica",component:Id},{path:"color",component:Sd},{path:"spatial",component:Md},{path:"morfologic",component:xd},{path:"logic",component:Td},{path:"geometric",component:Ad}];jp(vd,{providers:[ug(ob)]});
