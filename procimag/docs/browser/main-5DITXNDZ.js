var XC=Object.create;var Ed=Object.defineProperty,eE=Object.defineProperties,tE=Object.getOwnPropertyDescriptor,nE=Object.getOwnPropertyDescriptors,rE=Object.getOwnPropertyNames,ym=Object.getOwnPropertySymbols,iE=Object.getPrototypeOf,_m=Object.prototype.hasOwnProperty,oE=Object.prototype.propertyIsEnumerable;var Dm=(e,t,n)=>t in e?Ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||={})_m.call(t,n)&&Dm(e,n,t[n]);if(ym)for(var n of ym(t))oE.call(t,n)&&Dm(e,n,t[n]);return e},ae=(e,t)=>eE(e,nE(t));var ss=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Xe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var sE=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of rE(t))!_m.call(e,i)&&i!==n&&Ed(e,i,{get:()=>t[i],enumerable:!(r=tE(t,i))||r.enumerable});return e};var aE=(e,t,n)=>(n=e!=null?XC(iE(e)):{},sE(t||!e||!e.__esModule?Ed(n,"default",{value:e,enumerable:!0}):n,e));var O=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var Gn=Xe(pt=>{"use strict";var VT=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function jT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}pt.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var r in n)jT(n,r)&&(e[r]=n[r])}}return e};pt.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var BT={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray){e.set(t.subarray(n,n+r),i);return}for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},UT={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};pt.setTyped=function(e){e?(pt.Buf8=Uint8Array,pt.Buf16=Uint16Array,pt.Buf32=Int32Array,pt.assign(pt,BT)):(pt.Buf8=Array,pt.Buf16=Array,pt.Buf32=Array,pt.assign(pt,UT))};pt.setTyped(VT)});var z_=Xe(Ho=>{"use strict";var HT=Gn(),$T=4,C_=0,E_=1,zT=2;function Uo(e){for(var t=e.length;--t>=0;)e[t]=0}var GT=0,T_=1,WT=2,qT=3,ZT=258,cg=29,Na=256,Ma=Na+1+cg,Bo=30,ug=19,A_=2*Ma+1,Ii=15,rg=16,YT=7,dg=256,N_=16,R_=17,O_=18,ag=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Iu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],KT=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],QT=512,Wn=new Array((Ma+2)*2);Uo(Wn);var Sa=new Array(Bo*2);Uo(Sa);var xa=new Array(QT);Uo(xa);var Ta=new Array(ZT-qT+1);Uo(Ta);var fg=new Array(cg);Uo(fg);var Su=new Array(Bo);Uo(Su);function ig(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var P_,F_,L_;function og(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function V_(e){return e<256?xa[e]:xa[256+(e>>>7)]}function Aa(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Dt(e,t,n){e.bi_valid>rg-n?(e.bi_buf|=t<<e.bi_valid&65535,Aa(e,e.bi_buf),e.bi_buf=t>>rg-e.bi_valid,e.bi_valid+=n-rg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function Dn(e,t,n){Dt(e,n[t*2],n[t*2+1])}function j_(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function JT(e){e.bi_valid===16?(Aa(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function XT(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,p,h,f,v=0;for(p=0;p<=Ii;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<A_;c++)u=e.heap[c],p=n[n[u*2+1]*2+1]+1,p>l&&(p=l,v++),n[u*2+1]=p,!(u>r)&&(e.bl_count[p]++,h=0,u>=a&&(h=s[u-a]),f=n[u*2],e.opt_len+=f*(p+h),o&&(e.static_len+=f*(i[u*2+1]+h)));if(v!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,v-=2}while(v>0);for(p=l;p!==0;p--)for(u=e.bl_count[p];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==p&&(e.opt_len+=(p-n[d*2+1])*n[d*2],n[d*2+1]=p),u--)}}function B_(e,t,n){var r=new Array(Ii+1),i=0,o,s;for(o=1;o<=Ii;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=j_(r[a]++,a))}}function eA(){var e,t,n,r,i,o=new Array(Ii+1);for(n=0,r=0;r<cg-1;r++)for(fg[r]=n,e=0;e<1<<ag[r];e++)Ta[n++]=r;for(Ta[n-1]=r,i=0,r=0;r<16;r++)for(Su[r]=i,e=0;e<1<<Iu[r];e++)xa[i++]=r;for(i>>=7;r<Bo;r++)for(Su[r]=i<<7,e=0;e<1<<Iu[r]-7;e++)xa[256+i++]=r;for(t=0;t<=Ii;t++)o[t]=0;for(e=0;e<=143;)Wn[e*2+1]=8,e++,o[8]++;for(;e<=255;)Wn[e*2+1]=9,e++,o[9]++;for(;e<=279;)Wn[e*2+1]=7,e++,o[7]++;for(;e<=287;)Wn[e*2+1]=8,e++,o[8]++;for(B_(Wn,Ma+1,o),e=0;e<Bo;e++)Sa[e*2+1]=5,Sa[e*2]=j_(e,5);P_=new ig(Wn,ag,Na+1,Ma,Ii),F_=new ig(Sa,Iu,0,Bo,Ii),L_=new ig(new Array(0),KT,0,ug,YT)}function U_(e){var t;for(t=0;t<Ma;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Bo;t++)e.dyn_dtree[t*2]=0;for(t=0;t<ug;t++)e.bl_tree[t*2]=0;e.dyn_ltree[dg*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H_(e){e.bi_valid>8?Aa(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function tA(e,t,n,r){H_(e),r&&(Aa(e,n),Aa(e,~n)),HT.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function b_(e,t,n,r){var i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function sg(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&b_(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!b_(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function I_(e,t,n){var r,i,o=0,s,a;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,r===0?Dn(e,i,t):(s=Ta[i],Dn(e,s+Na+1,t),a=ag[s],a!==0&&(i-=fg[s],Dt(e,i,a)),r--,s=V_(r),Dn(e,s,n),a=Iu[s],a!==0&&(r-=Su[s],Dt(e,r,a)));while(o<e.last_lit);Dn(e,dg,t)}function lg(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(e.heap_len=0,e.heap_max=A_,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)sg(e,n,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sg(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[c*2]=n[s*2]+n[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=c,e.heap[1]=c++,sg(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],XT(e,t),B_(n,l,e.bl_count)}function S_(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[N_*2]++):a<=10?e.bl_tree[R_*2]++:e.bl_tree[O_*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function M_(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do Dn(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Dn(e,o,e.bl_tree),a--),Dn(e,N_,e.bl_tree),Dt(e,a-3,2)):a<=10?(Dn(e,R_,e.bl_tree),Dt(e,a-3,3)):(Dn(e,O_,e.bl_tree),Dt(e,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function nA(e){var t;for(S_(e,e.dyn_ltree,e.l_desc.max_code),S_(e,e.dyn_dtree,e.d_desc.max_code),lg(e,e.bl_desc),t=ug-1;t>=3&&e.bl_tree[k_[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function rA(e,t,n,r){var i;for(Dt(e,t-257,5),Dt(e,n-1,5),Dt(e,r-4,4),i=0;i<r;i++)Dt(e,e.bl_tree[k_[i]*2+1],3);M_(e,e.dyn_ltree,t-1),M_(e,e.dyn_dtree,n-1)}function iA(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return C_;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return E_;for(n=32;n<Na;n++)if(e.dyn_ltree[n*2]!==0)return E_;return C_}var x_=!1;function oA(e){x_||(eA(),x_=!0),e.l_desc=new og(e.dyn_ltree,P_),e.d_desc=new og(e.dyn_dtree,F_),e.bl_desc=new og(e.bl_tree,L_),e.bi_buf=0,e.bi_valid=0,U_(e)}function $_(e,t,n,r){Dt(e,(GT<<1)+(r?1:0),3),tA(e,t,n,!0)}function sA(e){Dt(e,T_<<1,3),Dn(e,dg,Wn),JT(e)}function aA(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===zT&&(e.strm.data_type=iA(e)),lg(e,e.l_desc),lg(e,e.d_desc),s=nA(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?$_(e,t,n,r):e.strategy===$T||o===i?(Dt(e,(T_<<1)+(r?1:0),3),I_(e,Wn,Sa)):(Dt(e,(WT<<1)+(r?1:0),3),rA(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),I_(e,e.dyn_ltree,e.dyn_dtree)),U_(e),r&&H_(e)}function lA(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Ta[n]+Na+1)*2]++,e.dyn_dtree[V_(t)*2]++),e.last_lit===e.lit_bufsize-1}Ho._tr_init=oA;Ho._tr_stored_block=$_;Ho._tr_flush_block=aA;Ho._tr_tally=lA;Ho._tr_align=sA});var hg=Xe((A$,G_)=>{"use strict";function cA(e,t,n,r){for(var i=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}G_.exports=cA});var pg=Xe((N$,W_)=>{"use strict";function uA(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var dA=uA();function fA(e,t,n,r){var i=dA,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}W_.exports=fA});var Mu=Xe((R$,q_)=>{"use strict";q_.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var nw=Xe(Cn=>{"use strict";var gt=Gn(),Bt=z_(),Q_=hg(),xr=pg(),hA=Mu(),Ti=0,pA=1,gA=3,Or=4,Z_=5,wn=0,Y_=1,Ut=-2,mA=-3,gg=-5,vA=-1,yA=1,xu=2,DA=3,_A=4,wA=0,CA=2,Ru=8,EA=9,bA=15,IA=8,SA=29,MA=256,vg=MA+1+SA,xA=30,TA=19,AA=2*vg+1,NA=15,de=3,Nr=258,Xt=Nr+de+1,RA=32,Ou=42,yg=69,Tu=73,Au=91,Nu=103,Si=113,Oa=666,He=1,ka=2,Mi=3,Go=4,OA=3;function Rr(e,t){return e.msg=hA[t],t}function K_(e){return(e<<1)-(e>4?9:0)}function Ar(e){for(var t=e.length;--t>=0;)e[t]=0}function Tr(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(gt.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function it(e,t){Bt._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Tr(e.strm)}function pe(e,t){e.pending_buf[e.pending++]=t}function Ra(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function kA(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,gt.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=Q_(e.adler,t,i,n):e.state.wrap===2&&(e.adler=xr(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function J_(e,t){var n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-Xt?e.strstart-(e.w_size-Xt):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+Nr,h=c[r+s-1],f=c[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+s]!==f||c[i+s-1]!==h||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(o=Nr-(p-r),r=p-Nr,o>s){if(e.match_start=t,s=o,o>=a)break;h=c[r+s-1],f=c[r+s]}}while((t=d[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function xi(e){var t=e.w_size,n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Xt)){gt.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);o+=t}if(e.strm.avail_in===0)break;if(r=kA(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=de)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+de-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<de)););}while(e.lookahead<Xt&&e.strm.avail_in!==0)}function PA(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(xi(e),e.lookahead===0&&t===Ti)return He;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,it(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Xt&&(it(e,!1),e.strm.avail_out===0))return He}return e.insert=0,t===Or?(it(e,!0),e.strm.avail_out===0?Mi:Go):(e.strstart>e.block_start&&(it(e,!1),e.strm.avail_out===0),He)}function mg(e,t){for(var n,r;;){if(e.lookahead<Xt){if(xi(e),e.lookahead<Xt&&t===Ti)return He;if(e.lookahead===0)break}if(n=0,e.lookahead>=de&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Xt&&(e.match_length=J_(e,n)),e.match_length>=de)if(r=Bt._tr_tally(e,e.strstart-e.match_start,e.match_length-de),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=de){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Bt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(it(e,!1),e.strm.avail_out===0))return He}return e.insert=e.strstart<de-1?e.strstart:de-1,t===Or?(it(e,!0),e.strm.avail_out===0?Mi:Go):e.last_lit&&(it(e,!1),e.strm.avail_out===0)?He:ka}function $o(e,t){for(var n,r,i;;){if(e.lookahead<Xt){if(xi(e),e.lookahead<Xt&&t===Ti)return He;if(e.lookahead===0)break}if(n=0,e.lookahead>=de&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=de-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Xt&&(e.match_length=J_(e,n),e.match_length<=5&&(e.strategy===yA||e.match_length===de&&e.strstart-e.match_start>4096)&&(e.match_length=de-1)),e.prev_length>=de&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-de,r=Bt._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-de),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=de-1,e.strstart++,r&&(it(e,!1),e.strm.avail_out===0))return He}else if(e.match_available){if(r=Bt._tr_tally(e,0,e.window[e.strstart-1]),r&&it(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return He}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Bt._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<de-1?e.strstart:de-1,t===Or?(it(e,!0),e.strm.avail_out===0?Mi:Go):e.last_lit&&(it(e,!1),e.strm.avail_out===0)?He:ka}function FA(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=Nr){if(xi(e),e.lookahead<=Nr&&t===Ti)return He;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=de&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+Nr;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=Nr-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=de?(n=Bt._tr_tally(e,1,e.match_length-de),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Bt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(it(e,!1),e.strm.avail_out===0))return He}return e.insert=0,t===Or?(it(e,!0),e.strm.avail_out===0?Mi:Go):e.last_lit&&(it(e,!1),e.strm.avail_out===0)?He:ka}function LA(e,t){for(var n;;){if(e.lookahead===0&&(xi(e),e.lookahead===0)){if(t===Ti)return He;break}if(e.match_length=0,n=Bt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(it(e,!1),e.strm.avail_out===0))return He}return e.insert=0,t===Or?(it(e,!0),e.strm.avail_out===0?Mi:Go):e.last_lit&&(it(e,!1),e.strm.avail_out===0)?He:ka}function _n(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var zo;zo=[new _n(0,0,0,0,PA),new _n(4,4,8,4,mg),new _n(4,5,16,8,mg),new _n(4,6,32,32,mg),new _n(4,4,16,16,$o),new _n(8,16,32,32,$o),new _n(8,16,128,128,$o),new _n(8,32,128,256,$o),new _n(32,128,258,1024,$o),new _n(32,258,258,4096,$o)];function VA(e){e.window_size=2*e.w_size,Ar(e.head),e.max_lazy_match=zo[e.level].max_lazy,e.good_match=zo[e.level].good_length,e.nice_match=zo[e.level].nice_length,e.max_chain_length=zo[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=de-1,e.match_available=0,e.ins_h=0}function jA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ru,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new gt.Buf16(AA*2),this.dyn_dtree=new gt.Buf16((2*xA+1)*2),this.bl_tree=new gt.Buf16((2*TA+1)*2),Ar(this.dyn_ltree),Ar(this.dyn_dtree),Ar(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new gt.Buf16(NA+1),this.heap=new gt.Buf16(2*vg+1),Ar(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new gt.Buf16(2*vg+1),Ar(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X_(e){var t;return!e||!e.state?Rr(e,Ut):(e.total_in=e.total_out=0,e.data_type=CA,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ou:Si,e.adler=t.wrap===2?0:1,t.last_flush=Ti,Bt._tr_init(t),wn)}function ew(e){var t=X_(e);return t===wn&&VA(e.state),t}function BA(e,t){return!e||!e.state||e.state.wrap!==2?Ut:(e.state.gzhead=t,wn)}function tw(e,t,n,r,i,o){if(!e)return Ut;var s=1;if(t===vA&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>EA||n!==Ru||r<8||r>15||t<0||t>9||o<0||o>_A)return Rr(e,Ut);r===8&&(r=9);var a=new jA;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+de-1)/de),a.window=new gt.Buf8(a.w_size*2),a.head=new gt.Buf16(a.hash_size),a.prev=new gt.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new gt.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,ew(e)}function UA(e,t){return tw(e,t,Ru,bA,IA,wA)}function HA(e,t){var n,r,i,o;if(!e||!e.state||t>Z_||t<0)return e?Rr(e,Ut):Ut;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Oa&&t!==Or)return Rr(e,e.avail_out===0?gg:Ut);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===Ou)if(r.wrap===2)e.adler=0,pe(r,31),pe(r,139),pe(r,8),r.gzhead?(pe(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),pe(r,r.gzhead.time&255),pe(r,r.gzhead.time>>8&255),pe(r,r.gzhead.time>>16&255),pe(r,r.gzhead.time>>24&255),pe(r,r.level===9?2:r.strategy>=xu||r.level<2?4:0),pe(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(pe(r,r.gzhead.extra.length&255),pe(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=xr(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=yg):(pe(r,0),pe(r,0),pe(r,0),pe(r,0),pe(r,0),pe(r,r.level===9?2:r.strategy>=xu||r.level<2?4:0),pe(r,OA),r.status=Si);else{var s=Ru+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=xu||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=RA),s+=31-s%31,r.status=Si,Ra(r,s),r.strstart!==0&&(Ra(r,e.adler>>>16),Ra(r,e.adler&65535)),e.adler=1}if(r.status===yg)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=xr(e.adler,r.pending_buf,r.pending-i,i)),Tr(e),i=r.pending,r.pending===r.pending_buf_size));)pe(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=xr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Tu)}else r.status=Tu;if(r.status===Tu)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=xr(e.adler,r.pending_buf,r.pending-i,i)),Tr(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,pe(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=xr(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=Au)}else r.status=Au;if(r.status===Au)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=xr(e.adler,r.pending_buf,r.pending-i,i)),Tr(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,pe(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=xr(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=Nu)}else r.status=Nu;if(r.status===Nu&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Tr(e),r.pending+2<=r.pending_buf_size&&(pe(r,e.adler&255),pe(r,e.adler>>8&255),e.adler=0,r.status=Si)):r.status=Si),r.pending!==0){if(Tr(e),e.avail_out===0)return r.last_flush=-1,wn}else if(e.avail_in===0&&K_(t)<=K_(n)&&t!==Or)return Rr(e,gg);if(r.status===Oa&&e.avail_in!==0)return Rr(e,gg);if(e.avail_in!==0||r.lookahead!==0||t!==Ti&&r.status!==Oa){var l=r.strategy===xu?LA(r,t):r.strategy===DA?FA(r,t):zo[r.level].func(r,t);if((l===Mi||l===Go)&&(r.status=Oa),l===He||l===Mi)return e.avail_out===0&&(r.last_flush=-1),wn;if(l===ka&&(t===pA?Bt._tr_align(r):t!==Z_&&(Bt._tr_stored_block(r,0,0,!1),t===gA&&(Ar(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Tr(e),e.avail_out===0))return r.last_flush=-1,wn}return t!==Or?wn:r.wrap<=0?Y_:(r.wrap===2?(pe(r,e.adler&255),pe(r,e.adler>>8&255),pe(r,e.adler>>16&255),pe(r,e.adler>>24&255),pe(r,e.total_in&255),pe(r,e.total_in>>8&255),pe(r,e.total_in>>16&255),pe(r,e.total_in>>24&255)):(Ra(r,e.adler>>>16),Ra(r,e.adler&65535)),Tr(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?wn:Y_)}function $A(e){var t;return!e||!e.state?Ut:(t=e.state.status,t!==Ou&&t!==yg&&t!==Tu&&t!==Au&&t!==Nu&&t!==Si&&t!==Oa?Rr(e,Ut):(e.state=null,t===Si?Rr(e,mA):wn))}function zA(e,t){var n=t.length,r,i,o,s,a,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==Ou||r.lookahead))return Ut;for(s===1&&(e.adler=Q_(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Ar(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new gt.Buf8(r.w_size),gt.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,xi(r);r.lookahead>=de;){i=r.strstart,o=r.lookahead-(de-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+de-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=de-1,xi(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=de-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,r.wrap=s,wn}Cn.deflateInit=UA;Cn.deflateInit2=tw;Cn.deflateReset=ew;Cn.deflateResetKeep=X_;Cn.deflateSetHeader=BA;Cn.deflate=HA;Cn.deflateEnd=$A;Cn.deflateSetDictionary=zA;Cn.deflateInfo="pako deflate (from Nodeca project)"});var Dg=Xe(Wo=>{"use strict";var ku=Gn(),rw=!0,iw=!0;try{String.fromCharCode.apply(null,[0])}catch{rw=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{iw=!1}var Pa=new ku.Buf8(256);for(qn=0;qn<256;qn++)Pa[qn]=qn>=252?6:qn>=248?5:qn>=240?4:qn>=224?3:qn>=192?2:1;var qn;Pa[254]=Pa[254]=1;Wo.string2buf=function(e){var t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new ku.Buf8(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};function ow(e,t){if(t<65534&&(e.subarray&&iw||!e.subarray&&rw))return String.fromCharCode.apply(null,ku.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Wo.buf2binstring=function(e){return ow(e,e.length)};Wo.binstring2buf=function(e){for(var t=new ku.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};Wo.buf2string=function(e,t){var n,r,i,o,s=t||e.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){a[r++]=i;continue}if(o=Pa[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|e[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return ow(a,r)};Wo.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Pa[e[n]]>t?n:t}});var _g=Xe((P$,sw)=>{"use strict";function GA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}sw.exports=GA});var uw=Xe(Va=>{"use strict";var Fa=nw(),La=Gn(),Cg=Dg(),Eg=Mu(),WA=_g(),cw=Object.prototype.toString,qA=0,wg=4,qo=0,aw=1,lw=2,ZA=-1,YA=0,KA=8;function Ai(e){if(!(this instanceof Ai))return new Ai(e);this.options=La.assign({level:ZA,method:KA,chunkSize:16384,windowBits:15,memLevel:8,strategy:YA,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WA,this.strm.avail_out=0;var n=Fa.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==qo)throw new Error(Eg[n]);if(t.header&&Fa.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=Cg.string2buf(t.dictionary):cw.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Fa.deflateSetDictionary(this.strm,r),n!==qo)throw new Error(Eg[n]);this._dict_set=!0}}Ai.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=t===~~t?t:t===!0?wg:qA,typeof e=="string"?n.input=Cg.string2buf(e):cw.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new La.Buf8(r),n.next_out=0,n.avail_out=r),i=Fa.deflate(n,o),i!==aw&&i!==qo)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===wg||o===lw))&&(this.options.to==="string"?this.onData(Cg.buf2binstring(La.shrinkBuf(n.output,n.next_out))):this.onData(La.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==aw);return o===wg?(i=Fa.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===qo):(o===lw&&(this.onEnd(qo),n.avail_out=0),!0)};Ai.prototype.onData=function(e){this.chunks.push(e)};Ai.prototype.onEnd=function(e){e===qo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=La.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function bg(e,t){var n=new Ai(t);if(n.push(e,!0),n.err)throw n.msg||Eg[n.err];return n.result}function QA(e,t){return t=t||{},t.raw=!0,bg(e,t)}function JA(e,t){return t=t||{},t.gzip=!0,bg(e,t)}Va.Deflate=Ai;Va.deflate=bg;Va.deflateRaw=QA;Va.gzip=JA});var fw=Xe((L$,dw)=>{"use strict";var Pu=30,XA=12;dw.exports=function(t,n){var r,i,o,s,a,l,c,u,d,p,h,f,v,y,m,g,D,w,_,E,S,C,b,I,M;r=t.state,i=t.next_in,I=t.input,o=i+(t.avail_in-5),s=t.next_out,M=t.output,a=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,d=r.whave,p=r.wnext,h=r.window,f=r.hold,v=r.bits,y=r.lencode,m=r.distcode,g=(1<<r.lenbits)-1,D=(1<<r.distbits)-1;e:do{v<15&&(f+=I[i++]<<v,v+=8,f+=I[i++]<<v,v+=8),w=y[f&g];t:for(;;){if(_=w>>>24,f>>>=_,v-=_,_=w>>>16&255,_===0)M[s++]=w&65535;else if(_&16){E=w&65535,_&=15,_&&(v<_&&(f+=I[i++]<<v,v+=8),E+=f&(1<<_)-1,f>>>=_,v-=_),v<15&&(f+=I[i++]<<v,v+=8,f+=I[i++]<<v,v+=8),w=m[f&D];n:for(;;){if(_=w>>>24,f>>>=_,v-=_,_=w>>>16&255,_&16){if(S=w&65535,_&=15,v<_&&(f+=I[i++]<<v,v+=8,v<_&&(f+=I[i++]<<v,v+=8)),S+=f&(1<<_)-1,S>c){t.msg="invalid distance too far back",r.mode=Pu;break e}if(f>>>=_,v-=_,_=s-a,S>_){if(_=S-_,_>d&&r.sane){t.msg="invalid distance too far back",r.mode=Pu;break e}if(C=0,b=h,p===0){if(C+=u-_,_<E){E-=_;do M[s++]=h[C++];while(--_);C=s-S,b=M}}else if(p<_){if(C+=u+p-_,_-=p,_<E){E-=_;do M[s++]=h[C++];while(--_);if(C=0,p<E){_=p,E-=_;do M[s++]=h[C++];while(--_);C=s-S,b=M}}}else if(C+=p-_,_<E){E-=_;do M[s++]=h[C++];while(--_);C=s-S,b=M}for(;E>2;)M[s++]=b[C++],M[s++]=b[C++],M[s++]=b[C++],E-=3;E&&(M[s++]=b[C++],E>1&&(M[s++]=b[C++]))}else{C=s-S;do M[s++]=M[C++],M[s++]=M[C++],M[s++]=M[C++],E-=3;while(E>2);E&&(M[s++]=M[C++],E>1&&(M[s++]=M[C++]))}}else if((_&64)===0){w=m[(w&65535)+(f&(1<<_)-1)];continue n}else{t.msg="invalid distance code",r.mode=Pu;break e}break}}else if((_&64)===0){w=y[(w&65535)+(f&(1<<_)-1)];continue t}else if(_&32){r.mode=XA;break e}else{t.msg="invalid literal/length code",r.mode=Pu;break e}break}}while(i<o&&s<l);E=v>>3,i-=E,v-=E<<3,f&=(1<<v)-1,t.next_in=i,t.next_out=s,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=f,r.bits=v}});var Dw=Xe((V$,yw)=>{"use strict";var hw=Gn(),Zo=15,pw=852,gw=592,mw=0,Ig=1,vw=2,eN=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],tN=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],nN=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],rN=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];yw.exports=function(t,n,r,i,o,s,a,l){var c=l.bits,u=0,d=0,p=0,h=0,f=0,v=0,y=0,m=0,g=0,D=0,w,_,E,S,C,b=null,I=0,M,R=new hw.Buf16(Zo+1),A=new hw.Buf16(Zo+1),x=null,V=0,Z,B,T;for(u=0;u<=Zo;u++)R[u]=0;for(d=0;d<i;d++)R[n[r+d]]++;for(f=c,h=Zo;h>=1&&R[h]===0;h--);if(f>h&&(f=h),h===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<h&&R[p]===0;p++);for(f<p&&(f=p),m=1,u=1;u<=Zo;u++)if(m<<=1,m-=R[u],m<0)return-1;if(m>0&&(t===mw||h!==1))return-1;for(A[1]=0,u=1;u<Zo;u++)A[u+1]=A[u]+R[u];for(d=0;d<i;d++)n[r+d]!==0&&(a[A[n[r+d]]++]=d);if(t===mw?(b=x=a,M=19):t===Ig?(b=eN,I-=257,x=tN,V-=257,M=256):(b=nN,x=rN,M=-1),D=0,d=0,u=p,C=s,v=f,y=0,E=-1,g=1<<f,S=g-1,t===Ig&&g>pw||t===vw&&g>gw)return 1;for(;;){Z=u-y,a[d]<M?(B=0,T=a[d]):a[d]>M?(B=x[V+a[d]],T=b[I+a[d]]):(B=96,T=0),w=1<<u-y,_=1<<v,p=_;do _-=w,o[C+(D>>y)+_]=Z<<24|B<<16|T|0;while(_!==0);for(w=1<<u-1;D&w;)w>>=1;if(w!==0?(D&=w-1,D+=w):D=0,d++,--R[u]===0){if(u===h)break;u=n[r+a[d]]}if(u>f&&(D&S)!==E){for(y===0&&(y=f),C+=p,v=u-y,m=1<<v;v+y<h&&(m-=R[v+y],!(m<=0));)v++,m<<=1;if(g+=1<<v,t===Ig&&g>pw||t===vw&&g>gw)return 1;E=D&S,o[E]=f<<24|v<<16|C-s|0}}return D!==0&&(o[C+D]=u-y<<24|64<<16|0),l.bits=f,0}});var eC=Xe(en=>{"use strict";var Tt=Gn(),Ng=hg(),En=pg(),iN=fw(),ja=Dw(),oN=0,Gw=1,Ww=2,_w=4,sN=5,Fu=6,Ni=0,aN=1,lN=2,Ht=-2,qw=-3,Rg=-4,cN=-5,ww=8,Zw=1,Cw=2,Ew=3,bw=4,Iw=5,Sw=6,Mw=7,xw=8,Tw=9,Aw=10,ju=11,Zn=12,Sg=13,Nw=14,Mg=15,Rw=16,Ow=17,kw=18,Pw=19,Lu=20,Vu=21,Fw=22,Lw=23,Vw=24,jw=25,Bw=26,xg=27,Uw=28,Hw=29,we=30,Og=31,uN=32,dN=852,fN=592,hN=15,pN=hN;function $w(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function gN(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Tt.Buf16(320),this.work=new Tt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Yw(e){var t;return!e||!e.state?Ht:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Zw,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Tt.Buf32(dN),t.distcode=t.distdyn=new Tt.Buf32(fN),t.sane=1,t.back=-1,Ni)}function Kw(e){var t;return!e||!e.state?Ht:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,Yw(e))}function Qw(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Ht:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Kw(e))}function Jw(e,t){var n,r;return e?(r=new gN,e.state=r,r.window=null,n=Qw(e,t),n!==Ni&&(e.state=null),n):Ht}function mN(e){return Jw(e,pN)}var zw=!0,Tg,Ag;function vN(e){if(zw){var t;for(Tg=new Tt.Buf32(512),Ag=new Tt.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ja(Gw,e.lens,0,288,Tg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ja(Ww,e.lens,0,32,Ag,0,e.work,{bits:5}),zw=!1}e.lencode=Tg,e.lenbits=9,e.distcode=Ag,e.distbits=5}function Xw(e,t,n,r){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Tt.Buf8(o.wsize)),r>=o.wsize?(Tt.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),Tt.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(Tt.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function yN(e,t){var n,r,i,o,s,a,l,c,u,d,p,h,f,v,y=0,m,g,D,w,_,E,S,C,b=new Tt.Buf8(4),I,M,R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Ht;n=e.state,n.mode===Zn&&(n.mode=Sg),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,p=l,C=Ni;e:for(;;)switch(n.mode){case Zw:if(n.wrap===0){n.mode=Sg;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,b[0]=c&255,b[1]=c>>>8&255,n.check=En(n.check,b,2,0),c=0,u=0,n.mode=Cw;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=we;break}if((c&15)!==ww){e.msg="unknown compression method",n.mode=we;break}if(c>>>=4,u-=4,S=(c&15)+8,n.wbits===0)n.wbits=S;else if(S>n.wbits){e.msg="invalid window size",n.mode=we;break}n.dmax=1<<S,e.adler=n.check=1,n.mode=c&512?Aw:Zn,c=0,u=0;break;case Cw:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==ww){e.msg="unknown compression method",n.mode=we;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=we;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,n.check=En(n.check,b,2,0)),c=0,u=0,n.mode=Ew;case Ew:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,b[2]=c>>>16&255,b[3]=c>>>24&255,n.check=En(n.check,b,4,0)),c=0,u=0,n.mode=bw;case bw:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,n.check=En(n.check,b,2,0)),c=0,u=0,n.mode=Iw;case Iw:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,n.check=En(n.check,b,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Sw;case Sw:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Tt.arraySet(n.head.extra,r,o,h,S)),n.flags&512&&(n.check=En(n.check,r,h,o)),a-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=Mw;case Mw:if(n.flags&2048){if(a===0)break e;h=0;do S=r[o+h++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&h<a);if(n.flags&512&&(n.check=En(n.check,r,h,o)),a-=h,o+=h,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=xw;case xw:if(n.flags&4096){if(a===0)break e;h=0;do S=r[o+h++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&h<a);if(n.flags&512&&(n.check=En(n.check,r,h,o)),a-=h,o+=h,S)break e}else n.head&&(n.head.comment=null);n.mode=Tw;case Tw:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=we;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Zn;break;case Aw:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}e.adler=n.check=$w(c),c=0,u=0,n.mode=ju;case ju:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,lN;e.adler=n.check=1,n.mode=Zn;case Zn:if(t===sN||t===Fu)break e;case Sg:if(n.last){c>>>=u&7,u-=u&7,n.mode=xg;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=Nw;break;case 1:if(vN(n),n.mode=Lu,t===Fu){c>>>=2,u-=2;break e}break;case 2:n.mode=Ow;break;case 3:e.msg="invalid block type",n.mode=we}c>>>=2,u-=2;break;case Nw:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=we;break}if(n.length=c&65535,c=0,u=0,n.mode=Mg,t===Fu)break e;case Mg:n.mode=Rw;case Rw:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;Tt.arraySet(i,r,o,h,s),a-=h,o+=h,l-=h,s+=h,n.length-=h;break}n.mode=Zn;break;case Ow:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=we;break}n.have=0,n.mode=kw;case kw:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[R[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},C=ja(oN,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,C){e.msg="invalid code lengths set",n.mode=we;break}n.have=0,n.mode=Pw;case Pw:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],m=y>>>24,g=y>>>16&255,D=y&65535,!(m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(D<16)c>>>=m,u-=m,n.lens[n.have++]=D;else{if(D===16){for(M=m+2;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=m,u-=m,n.have===0){e.msg="invalid bit length repeat",n.mode=we;break}S=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(D===17){for(M=m+3;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=m,u-=m,S=0,h=3+(c&7),c>>>=3,u-=3}else{for(M=m+7;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=m,u-=m,S=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=we;break}for(;h--;)n.lens[n.have++]=S}}if(n.mode===we)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=we;break}if(n.lenbits=9,I={bits:n.lenbits},C=ja(Gw,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,C){e.msg="invalid literal/lengths set",n.mode=we;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},C=ja(Ww,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,C){e.msg="invalid distances set",n.mode=we;break}if(n.mode=Lu,t===Fu)break e;case Lu:n.mode=Vu;case Vu:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,iN(e,p),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===Zn&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],m=y>>>24,g=y>>>16&255,D=y&65535,!(m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(g&&(g&240)===0){for(w=m,_=g,E=D;y=n.lencode[E+((c&(1<<w+_)-1)>>w)],m=y>>>24,g=y>>>16&255,D=y&65535,!(w+m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=m,u-=m,n.back+=m,n.length=D,g===0){n.mode=Bw;break}if(g&32){n.back=-1,n.mode=Zn;break}if(g&64){e.msg="invalid literal/length code",n.mode=we;break}n.extra=g&15,n.mode=Fw;case Fw:if(n.extra){for(M=n.extra;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Lw;case Lw:for(;y=n.distcode[c&(1<<n.distbits)-1],m=y>>>24,g=y>>>16&255,D=y&65535,!(m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((g&240)===0){for(w=m,_=g,E=D;y=n.distcode[E+((c&(1<<w+_)-1)>>w)],m=y>>>24,g=y>>>16&255,D=y&65535,!(w+m<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=m,u-=m,n.back+=m,g&64){e.msg="invalid distance code",n.mode=we;break}n.offset=D,n.extra=g&15,n.mode=Vw;case Vw:if(n.extra){for(M=n.extra;u<M;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=we;break}n.mode=jw;case jw:if(l===0)break e;if(h=p-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=we;break}h>n.wnext?(h-=n.wnext,f=n.wsize-h):f=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=i,f=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=v[f++];while(--h);n.length===0&&(n.mode=Vu);break;case Bw:if(l===0)break e;i[s++]=n.length,l--,n.mode=Vu;break;case xg:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(p-=l,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=n.flags?En(n.check,i,p,s-p):Ng(n.check,i,p,s-p)),p=l,(n.flags?c:$w(c))!==n.check){e.msg="incorrect data check",n.mode=we;break}c=0,u=0}n.mode=Uw;case Uw:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=we;break}c=0,u=0}n.mode=Hw;case Hw:C=aN;break e;case we:C=qw;break e;case Og:return Rg;case uN:default:return Ht}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||p!==e.avail_out&&n.mode<we&&(n.mode<xg||t!==_w))&&Xw(e,e.output,e.next_out,p-e.avail_out)?(n.mode=Og,Rg):(d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=n.flags?En(n.check,i,p,e.next_out-p):Ng(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Zn?128:0)+(n.mode===Lu||n.mode===Mg?256:0),(d===0&&p===0||t===_w)&&C===Ni&&(C=cN),C)}function DN(e){if(!e||!e.state)return Ht;var t=e.state;return t.window&&(t.window=null),e.state=null,Ni}function _N(e,t){var n;return!e||!e.state||(n=e.state,(n.wrap&2)===0)?Ht:(n.head=t,t.done=!1,Ni)}function wN(e,t){var n=t.length,r,i,o;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==ju)?Ht:r.mode===ju&&(i=1,i=Ng(i,t,n,0),i!==r.check)?qw:(o=Xw(e,t,n,n),o?(r.mode=Og,Rg):(r.havedict=1,Ni))}en.inflateReset=Kw;en.inflateReset2=Qw;en.inflateResetKeep=Yw;en.inflateInit=mN;en.inflateInit2=Jw;en.inflate=yN;en.inflateEnd=DN;en.inflateGetHeader=_N;en.inflateSetDictionary=wN;en.inflateInfo="pako inflate (from Nodeca project)"});var kg=Xe((B$,tC)=>{"use strict";tC.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var rC=Xe((U$,nC)=>{"use strict";function CN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}nC.exports=CN});var oC=Xe(Ua=>{"use strict";var Yo=eC(),Ba=Gn(),Bu=Dg(),Ae=kg(),Pg=Mu(),EN=_g(),bN=rC(),iC=Object.prototype.toString;function Ri(e){if(!(this instanceof Ri))return new Ri(e);this.options=Ba.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EN,this.strm.avail_out=0;var n=Yo.inflateInit2(this.strm,t.windowBits);if(n!==Ae.Z_OK)throw new Error(Pg[n]);if(this.header=new bN,Yo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Bu.string2buf(t.dictionary):iC.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Yo.inflateSetDictionary(this.strm,t.dictionary),n!==Ae.Z_OK)))throw new Error(Pg[n])}Ri.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Ae.Z_FINISH:Ae.Z_NO_FLUSH,typeof e=="string"?n.input=Bu.binstring2buf(e):iC.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Ba.Buf8(r),n.next_out=0,n.avail_out=r),o=Yo.inflate(n,Ae.Z_NO_FLUSH),o===Ae.Z_NEED_DICT&&i&&(o=Yo.inflateSetDictionary(this.strm,i)),o===Ae.Z_BUF_ERROR&&u===!0&&(o=Ae.Z_OK,u=!1),o!==Ae.Z_STREAM_END&&o!==Ae.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===Ae.Z_STREAM_END||n.avail_in===0&&(s===Ae.Z_FINISH||s===Ae.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=Bu.utf8border(n.output,n.next_out),l=n.next_out-a,c=Bu.buf2string(n.output,a),n.next_out=l,n.avail_out=r-l,l&&Ba.arraySet(n.output,n.output,a,l,0),this.onData(c)):this.onData(Ba.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==Ae.Z_STREAM_END);return o===Ae.Z_STREAM_END&&(s=Ae.Z_FINISH),s===Ae.Z_FINISH?(o=Yo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Ae.Z_OK):(s===Ae.Z_SYNC_FLUSH&&(this.onEnd(Ae.Z_OK),n.avail_out=0),!0)};Ri.prototype.onData=function(e){this.chunks.push(e)};Ri.prototype.onEnd=function(e){e===Ae.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ba.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Fg(e,t){var n=new Ri(t);if(n.push(e,!0),n.err)throw n.msg||Pg[n.err];return n.result}function IN(e,t){return t=t||{},t.raw=!0,Fg(e,t)}Ua.Inflate=Ri;Ua.inflate=Fg;Ua.inflateRaw=IN;Ua.ungzip=Fg});var lC=Xe(($$,aC)=>{"use strict";var SN=Gn().assign,MN=uw(),xN=oC(),TN=kg(),sC={};SN(sC,MN,xN,TN);aC.exports=sC});var cC=Xe((z$,Lg)=>{"use strict";(function(){var e={};typeof Lg=="object"?Lg.exports=e:self.UTIF=e;var t;typeof ss=="function"?t=lC():t=self.pako;function n(){typeof process>"u"&&console.log.apply(console,arguments)}(function(r,i){(function(){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s=function(){function l(c){this.message="JPEG error: "+c}return l.prototype=Error(),l.prototype.name="JpegError",l.constructor=l}(),a=function(){function l(c,u){this.message=c,this.g=u}return l.prototype=Error(),l.prototype.name="DNLMarkerError",l.constructor=l}();(function(){function l(){this.M=null,this.B=-1}function c(f,v){for(var y=0,m=[],g,D,w=16;0<w&&!f[w-1];)w--;m.push({children:[],index:0});var _=m[0],E;for(g=0;g<w;g++){for(D=0;D<f[g];D++){for(_=m.pop(),_.children[_.index]=v[y];0<_.index;)_=m.pop();for(_.index++,m.push(_);m.length<=g;)m.push(E={children:[],index:0}),_.children[_.index]=E.children,_=E;y++}g+1<w&&(m.push(E={children:[],index:0}),_.children[_.index]=E.children,_=E)}return m[0].children}function u(f,v,y,m,g,D,w,_,E){function S(){if(0<L)return L--,F>>L&1;if(F=f[v++],F===255){var J=f[v++];if(J){if(J===220&&Z){v+=2;var Ee=f[v++]<<8|f[v++];if(0<Ee&&Ee!==y.g)throw new a("Found DNL marker (0xFFDC) while parsing scan data",Ee)}throw new s("unexpected marker "+(F<<8|J).toString(16))}}return L=7,F>>>7}function C(J){for(;;){if(J=J[S()],typeof J=="number")return J;if((typeof J>"u"?"undefined":o(J))!=="object")throw new s("invalid huffman sequence")}}function b(J){for(var Ee=0;0<J;)Ee=Ee<<1|S(),J--;return Ee}function I(J){if(J===1)return S()===1?1:-1;var Ee=b(J);return Ee>=1<<J-1?Ee:Ee+(-1<<J)+1}function M(J,Ee){var De=C(J.D);for(De=De===0?0:I(De),J.a[Ee]=J.m+=De,De=1;64>De;){var be=C(J.o),je=be&15;if(be>>=4,je===0){if(15>be)break;De+=16}else De+=be,J.a[Ee+h[De]]=I(je),De++}}function R(J,Ee){var De=C(J.D);De=De===0?0:I(De)<<E,J.a[Ee]=J.m+=De}function A(J,Ee){J.a[Ee]|=S()<<E}function x(J,Ee){if(0<Y)Y--;else for(var De=D;De<=w;){var be=C(J.o),je=be&15;if(be>>=4,je===0){if(15>be){Y=b(be)+(1<<be)-1;break}De+=16}else De+=be,J.a[Ee+h[De]]=I(je)*(1<<E),De++}}function V(J,Ee){for(var De=D,be=0,je;De<=w;){je=Ee+h[De];var Cd=0>J.a[je]?-1:1;switch(z){case 0:if(be=C(J.o),je=be&15,be>>=4,je===0)15>be?(Y=b(be)+(1<<be),z=4):(be=16,z=1);else{if(je!==1)throw new s("invalid ACn encoding");Re=I(je),z=be?2:3}continue;case 1:case 2:J.a[je]?J.a[je]+=Cd*(S()<<E):(be--,be===0&&(z=z===2?3:0));break;case 3:J.a[je]?J.a[je]+=Cd*(S()<<E):(J.a[je]=Re<<E,z=0);break;case 4:J.a[je]&&(J.a[je]+=Cd*(S()<<E))}De++}z===4&&(Y--,Y===0&&(z=0))}for(var Z=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,B=y.P,T=v,F=0,L=0,Y=0,z=0,Re,ot=m.length,he,xn,Je,Ui,pm=y.S?D===0?_===0?R:A:_===0?x:V:M,Qn=0,wd=ot===1?m[0].c*m[0].l:B*y.O,gm,mm;Qn<wd;){var vm=g?Math.min(wd-Qn,g):wd;for(he=0;he<ot;he++)m[he].m=0;if(Y=0,ot===1){var ye=m[0];for(Ui=0;Ui<vm;Ui++)pm(ye,64*((ye.c+1)*(Qn/ye.c|0)+Qn%ye.c)),Qn++}else for(Ui=0;Ui<vm;Ui++){for(he=0;he<ot;he++)for(ye=m[he],gm=ye.h,mm=ye.j,xn=0;xn<mm;xn++)for(Je=0;Je<gm;Je++)pm(ye,64*((ye.c+1)*((Qn/B|0)*ye.j+xn)+(Qn%B*ye.h+Je)));Qn++}if(L=0,(ye=p(f,v))&&ye.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+ye.f),v=ye.offset),ye=ye&&ye.F,!ye||65280>=ye)throw new s("marker was not found");if(65488<=ye&&65495>=ye)v+=2;else break}return(ye=p(f,v))&&ye.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+ye.f),v=ye.offset),v-T}function d(f,v){for(var y=v.c,m=v.l,g=new Int16Array(64),D=0;D<m;D++)for(var w=0;w<y;w++){var _=64*((v.c+1)*D+w),E=g,S=v.G,C=v.a;if(!S)throw new s("missing required Quantization Table.");for(var b=0;64>b;b+=8){var I=C[_+b],M=C[_+b+1],R=C[_+b+2],A=C[_+b+3],x=C[_+b+4],V=C[_+b+5],Z=C[_+b+6],B=C[_+b+7];if(I*=S[b],(M|R|A|x|V|Z|B)===0)I=5793*I+512>>10,E[b]=I,E[b+1]=I,E[b+2]=I,E[b+3]=I,E[b+4]=I,E[b+5]=I,E[b+6]=I,E[b+7]=I;else{M*=S[b+1],R*=S[b+2],A*=S[b+3],x*=S[b+4],V*=S[b+5],Z*=S[b+6],B*=S[b+7];var T=5793*I+128>>8,F=5793*x+128>>8,L=R,Y=Z;x=2896*(M-B)+128>>8,B=2896*(M+B)+128>>8,A<<=4,V<<=4,T=T+F+1>>1,F=T-F,I=3784*L+1567*Y+128>>8,L=1567*L-3784*Y+128>>8,Y=I,x=x+V+1>>1,V=x-V,B=B+A+1>>1,A=B-A,T=T+Y+1>>1,Y=T-Y,F=F+L+1>>1,L=F-L,I=2276*x+3406*B+2048>>12,x=3406*x-2276*B+2048>>12,B=I,I=799*A+4017*V+2048>>12,A=4017*A-799*V+2048>>12,V=I,E[b]=T+B,E[b+7]=T-B,E[b+1]=F+V,E[b+6]=F-V,E[b+2]=L+A,E[b+5]=L-A,E[b+3]=Y+x,E[b+4]=Y-x}}for(S=0;8>S;++S)I=E[S],M=E[S+8],R=E[S+16],A=E[S+24],x=E[S+32],V=E[S+40],Z=E[S+48],B=E[S+56],(M|R|A|x|V|Z|B)===0?(I=5793*I+8192>>14,I=-2040>I?0:2024<=I?255:I+2056>>4,C[_+S]=I,C[_+S+8]=I,C[_+S+16]=I,C[_+S+24]=I,C[_+S+32]=I,C[_+S+40]=I,C[_+S+48]=I,C[_+S+56]=I):(T=5793*I+2048>>12,F=5793*x+2048>>12,L=R,Y=Z,x=2896*(M-B)+2048>>12,B=2896*(M+B)+2048>>12,T=(T+F+1>>1)+4112,F=T-F,I=3784*L+1567*Y+2048>>12,L=1567*L-3784*Y+2048>>12,Y=I,x=x+V+1>>1,V=x-V,B=B+A+1>>1,A=B-A,T=T+Y+1>>1,Y=T-Y,F=F+L+1>>1,L=F-L,I=2276*x+3406*B+2048>>12,x=3406*x-2276*B+2048>>12,B=I,I=799*A+4017*V+2048>>12,A=4017*A-799*V+2048>>12,V=I,I=T+B,B=T-B,M=F+V,Z=F-V,R=L+A,V=L-A,A=Y+x,x=Y-x,I=16>I?0:4080<=I?255:I>>4,M=16>M?0:4080<=M?255:M>>4,R=16>R?0:4080<=R?255:R>>4,A=16>A?0:4080<=A?255:A>>4,x=16>x?0:4080<=x?255:x>>4,V=16>V?0:4080<=V?255:V>>4,Z=16>Z?0:4080<=Z?255:Z>>4,B=16>B?0:4080<=B?255:B>>4,C[_+S]=I,C[_+S+8]=M,C[_+S+16]=R,C[_+S+24]=A,C[_+S+32]=x,C[_+S+40]=V,C[_+S+48]=Z,C[_+S+56]=B)}return v.a}function p(f,v){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:v,m=f.length-1;if(y=y<v?y:v,v>=m)return null;var g=f[v]<<8|f[v+1];if(65472<=g&&65534>=g)return{f:null,F:g,offset:v};for(var D=f[y]<<8|f[y+1];!(65472<=D&&65534>=D);){if(++y>=m)return null;D=f[y]<<8|f[y+1]}return{f:g.toString(16),F:D,offset:y}}var h=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);l.prototype={parse:function(f){function v(){var L=f[w]<<8|f[w+1];return w+=2,L}function y(){var L=v();L=w+L-2;var Y=p(f,L,w);return Y&&Y.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+Y.f),L=Y.offset),L=f.subarray(w,L),w+=L.length,L}function m(L){for(var Y=Math.ceil(L.v/8/L.s),z=Math.ceil(L.g/8/L.u),Re=0;Re<L.b.length;Re++){T=L.b[Re];var ot=Math.ceil(Math.ceil(L.v/8)*T.h/L.s),he=Math.ceil(Math.ceil(L.g/8)*T.j/L.u);T.a=new Int16Array(64*z*T.j*(Y*T.h+1)),T.c=ot,T.l=he}L.P=Y,L.O=z}var g=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,D=g===void 0?null:g,w=0,_=null,E=0;g=[];var S=[],C=[],b=v();if(b!==65496)throw new s("SOI not found");for(b=v();b!==65497;){switch(b){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var I=y();b===65518&&I[0]===65&&I[1]===100&&I[2]===111&&I[3]===98&&I[4]===101&&(_={version:I[5]<<8|I[6],Y:I[7]<<8|I[8],Z:I[9]<<8|I[10],W:I[11]});break;case 65499:b=v()+w-2;for(var M;w<b;){var R=f[w++],A=new Uint16Array(64);if(R>>4===0)for(I=0;64>I;I++)M=h[I],A[M]=f[w++];else if(R>>4===1)for(I=0;64>I;I++)M=h[I],A[M]=v();else throw new s("DQT - invalid table spec");g[R&15]=A}break;case 65472:case 65473:case 65474:if(x)throw new s("Only single frame JPEGs supported");v();var x={};for(x.X=b===65473,x.S=b===65474,x.precision=f[w++],b=v(),x.g=D||b,x.v=v(),x.b=[],x.C={},I=f[w++],b=A=R=0;b<I;b++){M=f[w];var V=f[w+1]>>4,Z=f[w+1]&15;R<V&&(R=V),A<Z&&(A=Z),V=x.b.push({h:V,j:Z,T:f[w+2],G:null}),x.C[M]=V-1,w+=3}x.s=R,x.u=A,m(x);break;case 65476:for(M=v(),b=2;b<M;){for(R=f[w++],A=new Uint8Array(16),I=V=0;16>I;I++,w++)V+=A[I]=f[w];for(Z=new Uint8Array(V),I=0;I<V;I++,w++)Z[I]=f[w];b+=17+V,(R>>4===0?C:S)[R&15]=c(A,Z)}break;case 65501:v();var B=v();break;case 65498:for(I=++E===1&&!D,v(),R=f[w++],M=[],b=0;b<R;b++){A=x.C[f[w++]];var T=x.b[A];A=f[w++],T.D=C[A>>4],T.o=S[A&15],M.push(T)}b=f[w++],R=f[w++],A=f[w++];try{var F=u(f,w,x,M,B,b,R,A>>4,A&15,I);w+=F}catch(L){if(L instanceof a)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(f,{N:L.g});throw L}break;case 65500:w+=4;break;case 65535:f[w]!==255&&w--;break;default:if(f[w-3]===255&&192<=f[w-2]&&254>=f[w-2])w-=3;else if((I=p(f,w-2))&&I.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+I.f),w=I.offset;else throw new s("unknown marker "+b.toString(16))}b=v()}for(this.width=x.v,this.height=x.g,this.A=_,this.b=[],b=0;b<x.b.length;b++)T=x.b[b],(B=g[T.T])&&(T.G=B),this.b.push({R:d(x,T),U:T.h/x.s,V:T.j/x.u,c:T.c,l:T.l});this.i=this.b.length},L:function(f,v){var y=this.width/f,m=this.height/v,g,D,w=this.b.length,_=f*v*w,E=new Uint8ClampedArray(_),S=new Uint32Array(f);for(D=0;D<w;D++){var C=this.b[D],b=C.U*y,I=C.V*m,M=D,R=C.R,A=C.c+1<<3;for(g=0;g<f;g++)C=0|g*b,S[g]=(C&4294967288)<<3|C&7;for(b=0;b<v;b++)for(C=0|b*I,C=A*(C&4294967288)|(C&7)<<3,g=0;g<f;g++)E[M]=R[C+S[g]],M+=w}if(m=this.M)for(D=0;D<_;)for(y=C=0;C<w;C++,D++,y+=2)E[D]=(E[D]*m[y]>>8)+m[y+1];return E},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(f){for(var v,y,m,g=0,D=f.length;g<D;g+=3)v=f[g],y=f[g+1],m=f[g+2],f[g]=v-179.456+1.402*m,f[g+1]=v+135.459-.344*y-.714*m,f[g+2]=v-226.816+1.772*y;return f},K:function(f){for(var v,y,m,g,D=0,w=0,_=f.length;w<_;w+=4)v=f[w],y=f[w+1],m=f[w+2],g=f[w+3],f[D++]=-122.67195406894+y*(-660635669420364e-19*y+.000437130475926232*m-54080610064599e-18*v+.00048449797120281*g-.154362151871126)+m*(-.000957964378445773*m+.000817076911346625*v-.00477271405408747*g+1.53380253221734)+v*(.000961250184130688*v-.00266257332283933*g+.48357088451265)+g*(-.000336197177618394*g+.484791561490776),f[D++]=107.268039397724+y*(219927104525741e-19*y-.000640992018297945*m+.000659397001245577*v+.000426105652938837*g-.176491792462875)+m*(-.000778269941513683*m+.00130872261408275*v+.000770482631801132*g-.151051492775562)+v*(.00126935368114843*v-.00265090189010898*g+.25802910206845)+g*(-.000318913117588328*g-.213742400323665),f[D++]=-20.810012546947+y*(-.000570115196973677*y-263409051004589e-19*m+.0020741088115012*v-.00288260236853442*g+.814272968359295)+m*(-153496057440975e-19*m-.000132689043961446*v+.000560833691242812*g-.195152027534049)+v*(.00174418132927582*v-.00255243321439347*g+.116935020465145)+g*(-.000343531996510555*g+.24165260232407);return f.subarray(0,D)},J:function(f){for(var v,y,m,g=0,D=f.length;g<D;g+=4)v=f[g],y=f[g+1],m=f[g+2],f[g]=434.456-v-1.402*m,f[g+1]=119.541-v+.344*y+.714*m,f[g+2]=481.816-v-1.772*y;return f},H:function(f){for(var v,y,m,g,D=0,w=1/255,_=0,E=f.length;_<E;_+=4)v=f[_]*w,y=f[_+1]*w,m=f[_+2]*w,g=f[_+3]*w,f[D++]=255+v*(-4.387332384609988*v+54.48615194189176*y+18.82290502165302*m+212.25662451639585*g-285.2331026137004)+y*(1.7149763477362134*y-5.6096736904047315*m-17.873870861415444*g-5.497006427196366)+m*(-2.5217340131683033*m-21.248923337353073*g+17.5119270841813)-g*(21.86122147463605*g+189.48180835922747),f[D++]=255+v*(8.841041422036149*v+60.118027045597366*y+6.871425592049007*m+31.159100130055922*g-79.2970844816548)+y*(-15.310361306967817*y+17.575251261109482*m+131.35250912493976*g-190.9453302588951)+m*(4.444339102852739*m+9.8632861493405*g-24.86741582555878)-g*(20.737325471181034*g+187.80453709719578),f[D++]=255+v*(.8842522430003296*v+8.078677503112928*y+30.89978309703729*m-.23883238689178934*g-14.183576799673286)+y*(10.49593273432072*y+63.02378494754052*m+50.606957656360734*g-112.23884253719248)+m*(.03296041114873217*m+115.60384449646641*g-193.58209356861505)-g*(22.33816807309886*g+180.12613974708367);return f.subarray(0,D)},getData:function(f,v,y){if(4<this.i)throw new s("Unsupported color mode");if(f=this.L(f,v),this.i===1&&y){y=f.length,v=new Uint8ClampedArray(3*y);for(var m=0,g=0;g<y;g++){var D=f[g];v[m++]=D,v[m++]=D,v[m++]=D}return v}if(this.i===3&&this.w())return this.I(f);if(this.i===4){if(this.w())return y?this.K(f):this.J(f);if(y)return this.H(f)}return f}},r.JpegDecoder=l})()})(),r.encodeImage=function(o,s,a,l){var c={t256:[s],t257:[a],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[a],t279:[s*a*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(l)for(var u in l)c[u]=l[u];for(var d=new Uint8Array(r.encode([c])),p=new Uint8Array(o),h=new Uint8Array(1e3+s*a*4),u=0;u<d.length;u++)h[u]=d[u];for(var u=0;u<p.length;u++)h[1e3+u]=p[u];return h.buffer},r.encode=function(o){var s=new Uint8Array(2e4),a=4,l=r._binBE;s[0]=77,s[1]=77,s[3]=42;var c=8;l.writeUint(s,a,c),a+=4;for(var u=0;u<o.length;u++){var d=r._writeIFD(l,s,c,o[u]);c=d[1],u<o.length-1&&l.writeUint(s,d[0],c)}return s.slice(0,c).buffer},r.decode=function(o){r.decode._decodeG3.allow2D=null;var s=new Uint8Array(o),a=0,l=r._binBE.readASCII(s,a,2);a+=2;var c=l=="II"?r._binLE:r._binBE,u=c.readUshort(s,a);a+=2;var d=c.readUint(s,a);a+=4;for(var p=[];;){var h=r._readIFD(c,s,d,p,0,!1);if(d=c.readUint(s,h),d==0)break}return p},r.decodeImage=function(o,s,a){var l=new Uint8Array(o),c=r._binBE.readASCII(l,0,2);if(s.t256!=null){s.isLE=c=="II",s.width=s.t256[0],s.height=s.t257[0];var u=s.t259?s.t259[0]:1,d=s.t266?s.t266[0]:1;s.t284&&s.t284[0]==2&&n("PlanarConfiguration 2 should not be used!");var p;s.t258?p=Math.min(32,s.t258[0])*s.t258.length:p=s.t277?s.t277[0]:1,u==1&&s.t279!=null&&s.t278&&s.t262[0]==32803&&(p=Math.round(s.t279[0]*8/(s.width*s.t278[0])));var h=Math.ceil(s.width*p/8)*8,f=s.t273;f==null&&(f=s.t324);var v=s.t279;u==1&&f.length==1&&(v=[s.height*(h>>>3)]),v==null&&(v=s.t325);var y=new Uint8Array(s.height*(h>>>3)),m=0;if(s.t322!=null){for(var g=s.t322[0],D=s.t323[0],w=Math.floor((s.width+g-1)/g),_=Math.floor((s.height+D-1)/D),E=new Uint8Array(Math.ceil(g*D*p/8)|0),S=0;S<_;S++)for(var C=0;C<w;C++){for(var b=S*w+C,I=0;I<E.length;I++)E[I]=0;r.decode._decompress(s,a,l,f[b],v[b],u,E,0,d),u==6?y=E:r._copyTile(E,Math.ceil(g*p/8)|0,D,y,Math.ceil(s.width*p/8)|0,s.height,Math.ceil(C*g*p/8)|0,S*D)}m=y.length*8}else{var M=s.t278?s.t278[0]:s.height;M=Math.min(M,s.height);for(var b=0;b<f.length;b++)r.decode._decompress(s,a,l,f[b],v[b],u,y,Math.ceil(m/8)|0,d),m+=h*M;m=Math.min(m,y.length*8)}s.data=new Uint8Array(y.buffer,0,Math.ceil(m/8)|0)}},r.decode._decompress=function(o,s,a,l,c,u,d,p,h){if(u==1||c==d.length&&u!=32767)for(var f=0;f<c;f++)d[p+f]=a[l+f];else if(u==3)r.decode._decodeG3(a,l,c,d,p,o.width,h);else if(u==4)r.decode._decodeG4(a,l,c,d,p,o.width,h);else if(u==5)r.decode._decodeLZW(a,l,d,p);else if(u==6)r.decode._decodeOldJPEG(o,a,l,c,d,p);else if(u==7)r.decode._decodeNewJPEG(o,a,l,c,d,p);else if(u==8)for(var v=new Uint8Array(a.buffer,l,c),y=i.inflate(v),m=0;m<y.length;m++)d[p+m]=y[m];else u==32767?r.decode._decodeARW(o,a,l,c,d,p):u==32773?r.decode._decodePackBits(a,l,c,d,p):u==32809?r.decode._decodeThunder(a,l,c,d,p):u==34713?r.decode._decodeNikon(o,s,a,l,c,d,p):n("Unknown compression",u);var g=o.t258?Math.min(32,o.t258[0]):1,D=o.t277?o.t277[0]:1,w=g*D>>>3,_=o.t278?o.t278[0]:o.height,E=Math.ceil(g*D*o.width/8);if(g==16&&!o.isLE&&o.t33422==null)for(var S=0;S<_;S++)for(var C=p+S*E,b=1;b<E;b+=2){var I=d[C+b];d[C+b]=d[C+b-1],d[C+b-1]=I}if(o.t317&&o.t317[0]==2)for(var S=0;S<_;S++){var M=p+S*E;if(g==16)for(var f=w;f<E;f+=2){var R=(d[M+f+1]<<8|d[M+f])+(d[M+f-w+1]<<8|d[M+f-w]);d[M+f]=R&255,d[M+f+1]=R>>>8&255}else if(D==3)for(var f=3;f<E;f+=3)d[M+f]=d[M+f]+d[M+f-3]&255,d[M+f+1]=d[M+f+1]+d[M+f-2]&255,d[M+f+2]=d[M+f+2]+d[M+f-1]&255;else for(var f=w;f<E;f++)d[M+f]=d[M+f]+d[M+f-w]&255}},r.decode._ljpeg_diff=function(o,s,a){var l=r.decode._getbithuff,c,u;return c=l(o,s,a[0],a),u=l(o,s,c,0),(u&1<<c-1)==0&&(u-=(1<<c)-1),u},r.decode._decodeARW=function(o,s,a,l,c,u){var d=o.t256[0],p=o.t257[0],h=o.t258[0],f=o.isLE?r._binLE:r._binBE,v=d*p==l||d*p*1.5==l;if(!v){p+=8;var y=[a,0,0,0],m=new Uint16Array(32770),g=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],z,D,w,x,A,_=0,E=r.decode._ljpeg_diff;for(m[0]=15,w=z=0;z<18;z++)for(var S=32768>>>(g[z]>>>8),D=0;D<S;D++)m[++w]=g[z];for(x=d;x--;)for(A=0;A<p+1;A+=2)if(A==p&&(A=1),_+=E(s,y,m),A<p){var C=_&4095;r.decode._putsF(c,(A*d+x)*h,C<<16-h)}return}if(d*p*1.5==l){for(var z=0;z<l;z+=3){var b=s[a+z+0],I=s[a+z+1],M=s[a+z+2];c[u+z]=I<<4|b>>>4,c[u+z+1]=b<<4|M>>>4,c[u+z+2]=M<<4|I>>>4}return}var R=new Uint16Array(16),A,x,V,Z,B,T,F,L,Y,z,Re,ot=new Uint8Array(d+1);for(A=0;A<p;A++){for(var he=0;he<d;he++)ot[he]=s[a++];for(Re=0,x=0;x<d-30;Re+=16){for(Z=2047&(V=f.readUint(ot,Re)),B=2047&V>>>11,T=15&V>>>22,F=15&V>>>26,L=0;L<4&&128<<L<=Z-B;L++);for(Y=30,z=0;z<16;z++)z==T?R[z]=Z:z==F?R[z]=B:(R[z]=((f.readUshort(ot,Re+(Y>>3))>>>(Y&7)&127)<<L)+B,R[z]>2047&&(R[z]=2047),Y+=7);for(z=0;z<16;z++,x+=2){var C=R[z]<<1;r.decode._putsF(c,(A*d+x)*h,C<<16-h)}x-=x&1?1:31}}},r.decode._decodeNikon=function(o,s,a,l,c,u,d){var p=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],h=o.t256[0],f=o.t257[0],v=o.t258[0],y=0,m=0,g=r.decode._make_decoder,D=r.decode._getbithuff,w=s[0].exifIFD.makerNote,_=w.t150?w.t150:w.t140,E=0,S=_[E++],C=_[E++];(S==73||C==88)&&(E+=2110),S==70&&(y=2),v==14&&(y+=3);for(var b=[[0,0],[0,0]],I=o.isLE?r._binLE:r._binBE,V=0;V<2;V++)for(var M=0;M<2;M++)b[V][M]=I.readShort(_,E),E+=2;var R=1<<v&32767,A=0,x=I.readShort(_,E);E+=2,x>1&&(A=Math.floor(R/(x-1))),S==68&&C==32&&A>0&&(m=I.readShort(_,562));var V,Z,B,T,F,L,Y=0,z=[0,0],Re=g(p[y]),ot=[l,0,0,0];for(Y=Z=0;Z<f;Z++)for(m&&Z==m&&(Re=g(p[y+1])),B=0;B<h;B++){V=D(a,ot,Re[0],Re),T=V&15,F=V>>>4,L=(D(a,ot,T-F,0)<<1)+1<<F>>>1,(L&1<<T-1)==0&&(L-=(1<<T)-(F==0?1:0)),B<2?z[B]=b[Z&1][B]+=L:z[B&1]+=L;var he=Math.min(Math.max(z[B&1],0),(1<<v)-1),xn=(Z*h+B)*v;r.decode._putsF(u,xn,he<<16-v)}},r.decode._putsF=function(o,s,a){a=a<<8-(s&7);var l=s>>>3;o[l]|=a>>>16,o[l+1]|=a>>>8,o[l+2]|=a},r.decode._getbithuff=function(o,s,a,l){var c=0,u=r.decode._get_byte,d,p=s[0],h=s[1],f=s[2],v=s[3];if(a==0||f<0)return 0;for(;!v&&f<a&&(d=o[p++])!=-1&&!(v=c&&d==255&&o[p++]);)h=(h<<8)+d,f+=8;if(d=h<<32-f>>>32-a,l?(f-=l[d+1]>>>8,d=l[d+1]&255):f-=a,f<0)throw"e";return s[0]=p,s[1]=h,s[2]=f,s[3]=v,d},r.decode._make_decoder=function(o){var s,a,l,c,u,d=[];for(s=16;s!=0&&!o[s];s--);var p=17;for(d[0]=s,l=a=1;a<=s;a++)for(c=0;c<o[a];c++,++p)for(u=0;u<1<<s-a;u++)l<=1<<s&&(d[l++]=a<<8|o[p]);return d},r.decode._decodeNewJPEG=function(o,s,a,l,c,u){var d=o.t347,p=d?d.length:0,h=new Uint8Array(p+l);if(d){for(var f=216,v=217,y=0,m=0;m<p-1&&!(d[m]==255&&d[m+1]==v);m++)h[y++]=d[m];var g=s[a],D=s[a+1];(g!=255||D!=f)&&(h[y++]=g,h[y++]=D);for(var m=2;m<l;m++)h[y++]=s[a+m]}else for(var m=0;m<l;m++)h[m]=s[a+m];if(o.t262[0]==32803||o.t262[0]==34892){var w=o.t258[0],_=r.LosslessJpegDecode(h),E=_.length;if(w==16)if(o.isLE)for(var m=0;m<E;m++)c[u+(m<<1)]=_[m]&255,c[u+(m<<1)+1]=_[m]>>>8;else for(var m=0;m<E;m++)c[u+(m<<1)]=_[m]>>>8,c[u+(m<<1)+1]=_[m]&255;else if(w==14||w==12)for(var S=16-w,m=0;m<E;m++)r.decode._putsF(c,m*w,_[m]<<S);else throw new Error("unsupported bit depth "+w)}else{var C=new r.JpegDecoder;C.parse(h);for(var b=C.getData(C.width,C.height),m=0;m<b.length;m++)c[u+m]=b[m]}o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodeOldJPEGInit=function(o,s,a,l){var c=216,u=217,d=219,p=196,h=221,f=192,v=218,y=0,m=0,g,D,w=!1,_,E,S,C=o.t513,b=C?C[0]:0,I=o.t514,M=I?I[0]:0,R=o.t324||o.t273||C,A=o.t530,x=0,V=0,Z=o.t277?o.t277[0]:1,B=o.t515;if(R&&(m=R[0],w=R.length>1),!w){if(s[a]==255&&s[a+1]==c)return{jpegOffset:a};if(C!=null&&(s[a+b]==255&&s[a+b+1]==c?y=a+b:n("JPEGInterchangeFormat does not point to SOI"),I==null?n("JPEGInterchangeFormatLength field is missing"):(b>=m||b+M<=m)&&n("JPEGInterchangeFormatLength field value is invalid"),y!=null))return{jpegOffset:y}}if(A!=null&&(x=A[0],V=A[1]),C!=null&&I!=null)if(M>=2&&b+M<=m){for(s[a+b+M-2]==255&&s[a+b+M-1]==c?g=new Uint8Array(M-2):g=new Uint8Array(M),_=0;_<g.length;_++)g[_]=s[a+b+_];n("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else n("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(g==null){var T=0,F=[];F[T++]=255,F[T++]=c;var L=o.t519;if(L==null)throw new Error("JPEGQTables tag is missing");for(_=0;_<L.length;_++)for(F[T++]=255,F[T++]=d,F[T++]=0,F[T++]=67,F[T++]=_,E=0;E<64;E++)F[T++]=s[a+L[_]+E];for(S=0;S<2;S++){var Y=o[S==0?"t520":"t521"];if(Y==null)throw new Error((S==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(_=0;_<Y.length;_++){F[T++]=255,F[T++]=p;var z=19;for(E=0;E<16;E++)z+=s[a+Y[_]+E];for(F[T++]=z>>>8,F[T++]=z&255,F[T++]=_|S<<4,E=0;E<16;E++)F[T++]=s[a+Y[_]+E];for(E=0;E<z;E++)F[T++]=s[a+Y[_]+16+E]}}if(F[T++]=255,F[T++]=f,F[T++]=0,F[T++]=8+3*Z,F[T++]=8,F[T++]=o.height>>>8&255,F[T++]=o.height&255,F[T++]=o.width>>>8&255,F[T++]=o.width&255,F[T++]=Z,Z==1)F[T++]=1,F[T++]=17,F[T++]=0;else for(_=0;_<3;_++)F[T++]=_+1,F[T++]=_!=0?17:(x&15)<<4|V&15,F[T++]=_;B!=null&&B[0]!=0&&(F[T++]=255,F[T++]=h,F[T++]=0,F[T++]=4,F[T++]=B[0]>>>8&255,F[T++]=B[0]&255),g=new Uint8Array(F)}var Re=-1;for(_=0;_<g.length-1;){if(g[_]==255&&g[_+1]==f){Re=_;break}_++}if(Re==-1){var ot=new Uint8Array(g.length+10+3*Z);ot.set(g);var he=g.length;if(Re=g.length,g=ot,g[he++]=255,g[he++]=f,g[he++]=0,g[he++]=8+3*Z,g[he++]=8,g[he++]=o.height>>>8&255,g[he++]=o.height&255,g[he++]=o.width>>>8&255,g[he++]=o.width&255,g[he++]=Z,Z==1)g[he++]=1,g[he++]=17,g[he++]=0;else for(_=0;_<3;_++)g[he++]=_+1,g[he++]=_!=0?17:(x&15)<<4|V&15,g[he++]=_}if(s[m]==255&&s[m+1]==v){var xn=s[m+2]<<8|s[m+3];for(D=new Uint8Array(xn+2),D[0]=s[m],D[1]=s[m+1],D[2]=s[m+2],D[3]=s[m+3],_=0;_<xn-2;_++)D[_+4]=s[m+_+4]}else{D=new Uint8Array(8+2*Z);var Je=0;if(D[Je++]=255,D[Je++]=v,D[Je++]=0,D[Je++]=6+2*Z,D[Je++]=Z,Z==1)D[Je++]=1,D[Je++]=0;else for(_=0;_<3;_++)D[Je++]=_+1,D[Je++]=_<<4|_;D[Je++]=0,D[Je++]=63,D[Je++]=0}return{jpegOffset:a,tables:g,sosMarker:D,sofPosition:Re}},r.decode._decodeOldJPEG=function(o,s,a,l,c,u){var d,p,h,f,v,y=r.decode._decodeOldJPEGInit(o,s,a,l);if(y.jpegOffset!=null)for(p=a+l-y.jpegOffset,f=new Uint8Array(p),d=0;d<p;d++)f[d]=s[y.jpegOffset+d];else{for(h=y.tables.length,f=new Uint8Array(h+y.sosMarker.length+l+2),f.set(y.tables),v=h,f[y.sofPosition+5]=o.height>>>8&255,f[y.sofPosition+6]=o.height&255,f[y.sofPosition+7]=o.width>>>8&255,f[y.sofPosition+8]=o.width&255,(s[a]!=255||s[a+1]!=SOS)&&(f.set(y.sosMarker,v),v+=sosMarker.length),d=0;d<l;d++)f[v++]=s[a+d];f[v++]=255,f[v++]=EOI}var m=new r.JpegDecoder;m.parse(f);for(var g=m.getData(m.width,m.height),d=0;d<g.length;d++)c[u+d]=g[d];o.t262&&o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodePackBits=function(o,s,a,l,c){for(var u=new Int8Array(o.buffer),d=new Int8Array(l.buffer),p=s+a;s<p;){var h=u[s];if(s++,h>=0&&h<128)for(var f=0;f<h+1;f++)d[c]=u[s],c++,s++;if(h>=-127&&h<0){for(var f=0;f<-h+1;f++)d[c]=u[s],c++;s++}}},r.decode._decodeThunder=function(o,s,a,l,c){for(var u=[0,1,0,-1],d=[0,1,2,3,0,-3,-2,-1],p=s+a,h=c*2,f=0;s<p;){var v=o[s],y=v>>>6,m=v&63;if(s++,y==3&&(f=m&15,l[h>>>1]|=f<<4*(1-h&1),h++),y==0)for(var g=0;g<m;g++)l[h>>>1]|=f<<4*(1-h&1),h++;if(y==2)for(var g=0;g<2;g++){var D=m>>>3*(1-g)&7;D!=4&&(f+=d[D],l[h>>>1]|=f<<4*(1-h&1),h++)}if(y==1)for(var g=0;g<3;g++){var D=m>>>2*(2-g)&3;D!=2&&(f+=u[D],l[h>>>1]|=f<<4*(1-h&1),h++)}}},r.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},r.decode._lens=function(){var o=function(h,f,v,y){for(var m=0;m<f.length;m++)h[f[m]]=v+m*y},s="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",a="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",l="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",c="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",u="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";s=s.split(","),a=a.split(","),l=l.split(","),c=c.split(","),u=u.split(",");var d={},p={};return o(d,s,0,1),o(d,l,64,64),o(d,u,1792,64),o(p,a,0,1),o(p,c,64,64),o(p,u,1792,64),[d,p]}(),r.decode._decodeG4=function(o,s,a,l,c,u,d){for(var p=r.decode,h=s<<3,f=0,v="",y=[],m=[],g=0;g<u;g++)m.push(0);m=p._makeDiff(m);for(var D=0,w=0,_=0,E=0,S=0,C=0,b=0,I="",M=0,R=Math.ceil(u/8)*8;h>>>3<s+a;){E=p._findDiff(m,D+(D==0?0:1),1-C),S=p._findDiff(m,E,C);var A=0;if(d==1&&(A=o[h>>>3]>>>7-(h&7)&1),d==2&&(A=o[h>>>3]>>>(h&7)&1),h++,v+=A,I=="H"){if(p._lens[C][v]!=null){var x=p._lens[C][v];v="",f+=x,x<64&&(p._addNtimes(y,f,C),D+=f,C=1-C,f=0,M--,M==0&&(I=""))}}else v=="0001"&&(v="",p._addNtimes(y,S-D,C),D=S),v=="001"&&(v="",I="H",M=2),p._dmap[v]!=null&&(w=E+p._dmap[v],p._addNtimes(y,w-D,C),D=w,v="",C=1-C);y.length==u&&I==""&&(p._writeBits(y,l,c*8+b*R),C=0,b++,D=0,m=p._makeDiff(y),y=[])}},r.decode._findDiff=function(o,s,a){for(var l=0;l<o.length;l+=2)if(o[l]>=s&&o[l+1]==a)return o[l]},r.decode._makeDiff=function(o){var s=[];o[0]==1&&s.push(0,1);for(var a=1;a<o.length;a++)o[a-1]!=o[a]&&s.push(a,o[a]);return s.push(o.length,0,o.length,1),s},r.decode._decodeG3=function(o,s,a,l,c,u,d){for(var p=r.decode,h=s<<3,f=0,v="",y=[],m=[],g=0;g<u;g++)y.push(0);for(var D=0,w=0,_=0,E=0,S=0,C=0,b=-1,I="",M=0,R=!1,A=Math.ceil(u/8)*8;h>>>3<s+a;){E=p._findDiff(m,D+(D==0?0:1),1-C),S=p._findDiff(m,E,C);var x=0;if(d==1&&(x=o[h>>>3]>>>7-(h&7)&1),d==2&&(x=o[h>>>3]>>>(h&7)&1),h++,v+=x,R){if(p._lens[C][v]!=null){var V=p._lens[C][v];v="",f+=V,V<64&&(p._addNtimes(y,f,C),C=1-C,f=0)}}else if(I=="H"){if(p._lens[C][v]!=null){var V=p._lens[C][v];v="",f+=V,V<64&&(p._addNtimes(y,f,C),D+=f,C=1-C,f=0,M--,M==0&&(I=""))}}else v=="0001"&&(v="",p._addNtimes(y,S-D,C),D=S),v=="001"&&(v="",I="H",M=2),p._dmap[v]!=null&&(w=E+p._dmap[v],p._addNtimes(y,w-D,C),D=w,v="",C=1-C);v.endsWith("000000000001")&&(b>=0&&p._writeBits(y,l,c*8+b*A),d==1&&(R=(o[h>>>3]>>>7-(h&7)&1)==1),d==2&&(R=(o[h>>>3]>>>(h&7)&1)==1),h++,p._decodeG3.allow2D==null&&(p._decodeG3.allow2D=R),p._decodeG3.allow2D||(R=!0,h--),v="",C=0,b++,D=0,m=p._makeDiff(y),y=[])}y.length==u&&p._writeBits(y,l,c*8+b*A)},r.decode._addNtimes=function(o,s,a){for(var l=0;l<s;l++)o.push(a)},r.decode._writeBits=function(o,s,a){for(var l=0;l<o.length;l++)s[a+l>>>3]|=o[l]<<7-(a+l&7)},r.decode._decodeLZW=function(o,s,a,l){if(r.decode._lzwTab==null){for(var c=new Uint32Array(65535),u=new Uint16Array(65535),v=new Uint8Array(2e6),d=0;d<256;d++)v[d<<2]=d,c[d]=d<<2,u[d]=1;r.decode._lzwTab=[c,u,v]}for(var p=r.decode._copyData,h=r.decode._lzwTab[0],f=r.decode._lzwTab[1],v=r.decode._lzwTab[2],y=258,m=1032,g=9,D=s<<3,w=256,_=257,E=0,S=0,C=0;E=o[D>>>3]<<16|o[D+8>>>3]<<8|o[D+16>>>3],S=E>>24-(D&7)-g&(1<<g)-1,D+=g,S!=_;){if(S==w){if(g=9,y=258,m=1032,E=o[D>>>3]<<16|o[D+8>>>3]<<8|o[D+16>>>3],S=E>>24-(D&7)-g&(1<<g)-1,D+=g,S==_)break;a[l]=S,l++}else if(S<y){var b=h[S],I=f[S];if(p(v,b,a,l,I),l+=I,C>=y)h[y]=m,v[h[y]]=b[0],f[y]=1,m=m+1+3&-4,y++;else{h[y]=m;var M=h[C],R=f[C];p(v,M,v,m,R),v[m+R]=v[b],R++,f[y]=R,y++,m=m+R+3&-4}y+1==1<<g&&g++}else{if(C>=y)h[y]=m,f[y]=0,y++;else{h[y]=m;var M=h[C],R=f[C];p(v,M,v,m,R),v[m+R]=v[m],R++,f[y]=R,y++,p(v,m,a,l,R),l+=R,m=m+R+3&-4}y+1==1<<g&&g++}C=S}},r.decode._copyData=function(o,s,a,l,c){for(var u=0;u<c;u+=4)a[l+u]=o[s+u],a[l+u+1]=o[s+u+1],a[l+u+2]=o[s+u+2],a[l+u+3]=o[s+u+3]},r.tags={},r.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},r._readIFD=function(o,s,a,l,c,u){var d=o.readUshort(s,a);a+=2;var p={};l.push(p),u&&n("   ".repeat(c),l.length-1,">>>----------------");for(var h=0;h<d;h++){var f=o.readUshort(s,a);a+=2;var v=o.readUshort(s,a);a+=2;var y=o.readUint(s,a);a+=4;var m=o.readUint(s,a);a+=4;var g=[];if((v==1||v==7)&&(g=new Uint8Array(s.buffer,y<5?a-4:m,y)),v==2){var D=y<5?a-4:m,w=s[D];w<128?g.push(o.readASCII(s,D,y-1)):g=new Uint8Array(s.buffer,D,y-1)}if(v==3)for(var _=0;_<y;_++)g.push(o.readUshort(s,(y<3?a-4:m)+2*_));if(v==4)for(var _=0;_<y;_++)g.push(o.readUint(s,(y<2?a-4:m)+4*_));if(v==5)for(var _=0;_<y;_++)g.push(o.readUint(s,m+_*8)/o.readUint(s,m+_*8+4));if(v==8)for(var _=0;_<y;_++)g.push(o.readShort(s,(y<3?a-4:m)+2*_));if(v==9)for(var _=0;_<y;_++)g.push(o.readInt(s,(y<2?a-4:m)+4*_));if(v==10)for(var _=0;_<y;_++)g.push(o.readInt(s,m+_*8)/o.readInt(s,m+_*8+4));if(v==11)for(var _=0;_<y;_++)g.push(o.readFloat(s,m+_*4));if(v==12)for(var _=0;_<y;_++)g.push(o.readDouble(s,m+_*8));if(p["t"+f]=g,y!=0&&g.length==0&&n("unknown TIFF tag type: ",v,"num:",y),u&&n("   ".repeat(c),f,v,r.tags[f],g),!(f==330&&p.t272&&p.t272[0]=="DSLR-A100")){if(f==330||f==34665||f==50740&&o.readUshort(s,o.readUint(g,0))<300){for(var E=f==50740?[o.readUint(g,0)]:g,S=[],_=0;_<E.length;_++)r._readIFD(o,s,E[_],S,c+1,u);f==330&&(p.subIFD=S),f==34665&&(p.exifIFD=S[0]),f==50740&&(p.dngPrvt=S[0])}}if(f==37500){var C=g;if(o.readASCII(C,0,5)=="Nikon")p.makerNote=r.decode(C.slice(10).buffer)[0];else if(o.readUshort(s,m)<300){var b=[];r._readIFD(o,s,m,b,c+1,u),p.makerNote=b[0]}}}return u&&n("   ".repeat(c),"<<<---------------"),a},r._writeIFD=function(o,s,a,l){var c=Object.keys(l);o.writeUshort(s,a,c.length),a+=2;for(var u=a+c.length*12+4,d=0;d<c.length;d++){var p=c[d],h=parseInt(p.slice(1)),f=r.ttypes[h];if(f==null)throw new Error("unknown type of tag: "+h);var v=l[p];f==2&&(v=v[0]+"\0");var y=v.length;o.writeUshort(s,a,h),a+=2,o.writeUshort(s,a,f),a+=2,o.writeUint(s,a,y),a+=4;var m=[-1,1,1,2,4,8,0,0,0,0,0,0,8][f]*y,g=a;if(m>4&&(o.writeUint(s,a,u),g=u),f==2&&o.writeASCII(s,g,v),f==3)for(var D=0;D<y;D++)o.writeUshort(s,g+2*D,v[D]);if(f==4)for(var D=0;D<y;D++)o.writeUint(s,g+4*D,v[D]);if(f==5)for(var D=0;D<y;D++)o.writeUint(s,g+8*D,Math.round(v[D]*1e4)),o.writeUint(s,g+8*D+4,1e4);if(f==12)for(var D=0;D<y;D++)o.writeDouble(s,g+8*D,v[D]);m>4&&(m+=m&1,u+=m),a+=4}return[a,u]},r.toRGBA8=function(o){var s=o.width,a=o.height,l=s*a,c=l*4,u=o.data,d=new Uint8Array(l*4),p=o.t262?o.t262[0]:2,h=o.t258?Math.min(32,o.t258[0]):1;if(p==0)for(var f=Math.ceil(h*s/8),v=0;v<a;v++){var y=v*f,m=v*s;if(h==1)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+(g>>3)]>>7-(g&7)&1;d[D]=d[D+1]=d[D+2]=(1-w)*255,d[D+3]=255}if(h==4)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+(g>>1)]>>4-4*(g&1)&15;d[D]=d[D+1]=d[D+2]=(15-w)*17,d[D+3]=255}if(h==8)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+g];d[D]=d[D+1]=d[D+2]=255-w,d[D+3]=255}}else if(p==1)for(var f=Math.ceil(h*s/8),v=0;v<a;v++){var y=v*f,m=v*s;if(h==1)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+(g>>3)]>>7-(g&7)&1;d[D]=d[D+1]=d[D+2]=w*255,d[D+3]=255}if(h==2)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+(g>>2)]>>6-2*(g&3)&3;d[D]=d[D+1]=d[D+2]=w*85,d[D+3]=255}if(h==8)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+g];d[D]=d[D+1]=d[D+2]=w,d[D+3]=255}if(h==16)for(var g=0;g<s;g++){var D=m+g<<2,w=u[y+(2*g+1)];d[D]=d[D+1]=d[D+2]=Math.min(255,w),d[D+3]=255}}else if(p==2){var _=o.t258?o.t258.length:3;if(h==8){if(_==4)for(var g=0;g<c;g++)d[g]=u[g];if(_==3)for(var g=0;g<l;g++){var D=g<<2,E=g*3;d[D]=u[E],d[D+1]=u[E+1],d[D+2]=u[E+2],d[D+3]=255}}else{if(_==4)for(var g=0;g<l;g++){var D=g<<2,E=g*8+1;d[D]=u[E],d[D+1]=u[E+2],d[D+2]=u[E+4],d[D+3]=u[E+6]}if(_==3)for(var g=0;g<l;g++){var D=g<<2,E=g*6+1;d[D]=u[E],d[D+1]=u[E+2],d[D+2]=u[E+4],d[D+3]=255}}}else if(p==3)for(var S=o.t320,g=0;g<l;g++){var D=g<<2,C=u[g];d[D]=S[C]>>8,d[D+1]=S[256+C]>>8,d[D+2]=S[512+C]>>8,d[D+3]=255}else if(p==5)for(var _=o.t258?o.t258.length:4,b=_>4?1:0,g=0;g<l;g++){var D=g<<2,I=g*_,M=255-u[I],R=255-u[I+1],A=255-u[I+2],x=(255-u[I+3])*(1/255);d[D]=~~(M*x+.5),d[D+1]=~~(R*x+.5),d[D+2]=~~(A*x+.5),d[D+3]=255*(1-b)+u[I+4]*b}else n("Unknown Photometric interpretation: "+p);return d},r.replaceIMG=function(o){o==null&&(o=document.getElementsByTagName("img"));for(var s=["tif","tiff","dng","cr2","nef"],a=0;a<o.length;a++){var l=o[a],c=l.getAttribute("src");if(c!=null){var u=c.split(".").pop().toLowerCase();if(s.indexOf(u)!=-1){var d=new XMLHttpRequest;r._xhrs.push(d),r._imgs.push(l),d.open("GET",c),d.responseType="arraybuffer",d.onload=r._imgLoaded,d.send()}}}},r._xhrs=[],r._imgs=[],r._imgLoaded=function(o){var s=o.target.response,a=r.decode(s),l=a,c=0,u=l[0];a[0].subIFD&&(l=l.concat(a[0].subIFD));for(var d=0;d<l.length;d++){var m=l[d];if(!(m.t258==null||m.t258.length<3)){var p=m.t256*m.t257;p>c&&(c=p,u=m)}}r.decodeImage(s,u,a);var h=r.toRGBA8(u),f=u.width,v=u.height,y=r._xhrs.indexOf(o.target),m=r._imgs[y];r._xhrs.splice(y,1),r._imgs.splice(y,1);var g=document.createElement("canvas");g.width=f,g.height=v;for(var D=g.getContext("2d"),w=D.createImageData(f,v),d=0;d<h.length;d++)w.data[d]=h[d];D.putImageData(w,0,0),m.setAttribute("src",g.toDataURL())},r._binBE={nextZero:function(o,s){for(;o[s]!=0;)s++;return s},readUshort:function(o,s){return o[s]<<8|o[s+1]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+1],a[1]=o[s+0],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.ui32[0]},readASCII:function(o,s,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(o[s+c]);return l},readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+3-l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+7-l];return r._binBE.fl64[0]},writeUshort:function(o,s,a){o[s]=a>>8&255,o[s+1]=a&255},writeUint:function(o,s,a){o[s]=a>>24&255,o[s+1]=a>>16&255,o[s+2]=a>>8&255,o[s+3]=a>>0&255},writeASCII:function(o,s,a){for(var l=0;l<a.length;l++)o[s+l]=a.charCodeAt(l)},writeDouble:function(o,s,a){r._binBE.fl64[0]=a;for(var l=0;l<8;l++)o[s+l]=r._binBE.ui8[7-l]}},r._binBE.ui8=new Uint8Array(8),r._binBE.i16=new Int16Array(r._binBE.ui8.buffer),r._binBE.i32=new Int32Array(r._binBE.ui8.buffer),r._binBE.ui32=new Uint32Array(r._binBE.ui8.buffer),r._binBE.fl32=new Float32Array(r._binBE.ui8.buffer),r._binBE.fl64=new Float64Array(r._binBE.ui8.buffer),r._binLE={nextZero:r._binBE.nextZero,readUshort:function(o,s){return o[s+1]<<8|o[s]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.ui32[0]},readASCII:r._binBE.readASCII,readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+l];return r._binBE.fl64[0]}},r._copyTile=function(o,s,a,l,c,u,d,p){for(var h=Math.min(s,c-d),f=Math.min(a,u-p),v=0;v<f;v++)for(var y=(p+v)*c+d,m=v*s,g=0;g<h;g++)l[y+g]=o[m+g]},r.LosslessJpegDecode=function(){function o(c){this.w=c,this.N=0,this._=0,this.G=0}o.prototype={t:function(c){this.N=Math.max(0,Math.min(this.w.length,c))},i:function(){return this.w[this.N++]},l:function(){var c=this.N;return this.N+=2,this.w[c]<<8|this.w[c+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(c){var u=this._,d=this.G,p=Math.min(u,c);c-=p,u-=p;for(var h=d>>>u&(1<<p)-1;c>0;)d=this.w[this.N],this.N+=1+(d+1>>>8),p=Math.min(8,c),c-=p,u=8-p,h<<=p,h|=d>>>u&(1<<p)-1;return this._=u,this.G=d,h}};var s={};s.X=function(){return[0,0,-1]},s.s=function(c,u,d){c[s.Y(c,0,d)+2]=u},s.Y=function(c,u,d){if(c[u+2]!=-1)return 0;if(d==0)return u;for(var p=0;p<2;p++){c[u+p]==0&&(c[u+p]=c.length,c.push(0),c.push(0),c.push(-1));var h=s.Y(c,c[u+p],d-1);if(h!=0)return h}return 0},s.B=function(c,u){for(var d=0,p=0,h=0,f=u._,v=u.G,y=u.N;;)if(f==0&&(v=u.w[y],y+=1+(v+1>>>8),f=8),h=v>>>--f&1,d=c[d+h],p=c[d+2],p!=-1)return u._=f,u.G=v,u.N=y,p;return-1};function a(c){this.z=new o(c),this.D(this.z)}a.prototype={$:function(c,u){this.Q=c.i(),this.F=c.l(),this.o=c.l();var d=this.O=c.i();this.L=[];for(var p=0;p<d;p++){var h=c.i(),f=c.i();c.i(),this.L[h]=p}c.t(c.N+u-(6+d*3))},e:function(){var c=0,u=this.z.i();this.H==null&&(this.H={});for(var d=this.H[u]=s.X(),p=[],h=0;h<16;h++)p[h]=this.z.i(),c+=p[h];for(var h=0;h<16;h++)for(var f=0;f<p[h];f++)s.s(d,this.z.i(),h+1);return c+17},W:function(c){for(;c>0;)c-=this.e()},p:function(c,u){var d=c.i();this.U||(this.U=[]);for(var p=0;p<d;p++){var h=c.i(),f=c.i();this.U[this.L[h]]=this.H[f>>>4]}this.g=c.i(),c.t(c.N+u-(2+d*2))},D:function(c){var u=!1,d=c.l();if(d===a.q)do{var d=c.l(),p=c.l()-2;switch(d){case a.m:this.$(c,p);break;case a.K:this.W(p);break;case a.V:this.p(c,p),u=!0;break;default:c.t(c.N+p);break}}while(!u)},I:function(c,u){var d=s.B(u,c);if(d==16)return-32768;var p=c.Z(d);return(p&1<<d-1)==0&&(p-=(1<<d)-1),p},B:function(c,u){for(var d=this.z,p=this.O,h=this.F,f=this.I,v=this.g,y=this.o*p,m=this.U,g=0;g<p;g++)c[g]=f(d,m[g])+(1<<this.Q-1);for(var D=p;D<y;D+=p)for(var g=0;g<p;g++)c[D+g]=f(d,m[g])+c[D+g-p];for(var w=u,_=1;_<h;_++){for(var g=0;g<p;g++)c[w+g]=f(d,m[g])+c[w+g-u];for(var D=p;D<y;D+=p)for(var g=0;g<p;g++){var E=w+D+g,S=c[E-p];v==6&&(S=c[E-u]+(S-c[E-p-u]>>>1)),c[E]=S+f(d,m[g])}w+=u}}},a.m=65475,a.K=65476,a.q=65496,a.V=65498;function l(c){var u=new a(c),d=u.Q>8?Uint16Array:Uint8Array,p=new d(u.o*u.F*u.O),h=u.o*u.O;return u.B(p,h),p}return l}()})(e,t)})()});var bd;function el(){return bd}function nn(e){let t=bd;return bd=e,t}var wm=Symbol("NotFound");function Hi(e){return e===wm||e?.name==="\u0275NotFound"}function ol(e,t){return Object.is(e,t)}var st=null,tl=!1,Id=1,lE=null,at=Symbol("SIGNAL");function X(e){let t=st;return st=e,t}function sl(){return st}var Br={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $i(e){if(tl)throw new Error("");if(st===null)return;st.consumerOnSignalRead(e);let t=st.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=st.recomputing;if(r&&(n=t!==void 0?t.nextProducer:st.producers,n!==void 0&&n.producer===e)){st.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===st&&(!r||uE(i,st)))return;let o=Gi(st),s={producer:e,consumer:st,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};st.producersTail=s,t!==void 0?t.nextProducer=s:st.producers=s,o&&Em(e,s)}function Cm(){Id++}function al(e){if(!(Gi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Id)){if(!e.producerMustRecompute(e)&&!ls(e)){il(e);return}e.producerRecomputeValue(e),il(e)}}function Sd(e){if(e.consumers===void 0)return;let t=tl;tl=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||cE(r)}}finally{tl=t}}function Md(){return st?.consumerAllowSignalWrites!==!1}function cE(e){e.dirty=!0,Sd(e),e.consumerMarkedDirty?.(e)}function il(e){e.dirty=!1,e.lastCleanEpoch=Id}function Ur(e){return e&&(e.producersTail=void 0,e.recomputing=!0),X(e)}function zi(e,t){if(X(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(Gi(e))do r=xd(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ls(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(al(n),r!==n.version))return!0}return!1}function ll(e){if(Gi(e)){let t=e.producers;for(;t!==void 0;)t=xd(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Em(e,t){let n=e.consumersTail,r=Gi(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Em(i.producer,i)}function xd(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Gi(t)){let o=t.producers;for(;o!==void 0;)o=xd(o)}return n}function Gi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function cl(e){lE?.(e)}function uE(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ul(e,t){let n=Object.create(dE);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(al(n),$i(n),n.value===as)throw n.error;return n.value};return r[at]=n,cl(n),r}var nl=Symbol("UNSET"),rl=Symbol("COMPUTING"),as=Symbol("ERRORED"),dE=ae(k({},Br),{value:nl,dirty:!0,error:null,equal:ol,kind:"computed",producerMustRecompute(e){return e.value===nl||e.value===rl},producerRecomputeValue(e){if(e.value===rl)throw new Error("");let t=e.value;e.value=rl;let n=Ur(e),r,i=!1;try{r=e.computation(),X(null),i=t!==nl&&t!==as&&r!==as&&e.equal(t,r)}catch(o){r=as,e.error=o}finally{zi(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function fE(){throw new Error}var bm=fE;function Im(e){bm(e)}function Td(e){bm=e}var hE=null;function Ad(e,t){let n=Object.create(dl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Sm(n);return r[at]=n,cl(n),[r,s=>Wi(n,s),s=>Nd(n,s)]}function Sm(e){return $i(e),e.value}function Wi(e,t){Md()||Im(e),e.equal(e.value,t)||(e.value=t,pE(e))}function Nd(e,t){Md()||Im(e),Wi(e,t(e.value))}var dl=ae(k({},Br),{equal:ol,value:void 0,kind:"signal"});function pE(e){e.version++,Cm(),Sd(e),hE?.(e)}function ee(e){return typeof e=="function"}function qi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fl=qi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function cs(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Oe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){t=o instanceof fl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Mm(o)}catch(s){t=t??[],s instanceof fl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new fl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Mm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&cs(n,t)}remove(t){let{_finalizers:n}=this;n&&cs(n,t),t instanceof e&&t._removeParent(this)}};Oe.EMPTY=(()=>{let e=new Oe;return e.closed=!0,e})();var Rd=Oe.EMPTY;function hl(e){return e instanceof Oe||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function Mm(e){ee(e)?e():e.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zi={setTimeout(e,t,...n){let{delegate:r}=Zi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Zi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function pl(e){Zi.setTimeout(()=>{let{onUnhandledError:t}=zt;if(t)t(e);else throw e})}function us(){}var xm=Od("C",void 0,void 0);function Tm(e){return Od("E",void 0,e)}function Am(e){return Od("N",e,void 0)}function Od(e,t,n){return{kind:e,value:t,error:n}}var Hr=null;function Yi(e){if(zt.useDeprecatedSynchronousErrorHandling){let t=!Hr;if(t&&(Hr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Hr;if(Hr=null,n)throw r}}else e()}function Nm(e){zt.useDeprecatedSynchronousErrorHandling&&Hr&&(Hr.errorThrown=!0,Hr.error=e)}var $r=class extends Oe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,hl(t)&&t.add(this)):this.destination=vE}static create(t,n,r){return new Ki(t,n,r)}next(t){this.isStopped?Pd(Am(t),this):this._next(t)}error(t){this.isStopped?Pd(Tm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Pd(xm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gE=Function.prototype.bind;function kd(e,t){return gE.call(e,t)}var Fd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){gl(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){gl(r)}else gl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){gl(n)}}},Ki=class extends $r{constructor(t,n,r){super();let i;if(ee(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&zt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&kd(t.next,o),error:t.error&&kd(t.error,o),complete:t.complete&&kd(t.complete,o)}):i=t}this.destination=new Fd(i)}};function gl(e){zt.useDeprecatedSynchronousErrorHandling?Nm(e):pl(e)}function mE(e){throw e}function Pd(e,t){let{onStoppedNotification:n}=zt;n&&Zi.setTimeout(()=>n(e,t))}var vE={closed:!0,next:us,error:mE,complete:us};var Qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(e){return e}function Ld(...e){return Vd(e)}function Vd(e){return e.length===0?_t:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var ue=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=DE(n)?n:new Ki(n,r,i);return Yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rm(r),new r((i,o)=>{let s=new Ki({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qi](){return this}pipe(...n){return Vd(n)(this)}toPromise(n){return n=Rm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Rm(e){var t;return(t=e??zt.Promise)!==null&&t!==void 0?t:Promise}function yE(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}function DE(e){return e&&e instanceof $r||yE(e)&&hl(e)}function jd(e){return ee(e?.lift)}function fe(e){return t=>{if(jd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(e,t,n,r,i){return new Bd(e,t,n,r,i)}var Bd=class extends $r{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ji(){return fe((e,t)=>{let n=null;e._refCount++;let r=le(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Xi=class extends ue{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Oe;let n=this.getSubject();t.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Oe.EMPTY)}return t}refCount(){return Ji()(this)}};var Om=qi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=(()=>{class e extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ml(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Om}next(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rd:(this.currentObservers=null,o.push(n),new Oe(()=>{this.currentObservers=null,cs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return e.create=(t,n)=>new ml(t,n),e})(),ml=class extends Me{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Rd}};var et=class extends Me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var vt=new ue(e=>e.complete());function km(e){return e&&ee(e.schedule)}function Pm(e){return e[e.length-1]}function vl(e){return ee(Pm(e))?e.pop():void 0}function Jn(e){return km(Pm(e))?e.pop():void 0}function Lm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Fm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(e){return this instanceof zr?(this.v=e,this):new zr(e)}function Vm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(f){return Promise.resolve(f).then(h,d)}}function a(h,f){r[h]&&(i[h]=function(v){return new Promise(function(y,m){o.push([h,v,y,m])>1||l(h,v)})},f&&(i[h]=f(i[h])))}function l(h,f){try{c(r[h](f))}catch(v){p(o[0][3],v)}}function c(h){h.value instanceof zr?Promise.resolve(h.value.v).then(u,d):p(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function p(h,f){h(f),o.shift(),o.length&&l(o[0][0],o[0][1])}}function jm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Fm=="function"?Fm(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var yl=e=>e&&typeof e.length=="number"&&typeof e!="function";function Dl(e){return ee(e?.then)}function _l(e){return ee(e[Qi])}function wl(e){return Symbol.asyncIterator&&ee(e?.[Symbol.asyncIterator])}function Cl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _E(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var El=_E();function bl(e){return ee(e?.[El])}function Il(e){return Vm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function Sl(e){return ee(e?.getReader)}function ke(e){if(e instanceof ue)return e;if(e!=null){if(_l(e))return wE(e);if(yl(e))return CE(e);if(Dl(e))return EE(e);if(wl(e))return Bm(e);if(bl(e))return bE(e);if(Sl(e))return IE(e)}throw Cl(e)}function wE(e){return new ue(t=>{let n=e[Qi]();if(ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CE(e){return new ue(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function EE(e){return new ue(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,pl)})}function bE(e){return new ue(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Bm(e){return new ue(t=>{SE(e,t).catch(n=>t.error(n))})}function IE(e){return Bm(Il(e))}function SE(e,t){var n,r,i,o;return Lm(this,void 0,void 0,function*(){try{for(n=jm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function yt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ml(e,t=0){return fe((n,r)=>{n.subscribe(le(r,i=>yt(r,e,()=>r.next(i),t),()=>yt(r,e,()=>r.complete(),t),i=>yt(r,e,()=>r.error(i),t)))})}function xl(e,t=0){return fe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Um(e,t){return ke(e).pipe(xl(t),Ml(t))}function Hm(e,t){return ke(e).pipe(xl(t),Ml(t))}function $m(e,t){return new ue(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function zm(e,t){return new ue(n=>{let r;return yt(n,t,()=>{r=e[El](),yt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Tl(e,t){if(!e)throw new Error("Iterable cannot be null");return new ue(n=>{yt(n,t,()=>{let r=e[Symbol.asyncIterator]();yt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gm(e,t){return Tl(Il(e),t)}function Wm(e,t){if(e!=null){if(_l(e))return Um(e,t);if(yl(e))return $m(e,t);if(Dl(e))return Hm(e,t);if(wl(e))return Tl(e,t);if(bl(e))return zm(e,t);if(Sl(e))return Gm(e,t)}throw Cl(e)}function Ce(e,t){return t?Wm(e,t):ke(e)}function K(...e){let t=Jn(e);return Ce(e,t)}function eo(e,t){let n=ee(e)?e:()=>e,r=i=>i.error(n());return new ue(t?i=>t.schedule(r,0,i):r)}function Ud(e){return!!e&&(e instanceof ue||ee(e.lift)&&ee(e.subscribe))}var Tn=qi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(e,t){return fe((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:ME}=Array;function xE(e,t){return ME(t)?e(...t):e(t)}function Al(e){return ce(t=>xE(e,t))}var{isArray:TE}=Array,{getPrototypeOf:AE,prototype:NE,keys:RE}=Object;function Nl(e){if(e.length===1){let t=e[0];if(TE(t))return{args:t,keys:null};if(OE(t)){let n=RE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function OE(e){return e&&typeof e=="object"&&AE(e)===NE}function Rl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ol(...e){let t=Jn(e),n=vl(e),{args:r,keys:i}=Nl(e);if(r.length===0)return Ce([],t);let o=new ue(kE(r,t,i?s=>Rl(i,s):_t));return n?o.pipe(Al(n)):o}function kE(e,t,n=_t){return r=>{qm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)qm(t,()=>{let c=Ce(e[l],t),u=!1;c.subscribe(le(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qm(e,t,n){e?yt(n,e,t):t()}function Zm(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&t.complete()},h=v=>c<r?f(v):l.push(v),f=v=>{o&&t.next(v),c++;let y=!1;ke(n(v,u++)).subscribe(le(t,m=>{i?.(m),o?h(m):t.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let m=l.shift();s?yt(t,s,()=>f(m)):f(m)}p()}catch(m){t.error(m)}}))};return e.subscribe(le(t,h,()=>{d=!0,p()})),()=>{a?.()}}function Pe(e,t,n=1/0){return ee(t)?Pe((r,i)=>ce((o,s)=>t(r,o,i,s))(ke(e(r,i))),n):(typeof t=="number"&&(n=t),fe((r,i)=>Zm(r,i,e,n)))}function to(e=1/0){return Pe(_t,e)}function Ym(){return to(1)}function no(...e){return Ym()(Ce(e,Jn(e)))}function ds(e){return new ue(t=>{ke(e()).subscribe(t)})}function Hd(...e){let t=vl(e),{args:n,keys:r}=Nl(e),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ke(n[u]).subscribe(le(o,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Rl(r,a):a),o.complete())}))}});return t?i.pipe(Al(t)):i}function wt(e,t){return fe((n,r)=>{let i=0;n.subscribe(le(r,o=>e.call(t,o,i++)&&r.next(o)))})}function An(e){return fe((t,n)=>{let r=null,i=!1,o;r=t.subscribe(le(n,void 0,void 0,s=>{o=ke(e(s,An(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Km(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(le(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Gr(e,t){return ee(t)?Pe(e,t,1):Pe(e,1)}function Xn(e){return fe((t,n)=>{let r=!1;t.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Nn(e){return e<=0?()=>vt:fe((t,n)=>{let r=0;t.subscribe(le(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function kl(e=PE){return fe((t,n)=>{let r=!1;t.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function PE(){return new Tn}function fs(e){return fe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Rn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wt((i,o)=>e(i,o,r)):_t,Nn(1),n?Xn(t):kl(()=>new Tn))}function ro(e){return e<=0?()=>vt:fe((t,n)=>{let r=[];t.subscribe(le(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $d(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wt((i,o)=>e(i,o,r)):_t,ro(1),n?Xn(t):kl(()=>new Tn))}function zd(e,t){return fe(Km(e,t,arguments.length>=2,!0))}function Gd(...e){let t=Jn(e);return fe((n,r)=>{(t?no(e,n,t):no(e,n)).subscribe(r)})}function Nt(e,t){return fe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(le(r,l=>{i?.unsubscribe();let c=0,u=o++;ke(e(l,u)).subscribe(i=le(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pl(e){return fe((t,n)=>{ke(e).subscribe(le(n,()=>n.complete(),us)),!n.closed&&t.subscribe(n)})}function $e(e,t,n){let r=ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):_t}function Qm(e){let t=X(null);try{return e()}finally{X(t)}}var Bl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(t,n){super(vs(t,n)),this.code=t}};function FE(e){return`NG0${Math.abs(e)}`}function vs(e,t){return`${FE(e)}${t?": "+t:""}`}var Pn=globalThis;function me(e){for(let t in e)if(e[t]===me)return t;throw Error("")}function e0(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function kn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(kn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function rf(e,t){return e?t?`${e} ${t}`:e:t||""}var LE=me({__forward_ref__:me});function nr(e){return e.__forward_ref__=nr,e.toString=function(){return kn(this())},e}function tt(e){return of(e)?e():e}function of(e){return typeof e=="function"&&e.hasOwnProperty(LE)&&e.__forward_ref__===nr}function t0(e,t){e==null&&sf(t,e,null,"!=")}function sf(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function G(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function on(e){return{providers:e.providers||[],imports:e.imports||[]}}function ys(e){return VE(e,Ul)}function af(e){return ys(e)!==null}function VE(e,t){return e.hasOwnProperty(t)&&e[t]||null}function jE(e){let t=e?.[Ul]??null;return t||null}function qd(e){return e&&e.hasOwnProperty(Ll)?e[Ll]:null}var Ul=me({\u0275prov:me}),Ll=me({\u0275inj:me}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lf(e){return e&&!!e.\u0275providers}var cf=me({\u0275cmp:me}),uf=me({\u0275dir:me}),df=me({\u0275pipe:me}),ff=me({\u0275mod:me}),gs=me({\u0275fac:me}),Qr=me({__NG_ELEMENT_ID__:me}),Jm=me({__NG_ENV_ID__:me});function Jr(e){return typeof e=="string"?e:e==null?"":String(e)}function Vl(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Jr(e)}var hf=me({ngErrorCode:me}),n0=me({ngErrorMessage:me}),ps=me({ngTokenPath:me});function pf(e,t){return r0("",-200,t)}function Hl(e,t){throw new U(-201,!1)}function BE(e,t){e[ps]??=[];let n=e[ps],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(t0(t.provide,"Token with multi: true should have a provide property"),r=Vl(t.provide)):r=Vl(t),n[0]!==r&&e[ps].unshift(r)}function UE(e,t){let n=e[ps],r=e[hf],i=e[n0]||e.message;return e.message=$E(i,r,n,t),e}function r0(e,t,n){let r=new U(t,e);return r[hf]=t,r[n0]=e,n&&(r[ps]=n),r}function HE(e){return e[hf]}function $E(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return vs(t,`${e}${o}${i}`)}var Zd;function i0(){return Zd}function ut(e){let t=Zd;return Zd=e,t}function gf(e,t,n){let r=ys(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Hl(e,"Injector")}var zE={},Wr=zE,GE="__NG_DI_FLAG__",Yd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=qr(n)||0;try{return this.injector.get(t,r&8?null:Wr,r)}catch(i){if(Hi(i))return i;throw i}}};function WE(e,t=0){let n=el();if(n===void 0)throw new U(-203,!1);if(n===null)return gf(e,void 0,t);{let r=qE(t),i=n.retrieve(e,r);if(Hi(i)){if(r.optional)return null;throw i}return i}}function te(e,t=0){return(i0()||WE)(tt(e),t)}function N(e,t){return te(e,qr(t))}function qr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qE(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Kd(e){let t=[];for(let n=0;n<e.length;n++){let r=tt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=ZE(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(te(i,o))}else t.push(te(r))}return t}function ZE(e){return e[GE]}function er(e,t){let n=e.hasOwnProperty(gs);return n?e[gs]:null}function o0(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function s0(e){return e.flat(Number.POSITIVE_INFINITY)}function $l(e,t){e.forEach(n=>Array.isArray(n)?$l(n,t):t(n))}function mf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ds(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function a0(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function l0(e,t,n){let r=oo(e,t);return r>=0?e[r|1]=n:(r=~r,a0(e,r,t,n)),r}function zl(e,t){let n=oo(e,t);if(n>=0)return e[n|1]}function oo(e,t){return YE(e,t,1)}function YE(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var rr={},Ct=[],ir=new $(""),vf=new $("",-1),yf=new $(""),ms=class{get(t,n=Wr){if(n===Wr){let i=r0("",-201);throw i.name="\u0275NotFound",i}return n}};function Df(e){return e[ff]||null}function or(e){return e[cf]||null}function _f(e){return e[uf]||null}function c0(e){return e[df]||null}function Gl(e){return{\u0275providers:e}}function u0(...e){return{\u0275providers:wf(!0,e),\u0275fromNgModule:!0}}function wf(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return $l(t,s=>{let a=s;jl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&d0(i,o),n}function d0(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Cf(i,o=>{t(o,r)})}}function jl(e,t,n,r){if(e=tt(e),!e)return!1;let i=null,o=qd(e),s=!o&&or(e);if(!o&&!s){let l=e.ngModule;if(o=qd(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)jl(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{$l(o.imports,u=>{jl(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&d0(c,t)}if(!a){let c=er(i)||(()=>new i);t({provide:i,useFactory:c,deps:Ct},i),t({provide:yf,useValue:i,multi:!0},i),t({provide:ir,useValue:()=>te(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Cf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Cf(e,t){for(let n of e)lf(n)&&(n=n.\u0275providers),Array.isArray(n)?Cf(n,t):t(n)}var KE=me({provide:String,useValue:me});function f0(e){return e!==null&&typeof e=="object"&&KE in e}function QE(e){return!!(e&&e.useExisting)}function JE(e){return!!(e&&e.useFactory)}function Zr(e){return typeof e=="function"}function h0(e){return!!e.useClass}var _s=new $(""),Fl={},Xm={},Wd;function ws(){return Wd===void 0&&(Wd=new ms),Wd}var ze=class{},Yr=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Jd(t,s=>this.processProvider(s)),this.records.set(vf,io(void 0,this)),i.has("environment")&&this.records.set(ze,io(void 0,this));let o=this.records.get(_s);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yf,Ct,{self:!0}))}retrieve(t,n){let r=qr(n)||0;try{return this.get(t,Wr,r)}catch(i){if(Hi(i))return i;throw i}}destroy(){hs(this),this._destroyed=!0;let t=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(t)}}onDestroy(t){return hs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){hs(this);let n=nn(this),r=ut(void 0),i;try{return t()}finally{nn(n),ut(r)}}get(t,n=Wr,r){if(hs(this),t.hasOwnProperty(Jm))return t[Jm](this);let i=qr(r),o,s=nn(this),a=ut(void 0);try{if(!(i&4)){let c=this.records.get(t);if(c===void 0){let u=r1(t)&&ys(t);u&&this.injectableDefInScope(u)?c=io(Qd(t),Fl):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,i)}let l=i&2?ws():this.parent;return n=i&8&&n===Wr?null:n,l.get(t,n)}catch(l){let c=HE(l);throw c===-200||c===-201?new U(c,null):l}finally{ut(a),nn(s)}}resolveInjectorInitializers(){let t=X(null),n=nn(this),r=ut(void 0),i;try{let o=this.get(ir,Ct,{self:!0});for(let s of o)s()}finally{nn(n),ut(r),X(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(kn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=tt(t);let n=Zr(t)?t:tt(t&&t.provide),r=e1(t);if(!Zr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=io(void 0,Fl,!0),i.factory=()=>Kd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=X(null);try{if(n.value===Xm)throw pf(kn(t));return n.value===Fl&&(n.value=Xm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&n1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=tt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qd(e){let t=ys(e),n=t!==null?t.factory:er(e);if(n!==null)return n;if(e instanceof $)throw new U(204,!1);if(e instanceof Function)return XE(e);throw new U(204,!1)}function XE(e){if(e.length>0)throw new U(204,!1);let n=jE(e);return n!==null?()=>n.factory(e):()=>new e}function e1(e){if(f0(e))return io(void 0,e.useValue);{let t=Ef(e);return io(t,Fl)}}function Ef(e,t,n){let r;if(Zr(e)){let i=tt(e);return er(i)||Qd(i)}else if(f0(e))r=()=>tt(e.useValue);else if(JE(e))r=()=>e.useFactory(...Kd(e.deps||[]));else if(QE(e))r=(i,o)=>te(tt(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=tt(e&&(e.useClass||e.provide));if(t1(e))r=()=>new i(...Kd(e.deps));else return er(i)||Qd(i)}return r}function hs(e){if(e.destroyed)throw new U(205,!1)}function io(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function t1(e){return!!e.deps}function n1(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function r1(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Jd(e,t){for(let n of e)Array.isArray(n)?Jd(n,t):n&&lf(n)?Jd(n.\u0275providers,t):t(n)}function dt(e,t){let n;e instanceof Yr?(hs(e),n=e):n=new Yd(e);let r,i=nn(n),o=ut(void 0);try{return t()}finally{nn(i),ut(o)}}function p0(){return i0()!==void 0||el()!=null}var Wt=0,W=1,Q=2,Ge=3,Rt=4,Ot=5,Cs=6,so=7,nt=8,Xr=9,sn=10,_e=11,ao=12,bf=13,ei=14,kt=15,sr=16,ti=17,an=18,Es=19,If=20,On=21,Wl=22,bs=23,Et=24,ql=25,Be=26,g0=1;var ar=7,Is=8,ni=9,lt=10;function ln(e){return Array.isArray(e)&&typeof e[g0]=="object"}function qt(e){return Array.isArray(e)&&e[g0]===!0}function Sf(e){return(e.flags&4)!==0}function lr(e){return e.componentOffset>-1}function Ss(e){return(e.flags&1)===1}function cn(e){return!!e.template}function lo(e){return(e[Q]&512)!==0}function ri(e){return(e[Q]&256)===256}var Mf="svg",m0="math";function Pt(e){for(;Array.isArray(e);)e=e[Wt];return e}function xf(e,t){return Pt(t[e])}function Zt(e,t){return Pt(t[e.index])}function Ms(e,t){return e.data[t]}function v0(e,t){return e[t]}function Tf(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Ft(e,t){let n=t[e];return ln(n)?n:n[Wt]}function y0(e){return(e[Q]&4)===4}function Zl(e){return(e[Q]&128)===128}function D0(e){return qt(e[Ge])}function un(e,t){return t==null?null:e[t]}function Af(e){e[ti]=0}function Nf(e){e[Q]&1024||(e[Q]|=1024,Zl(e)&&Ts(e))}function _0(e,t){for(;e>0;)t=t[ei],e--;return t}function xs(e){return!!(e[Q]&9216||e[Et]?.dirty)}function Yl(e){e[sn].changeDetectionScheduler?.notify(8),e[Q]&64&&(e[Q]|=1024),xs(e)&&Ts(e)}function Ts(e){e[sn].changeDetectionScheduler?.notify(0);let t=tr(e);for(;t!==null&&!(t[Q]&8192||(t[Q]|=8192,!Zl(t)));)t=tr(t)}function Rf(e,t){if(ri(e))throw new U(911,!1);e[On]===null&&(e[On]=[]),e[On].push(t)}function w0(e,t){if(e[On]===null)return;let n=e[On].indexOf(t);n!==-1&&e[On].splice(n,1)}function tr(e){let t=e[Ge];return qt(t)?t[Ge]:t}function Of(e){return e[so]??=[]}function kf(e){return e.cleanup??=[]}function C0(e,t,n,r){let i=Of(t);i.push(n),e.firstCreatePass&&kf(e).push(r,i.length-1)}var re={lFrame:F0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},As=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(As||{}),i1=0,Xd=!1;function E0(){return re.lFrame.elementDepthCount}function b0(){re.lFrame.elementDepthCount++}function Pf(){re.lFrame.elementDepthCount--}function Ff(){return re.bindingsEnabled}function I0(){return re.skipHydrationRootTNode!==null}function Lf(e){return re.skipHydrationRootTNode===e}function Vf(){re.skipHydrationRootTNode=null}function se(){return re.lFrame.lView}function xe(){return re.lFrame.tView}function Kl(e){return re.lFrame.contextLView=e,e[nt]}function Ql(e){return re.lFrame.contextLView=null,e}function We(){let e=jf();for(;e!==null&&e.type===64;)e=e.parent;return e}function jf(){return re.lFrame.currentTNode}function S0(){let e=re.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function co(e,t){let n=re.lFrame;n.currentTNode=e,n.isParent=t}function Bf(){return re.lFrame.isParent}function M0(){re.lFrame.isParent=!1}function Uf(e){sf("Must never be called in production mode"),i1=e}function Hf(){return Xd}function $f(e){let t=Xd;return Xd=e,t}function x0(){let e=re.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function T0(){return re.lFrame.bindingIndex}function A0(e){return re.lFrame.bindingIndex=e}function ii(){return re.lFrame.bindingIndex++}function zf(e){let t=re.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function N0(){return re.lFrame.inI18n}function R0(e,t){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=e,Jl(t)}function O0(){return re.lFrame.currentDirectiveIndex}function Jl(e){re.lFrame.currentDirectiveIndex=e}function k0(e){let t=re.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Gf(){return re.lFrame.currentQueryIndex}function Xl(e){re.lFrame.currentQueryIndex=e}function o1(e){let t=e[W];return t.type===2?t.declTNode:t.type===1?e[Ot]:null}function Wf(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=o1(o),i===null||(o=o[ei],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=re.lFrame=P0();return r.currentTNode=t,r.lView=e,!0}function ec(e){let t=P0(),n=e[W];re.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function P0(){let e=re.lFrame,t=e===null?null:e.child;return t===null?F0(e):t}function F0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function L0(){let e=re.lFrame;return re.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var qf=L0;function tc(){let e=L0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function V0(e){return(re.lFrame.contextLView=_0(e,re.lFrame.contextLView))[nt]}function cr(){return re.lFrame.selectedIndex}function ur(e){re.lFrame.selectedIndex=e}function Ns(){let e=re.lFrame;return Ms(e.tView,e.selectedIndex)}function nc(){re.lFrame.currentNamespace=Mf}function j0(){return re.lFrame.currentNamespace}var B0=!0;function rc(){return B0}function ic(e){B0=e}function ef(e,t=null,n=null,r){let i=Zf(e,t,n,r);return i.resolveInjectorInitializers(),i}function Zf(e,t=null,n=null,r,i=new Set){let o=[n||Ct,u0(e)];return r=r||(typeof e=="object"?void 0:kn(e)),new Yr(o,t||ws(),r||null,i)}var Gt=class e{static THROW_IF_NOT_FOUND=Wr;static NULL=new ms;static create(t,n){if(Array.isArray(t))return ef({name:""},n,t,"");{let r=t.name??"";return ef({name:r},t.parent,t.providers,r)}}static \u0275prov=G({token:e,providedIn:"any",factory:()=>te(vf)});static __NG_ELEMENT_ID__=-1},rt=new $(""),oi=(()=>{class e{static __NG_ELEMENT_ID__=s1;static __NG_ENV_ID__=n=>n}return e})(),tf=class extends oi{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ri(this._lView)}onDestroy(t){let n=this._lView;return Rf(n,t),()=>w0(n,t)}};function s1(){return new tf(se())}var rn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},bt=new $("",{providedIn:"root",factory:()=>{let e=N(ze),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(rn),t.handleError(n))}}}),U0={provide:ir,useValue:()=>void N(rn),multi:!0};function Yf(e){return typeof e=="function"&&e[at]!==void 0}function dn(e,t){let[n,r,i]=Ad(e,t?.equal),o=n,s=o[at];return o.set=r,o.update=i,o.asReadonly=H0.bind(o),o}function H0(){let e=this[at];if(e.readonlyFn===void 0){let t=()=>this();t[at]=e,e.readonlyFn=t}return e.readonlyFn}function Kf(e){return Yf(e)&&typeof e.set=="function"}var Kr=class{},oc=new $("",{providedIn:"root",factory:()=>!1});var Qf=new $(""),Jf=new $("");var Fn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new et(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ue(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();function Rs(...e){}var Xf=(()=>{class e{static \u0275prov=G({token:e,providedIn:"root",factory:()=>new nf})}return e})(),nf=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function js(e){return{toString:e}.toString()}function g1(e){return typeof e=="function"}var hc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Dv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var jn=(()=>{let e=()=>_v;return e.ngInherit=!0,e})();function _v(e){return e.type.prototype.ngOnChanges&&(e.setInput=v1),m1}function m1(){let e=Cv(this),t=e?.current;if(t){let n=e.previous;if(n===rr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function v1(e,t,n,r,i){let o=this.declaredInputs[r],s=Cv(e)||y1(e,{previous:rr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new hc(c&&c.currentValue,n,l===rr),Dv(e,t,i,n)}var wv="__ngSimpleChanges__";function Cv(e){return e[wv]||null}function y1(e,t){return e[wv]=t}var $0=[];var ve=function(e,t=null,n){for(let r=0;r<$0.length;r++){let i=$0[r];i(e,t,n)}};function D1(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=_v(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ev(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function lc(e,t,n){bv(e,t,3,n)}function cc(e,t,n,r){(e[Q]&3)===n&&bv(e,t,n,r)}function eh(e,t){let n=e[Q];(n&3)===t&&(n&=16383,n+=1,e[Q]=n)}function bv(e,t,n,r){let i=r!==void 0?e[ti]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[ti]+=65536),(a<o||o==-1)&&(_1(e,n,t,l),e[ti]=(e[ti]&4294901760)+l+2),l++}function z0(e,t){ve(4,e,t);let n=X(null);try{t.call(e)}finally{X(n),ve(5,e,t)}}function _1(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[Q]>>14<e[ti]>>16&&(e[Q]&3)===t&&(e[Q]+=16384,z0(a,o)):z0(a,o)}var fo=-1,li=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function w1(e){return(e.flags&8)!==0}function C1(e){return(e.flags&16)!==0}function E1(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];b1(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Iv(e){return e===3||e===4||e===6}function b1(e){return e.charCodeAt(0)===64}function ho(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?G0(e,n,i,null,t[++r]):G0(e,n,i,null,null))}}return e}function G0(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Sv(e){return e!==fo}function pc(e){return e&32767}function I1(e){return e>>16}function gc(e,t){let n=I1(e),r=t;for(;n>0;)r=r[ei],n--;return r}var uh=!0;function mc(e){let t=uh;return uh=e,t}var S1=256,Mv=S1-1,xv=5,M1=0,fn={};function x1(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qr)&&(r=n[Qr]),r==null&&(r=n[Qr]=M1++);let i=r&Mv,o=1<<i;t.data[e+(i>>xv)]|=o}function vc(e,t){let n=Tv(e,t);if(n!==-1)return n;let r=t[W];r.firstCreatePass&&(e.injectorIndex=t.length,th(r.data,e),th(t,null),th(r.blueprint,null));let i=kh(e,t),o=e.injectorIndex;if(Sv(i)){let s=pc(i),a=gc(i,t),l=a[W].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function th(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Tv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function kh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=kv(i),r===null)return fo;if(n++,i=i[ei],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return fo}function dh(e,t,n){x1(e,t,n)}function T1(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Iv(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Av(e,t,n){if(n&8||e!==void 0)return e;Hl(t,"NodeInjector")}function Nv(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Xr],o=ut(void 0);try{return i?i.get(t,r,n&8):gf(t,r,n&8)}finally{ut(o)}}return Av(r,t,n)}function Rv(e,t,n,r=0,i){if(e!==null){if(t[Q]&2048&&!(r&2)){let s=O1(e,t,n,r,fn);if(s!==fn)return s}let o=Ov(e,t,n,r,fn);if(o!==fn)return o}return Nv(t,n,r,i)}function Ov(e,t,n,r,i){let o=N1(n);if(typeof o=="function"){if(!Wf(t,e,r))return r&1?Av(i,n,r):Nv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Hl(n);else return s}finally{qf()}}else if(typeof o=="number"){let s=null,a=Tv(e,t),l=fo,c=r&1?t[kt][Ot]:null;for((a===-1||r&4)&&(l=a===-1?kh(e,t):t[a+8],l===fo||!q0(r,!1)?a=-1:(s=t[W],a=pc(l),t=gc(l,t)));a!==-1;){let u=t[W];if(W0(o,a,u.data)){let d=A1(a,t,n,s,r,c);if(d!==fn)return d}l=t[a+8],l!==fo&&q0(r,t[W].data[a+8]===c)&&W0(o,a,t)?(s=u,a=pc(l),t=gc(l,t)):a=-1}}return i}function A1(e,t,n,r,i,o){let s=t[W],a=s.data[e+8],l=r==null?lr(a)&&uh:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=uc(a,s,n,l,c);return u!==null?Ps(t,s,u,a,i):fn}function uc(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:c;for(let h=d;h<p;h++){let f=s[h];if(h<l&&n===f||h>=l&&f.type===n)return h}if(i){let h=s[l];if(h&&cn(h)&&h.type===n)return l}return null}function Ps(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof li){let a=o;if(a.resolving){let h=Vl(s[n]);throw pf(h)}let l=mc(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],u,d=a.injectImpl?ut(a.injectImpl):null,p=Wf(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&D1(n,s[n],t)}finally{d!==null&&ut(d),mc(l),a.resolving=!1,qf()}}return o}function N1(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Qr)?e[Qr]:void 0;return typeof t=="number"?t>=0?t&Mv:R1:t}function W0(e,t,n){let r=1<<e;return!!(n[t+(e>>xv)]&r)}function q0(e,t){return!(e&2)&&!(e&1&&t)}var ai=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Rv(this._tNode,this._lView,t,qr(r),n)}};function R1(){return new ai(We(),se())}function hi(e){return js(()=>{let t=e.prototype.constructor,n=t[gs]||fh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[gs]||fh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fh(e){return of(e)?()=>{let t=fh(tt(e));return t&&t()}:er(e)}function O1(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Q]&2048&&!lo(s);){let a=Ov(o,s,n,r|2,fn);if(a!==fn)return a;let l=o.parent;if(!l){let c=s[If];if(c){let u=c.get(n,fn,r);if(u!==fn)return u}l=kv(s),s=s[ei]}o=l}return i}function kv(e){let t=e[W],n=t.type;return n===2?t.declTNode:n===1?e[Ot]:null}function Bs(e){return T1(We(),e)}function k1(){return vo(We(),se())}function vo(e,t){return new Lt(Zt(e,t))}var Lt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=k1}return e})();function P1(e){return e instanceof Lt?e.nativeElement:e}function F1(){return this._results[Symbol.iterator]()}var yc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Me}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=s0(t);(this._changesDetected=!o0(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=F1};function Pv(e){return(e.flags&128)===128}var Ph=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ph||{}),Fv=new Map,L1=0;function V1(){return L1++}function j1(e){Fv.set(e[Es],e)}function hh(e){Fv.delete(e[Es])}var Z0="__ngContext__";function po(e,t){ln(t)?(e[Z0]=t[Es],j1(t)):e[Z0]=t}function Lv(e){return jv(e[ao])}function Vv(e){return jv(e[Rt])}function jv(e){for(;e!==null&&!qt(e);)e=e[Rt];return e}var ph;function Fh(e){ph=e}function Bv(){if(ph!==void 0)return ph;if(typeof document<"u")return document;throw new U(210,!1)}var Rc=new $("",{providedIn:"root",factory:()=>B1}),B1="ng",Oc=new $(""),yo=new $("",{providedIn:"platform",factory:()=>"unknown"});var kc=new $("",{providedIn:"root",factory:()=>Bv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var U1="h",H1="b";var Uv=!1,Hv=new $("",{providedIn:"root",factory:()=>Uv});var $1=(e,t,n,r)=>{};function z1(e,t,n,r){$1(e,t,n,r)}function Lh(e){return(e.flags&32)===32}var G1=()=>null;function $v(e,t,n=!1){return G1(e,t,n)}function zv(e,t){let n=e.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Xl(o),a.contentQueries(2,t[s],s)}}}finally{X(r)}}}function gh(e,t,n){Xl(0);let r=X(null);try{t(e,n)}finally{X(r)}}function Gv(e,t,n){if(Sf(t)){let r=X(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{X(r)}}}var Ln=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ln||{});var sc;function W1(){if(sc===void 0&&(sc=null,Pn.trustedTypes))try{sc=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sc}function Y0(e){return W1()?.createScriptURL(e)||e}var Dc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bl})`}};function Pc(e){return e instanceof Dc?e.changingThisBreaksApplicationSecurity:e}function Vh(e,t){let n=Wv(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Bl})`)}return n===t}function Wv(e){return e instanceof Dc&&e.getTypeName()||null}var q1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qv(e){return e=String(e),e.match(q1)?e:"unsafe:"+e}var Fc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Fc||{});function fr(e){let t=Yv();return t?t.sanitize(Fc.URL,e)||"":Vh(e,"URL")?Pc(e):qv(Jr(e))}function Zv(e){let t=Yv();if(t)return Y0(t.sanitize(Fc.RESOURCE_URL,e)||"");if(Vh(e,"ResourceURL"))return Y0(Pc(e));throw new U(904,!1)}function Z1(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Zv:fr}function jh(e,t,n){return Z1(t,n)(e)}function Yv(){let e=se();return e&&e[sn].sanitizer}function Kv(e){return e instanceof Function?e():e}function Y1(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Qv="ng-template";function K1(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&Y1(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Bh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Bh(e){return e.type===4&&e.value!==Qv}function Q1(e,t,n){let r=e.type===4&&!n?Qv:e.value;return t===r}function J1(e,t,n){let r=4,i=e.attrs,o=i!==null?tb(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Yt(r)&&!Yt(l))return!1;if(s&&Yt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Q1(e,l,n)||l===""&&t.length===1){if(Yt(r))return!1;s=!0}}else if(r&8){if(i===null||!K1(e,i,l,n)){if(Yt(r))return!1;s=!0}}else{let c=t[++a],u=X1(l,i,Bh(e),n);if(u===-1){if(Yt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Yt(r))return!1;s=!0}}}}return Yt(r)||s}function Yt(e){return(e&1)===0}function X1(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nb(t,e)}function eb(e,t,n=!1){for(let r=0;r<t.length;r++)if(J1(e,t[r],n))return!0;return!1}function tb(e){for(let t=0;t<e.length;t++){let n=e[t];if(Iv(n))return t}return e.length}function nb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function K0(e,t){return e?":not("+t.trim()+")":t}function rb(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Yt(s)&&(t+=K0(o,i),i=""),r=s,o=o||!Yt(r);n++}return i!==""&&(t+=K0(o,i)),t}function ib(e){return e.map(rb).join(",")}function ob(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Yt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Vt={};function sb(e,t){return e.createText(t)}function ab(e,t,n){e.setValue(t,n)}function Jv(e,t,n){return e.createElement(t,n)}function _c(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Xv(e,t,n){e.appendChild(t,n)}function Q0(e,t,n,r,i){r!==null?_c(e,t,n,r,i):Xv(e,t,n)}function lb(e,t,n){e.removeChild(null,t,n)}function cb(e,t,n){e.setAttribute(t,"style",n)}function ub(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ey(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&E1(e,t,r),i!==null&&ub(e,t,i),o!==null&&cb(e,t,o)}function Uh(e,t,n,r,i,o,s,a,l,c,u){let d=Be+r,p=d+i,h=db(d,p),f=typeof c=="function"?c():c;return h[W]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}function db(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Vt);return n}function fb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Uh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Hh(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[Wt]=i,d[Q]=r|4|128|8|64|1024,(c!==null||e&&e[Q]&2048)&&(d[Q]|=2048),Af(d),d[Ge]=d[ei]=e,d[nt]=n,d[sn]=s||e&&e[sn],d[_e]=a||e&&e[_e],d[Xr]=l||e&&e[Xr]||null,d[Ot]=o,d[Es]=V1(),d[Cs]=u,d[If]=c,d[kt]=t.type==2?e[kt]:d,d}function hb(e,t,n){let r=Zt(t,e),i=fb(n),o=e[sn].rendererFactory,s=$h(e,Hh(e,i,null,ty(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function ty(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ny(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function $h(e,t){return e[ao]?e[bf][Rt]=t:e[ao]=t,e[bf]=t,t}function ie(e=1){ry(xe(),se(),cr()+e,!1)}function ry(e,t,n,r){if(!r)if((t[Q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&lc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&cc(t,o,0,n)}ur(n)}var Lc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Lc||{});function mh(e,t,n,r){let i=X(null);try{let[o,s,a]=e.inputs[n],l=null;(s&Lc.SignalBased)!==0&&(l=t[o][at]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Dv(t,l,o,r)}finally{X(i)}}var hn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(hn||{}),pb;function zh(e,t){return pb(e,t)}function uo(e,t,n,r,i){if(r!=null){let o,s=!1;qt(r)?o=r:ln(r)&&(s=!0,r=r[Wt]);let a=Pt(r);e===0&&n!==null?i==null?Xv(t,n,a):_c(t,n,a,i||null,!0):e===1&&n!==null?_c(t,n,a,i||null,!0):e===2?lb(t,a,s):e===3&&t.destroyNode(a),o!=null&&Sb(t,e,o,n,i)}}function gb(e,t){iy(e,t),t[Wt]=null,t[Ot]=null}function mb(e,t,n,r,i,o){r[Wt]=i,r[Ot]=t,Vc(e,r,n,1,i,o)}function iy(e,t){t[sn].changeDetectionScheduler?.notify(9),Vc(e,t,t[_e],2,null,null)}function vb(e){let t=e[ao];if(!t)return nh(e[W],e);for(;t;){let n=null;if(ln(t))n=t[ao];else{let r=t[lt];r&&(n=r)}if(!n){for(;t&&!t[Rt]&&t!==e;)ln(t)&&nh(t[W],t),t=t[Ge];t===null&&(t=e),ln(t)&&nh(t[W],t),n=t&&t[Rt]}t=n}}function Gh(e,t){let n=e[ni],r=n.indexOf(t);n.splice(r,1)}function Wh(e,t){if(ri(t))return;let n=t[_e];n.destroyNode&&Vc(e,t,n,3,null,null),vb(t)}function nh(e,t){if(ri(t))return;let n=X(null);try{t[Q]&=-129,t[Q]|=256,t[Et]&&ll(t[Et]),Db(e,t),yb(e,t),t[W].type===1&&t[_e].destroy();let r=t[sr];if(r!==null&&qt(t[Ge])){r!==t[Ge]&&Gh(r,t);let i=t[an];i!==null&&i.detachView(e)}hh(t)}finally{X(n)}}function yb(e,t){let n=e.cleanup,r=t[so];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[so]=null);let i=t[On];if(i!==null){t[On]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[bs];if(o!==null){t[bs]=null;for(let s of o)s.destroy()}}function Db(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof li)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ve(4,a,l);try{l.call(a)}finally{ve(5,a,l)}}else{ve(4,i,o);try{o.call(i)}finally{ve(5,i,o)}}}}}function _b(e,t,n){return wb(e,t.parent,n)}function wb(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Wt];if(lr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Ln.None||i===Ln.Emulated)return null}return Zt(r,n)}function Cb(e,t,n){return bb(e,t,n)}function Eb(e,t,n){return e.type&40?Zt(e,n):null}var bb=Eb,J0;function qh(e,t,n,r){let i=_b(e,r,t),o=t[_e],s=r.parent||t[Ot],a=Cb(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Q0(o,i,n[l],a,!1);else Q0(o,i,n,a,!1);J0!==void 0&&J0(o,r,t,n,i)}function Os(e,t){if(t!==null){let n=t.type;if(n&3)return Zt(t,e);if(n&4)return vh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Os(e,r);{let i=e[t.index];return qt(i)?vh(-1,i):Pt(i)}}else{if(n&128)return Os(e,t.next);if(n&32)return zh(t,e)()||Pt(e[t.index]);{let r=oy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=tr(e[kt]);return Os(i,r)}else return Os(e,t.next)}}}return null}function oy(e,t){if(t!==null){let r=e[kt][Ot],i=t.projection;return r.projection[i]}return null}function vh(e,t){let n=lt+e+1;if(n<t.length){let r=t[n],i=r[W].firstChild;if(i!==null)return Os(r,i)}return t[ar]}function Zh(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&po(Pt(a),r),n.flags|=2),!Lh(n))if(l&8)Zh(e,t,n.child,r,i,o,!1),uo(t,e,i,a,o);else if(l&32){let c=zh(n,r),u;for(;u=c();)uo(t,e,i,u,o);uo(t,e,i,a,o)}else l&16?Ib(e,t,r,n,i,o):uo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Vc(e,t,n,r,i,o){Zh(n,r,e.firstChild,t,i,o,!1)}function Ib(e,t,n,r,i,o){let s=n[kt],l=s[Ot].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];uo(t,e,i,u,o)}else{let c=l,u=s[Ge];Pv(r)&&(c.flags|=128),Zh(e,t,c,u,i,o,!0)}}function Sb(e,t,n,r,i){let o=n[ar],s=Pt(n);o!==s&&uo(t,e,r,o,i);for(let a=lt;a<n.length;a++){let l=n[a];Vc(l[W],l,e,t,r,o)}}function Mb(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:hn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hn.Important),e.setStyle(n,r,i,o))}}function sy(e,t,n,r,i){let o=cr(),s=r&2;try{ur(-1),s&&t.length>Be&&ry(e,t,Be,!1),ve(s?2:0,i,n),n(r,i)}finally{ur(o),ve(s?3:1,i,n)}}function Yh(e,t,n){Ob(e,t,n),(n.flags&64)===64&&kb(e,t,n)}function jc(e,t,n=Zt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function xb(e,t,n,r){let o=r.get(Hv,Uv)||n===Ln.ShadowDom,s=e.selectRootElement(t,o);return Tb(s),s}function Tb(e){Ab(e)}var Ab=()=>null;function Nb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ay(e,t,n,r,i,o){let s=t[W];if(Kh(e,s,t,n,r)){lr(e)&&Rb(t,e.index);return}e.type&3&&(n=Nb(n)),ly(e,t,n,r,i,o)}function ly(e,t,n,r,i,o){if(e.type&3){let s=Zt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function Rb(e,t){let n=Ft(t,e);n[Q]&16||(n[Q]|=64)}function Ob(e,t,n){let r=n.directiveStart,i=n.directiveEnd;lr(n)&&hb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||vc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ps(t,e,s,n);if(po(l,t),o!==null&&Vb(t,s-r,l,a,n,o),cn(a)){let c=Ft(n.index,t);c[nt]=Ps(t,e,s,n)}}}function kb(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=O0();try{ur(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Jl(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Pb(l,c)}}finally{ur(-1),Jl(s)}}function Pb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function cy(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];eb(t,o.selectors,!1)&&(r??=[],cn(o)?r.unshift(o):r.push(o))}return r}function Fb(e,t,n,r,i,o){let s=Zt(e,t);Lb(t[_e],s,o,e.value,n,r,i)}function Lb(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Jr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function Vb(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];mh(r,n,l,c)}}function uy(e,t,n,r,i){let o=Be+n,s=t[W],a=i(s,t,e,r,n);t[o]=a,co(e,!0);let l=e.type===2;return l?(ey(t[_e],a,e),(E0()===0||Ss(e))&&po(a,t),b0()):po(a,t),rc()&&(!l||!Lh(e))&&qh(s,t,a,e),e}function dy(e){let t=e;return Bf()?M0():(t=t.parent,co(t,!1)),t}function jb(e,t){let n=e[Xr];if(!n)return;n.get(bt,null)?.(t)}function Kh(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];mh(d,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];mh(u,c,r,i),a=!0}return a}function Bb(e,t){let n=Ft(t,e),r=n[W];Ub(r,n);let i=n[Wt];i!==null&&n[Cs]===null&&(n[Cs]=$v(i,n[Xr])),ve(18),Qh(r,n,n[nt]),ve(19,n[nt])}function Ub(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Qh(e,t,n){ec(t);try{let r=e.viewQuery;r!==null&&gh(1,r,n);let i=e.template;i!==null&&sy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[an]?.finishViewCreation(e),e.staticContentQueries&&zv(e,t),e.staticViewQueries&&gh(2,e.viewQuery,n);let o=e.components;o!==null&&Hb(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Q]&=-5,tc()}}function Hb(e,t){for(let n=0;n<t.length;n++)Bb(e,t[n])}function fy(e,t,n,r){let i=X(null);try{let o=t.tView,a=e[Q]&4096?4096:16,l=Hh(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[sr]=c;let u=e[an];return u!==null&&(l[an]=u.createEmbeddedView(o)),Qh(o,l,n),l}finally{X(i)}}function yh(e,t){return!t||t.firstChild===null||Pv(e)}var X0=!1,$b=new $("");function Fs(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Pt(o)),qt(o)&&hy(o,r);let s=n.type;if(s&8)Fs(e,t,n.child,r);else if(s&32){let a=zh(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=oy(t,n);if(Array.isArray(a))r.push(...a);else{let l=tr(t[kt]);Fs(l[W],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hy(e,t){for(let n=lt;n<e.length;n++){let r=e[n],i=r[W].firstChild;i!==null&&Fs(r[W],r,i,t)}e[ar]!==e[Wt]&&t.push(e[ar])}function py(e){if(e[ql]!==null){for(let t of e[ql])t.impl.addSequence(t);e[ql].length=0}}var gy=[];function zb(e){return e[Et]??Gb(e)}function Gb(e){let t=gy.pop()??Object.create(qb);return t.lView=e,t}function Wb(e){e.lView[Et]!==e&&(e.lView=null,gy.push(e))}var qb=ae(k({},Br),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ts(e.lView)},consumerOnSignalRead(){this.lView[Et]=this}});function Zb(e){let t=e[Et]??Object.create(Yb);return t.lView=e,t}var Yb=ae(k({},Br),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=tr(e.lView);for(;t&&!my(t[W]);)t=tr(t);t&&Nf(t)},consumerOnSignalRead(){this.lView[Et]=this}});function my(e){return e.type!==2}function vy(e){if(e[bs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[bs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Q]&8192)}}var Kb=100;function Jh(e,t=0){let r=e[sn].rendererFactory,i=!1;i||r.begin?.();try{Qb(e,t)}finally{i||r.end?.()}}function Qb(e,t){let n=Hf();try{$f(!0),Dh(e,t);let r=0;for(;xs(e);){if(r===Kb)throw new U(103,!1);r++,Dh(e,1)}}finally{$f(n)}}function yy(e,t){Uf(t?As.Exhaustive:As.OnlyDirtyViews);try{Jh(e)}finally{Uf(As.Off)}}function Jb(e,t,n,r){if(ri(t))return;let i=t[Q],o=!1,s=!1;ec(t);let a=!0,l=null,c=null;o||(my(e)?(c=zb(t),l=Ur(c)):sl()===null?(a=!1,c=Zb(t),l=Ur(c)):t[Et]&&(ll(t[Et]),t[Et]=null));try{Af(t),A0(e.bindingStartIndex),n!==null&&sy(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&lc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&cc(t,h,0,null),eh(t,0)}if(s||Xb(t),vy(t),Dy(t,0),e.contentQueries!==null&&zv(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&lc(t,h)}else{let h=e.contentHooks;h!==null&&cc(t,h,1),eh(t,1)}tI(e,t);let d=e.components;d!==null&&wy(t,d,0);let p=e.viewQuery;if(p!==null&&gh(2,p,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&lc(t,h)}else{let h=e.viewHooks;h!==null&&cc(t,h,2),eh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Wl]){for(let h of t[Wl])h();t[Wl]=null}o||(py(t),t[Q]&=-73)}catch(u){throw o||Ts(t),u}finally{c!==null&&(zi(c,l),a&&Wb(c)),tc()}}function Dy(e,t){for(let n=Lv(e);n!==null;n=Vv(n))for(let r=lt;r<n.length;r++){let i=n[r];_y(i,t)}}function Xb(e){for(let t=Lv(e);t!==null;t=Vv(t)){if(!(t[Q]&2))continue;let n=t[ni];for(let r=0;r<n.length;r++){let i=n[r];Nf(i)}}}function eI(e,t,n){ve(18);let r=Ft(t,e);_y(r,n),ve(19,r[nt])}function _y(e,t){Zl(e)&&Dh(e,t)}function Dh(e,t){let r=e[W],i=e[Q],o=e[Et],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ls(o)),s||=!1,o&&(o.dirty=!1),e[Q]&=-9217,s)Jb(r,e,r.template,e[nt]);else if(i&8192){let a=X(null);try{vy(e),Dy(e,1);let l=r.components;l!==null&&wy(e,l,1),py(e)}finally{X(a)}}}function wy(e,t,n){for(let r=0;r<t.length;r++)eI(e,t[r],n)}function tI(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ur(~i);else{let o=i,s=n[++r],a=n[++r];R0(s,o);let l=t[o];ve(24,l),a(2,l),ve(25,l)}}}finally{ur(-1)}}function Xh(e,t){let n=Hf()?64:1088;for(e[sn].changeDetectionScheduler?.notify(t);e;){e[Q]|=n;let r=tr(e);if(lo(e)&&!r)return e;e=r}return null}function Cy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function nI(e,t){let n=lt+t;if(n<e.length)return e[n]}function Ey(e,t,n,r=!0){let i=t[W];if(iI(i,t,e,n),r){let s=vh(n,e),a=t[_e],l=a.parentNode(e[ar]);l!==null&&mb(i,e[Ot],a,t,l,s)}let o=t[Cs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rI(e,t){let n=wc(e,t);return n!==void 0&&Wh(n[W],n),n}function wc(e,t){if(e.length<=lt)return;let n=lt+t,r=e[n];if(r){let i=r[sr];i!==null&&i!==e&&Gh(i,r),t>0&&(e[n-1][Rt]=r[Rt]);let o=Ds(e,lt+t);gb(r[W],r);let s=o[an];s!==null&&s.detachView(o[W]),r[Ge]=null,r[Rt]=null,r[Q]&=-129}return r}function iI(e,t,n,r){let i=lt+r,o=n.length;r>0&&(n[i-1][Rt]=t),r<o-lt?(t[Rt]=n[i],mf(n,lt+r,t)):(n.push(t),t[Rt]=null),t[Ge]=n;let s=t[sr];s!==null&&n!==s&&by(s,t);let a=t[an];a!==null&&a.insertView(e),Yl(t),t[Q]|=128}function by(e,t){let n=e[ni],r=t[Ge];if(ln(r))e[Q]|=2;else{let i=r[Ge][kt];t[kt]!==i&&(e[Q]|=2)}n===null?e[ni]=[t]:n.push(t)}var dr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[W];return Fs(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[nt]}set context(t){this._lView[nt]=t}get destroyed(){return ri(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ge];if(qt(t)){let n=t[Is],r=n?n.indexOf(this):-1;r>-1&&(wc(t,r),Ds(n,r))}this._attachedToViewContainer=!1}Wh(this._lView[W],this._lView)}onDestroy(t){Rf(this._lView,t)}markForCheck(){Xh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Yl(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Jh(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Xr].get($b,X0)}catch{this.exhaustive=X0}}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=lo(this._lView),n=this._lView[sr];n!==null&&!t&&Gh(n,this._lView),iy(this._lView[W],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=t;let n=lo(this._lView),r=this._lView[sr];r!==null&&!n&&by(r,this._lView),Yl(this._lView)}};var ci=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=oI;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=fy(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new dr(o)}}return e})();function oI(){return ep(We(),se())}function ep(e,t){return e.type&4?new ci(t,e,vo(e,t)):null}function Us(e,t,n,r,i){let o=e.data[t];if(o===null)o=sI(e,t,n,r,i),N0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=S0();o.injectorIndex=s===null?-1:s.injectorIndex}return co(o,!0),o}function sI(e,t,n,r,i){let o=jf(),s=Bf(),a=s?o:o&&o.parent,l=e.data[t]=lI(e,a,n,t,r,i);return aI(e,l,o,s),l}function aI(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function lI(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return I0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var e8=new RegExp(`^(\\d+)*(${H1}|${U1})*(.*)`);var cI=()=>null,uI=()=>null;function ev(e,t){return cI(e,t)}function dI(e,t,n){return uI(e,t,n)}var Iy=class{},Bc=class{},_h=class{resolveComponentFactory(t){throw new U(917,!1)}},Hs=class{static NULL=new _h},ui=class{},hr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>fI()}return e})();function fI(){let e=se(),t=We(),n=Ft(t.index,e);return(ln(n)?n:e)[_e]}var Sy=(()=>{class e{static \u0275prov=G({token:e,providedIn:"root",factory:()=>null})}return e})();var dc={},wh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,dc,r);return i!==dc||n===dc?i:this.parentInjector.get(t,n,r)}};function Cc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=rf(i,a);else if(o==2){let l=a,c=t[++s];r=rf(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function oe(e,t=0){let n=se();if(n===null)return te(e,t);let r=We();return Rv(r,n,tt(e),t)}function My(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}gI(e,t,n,a,o,l,c)}o!==null&&r!==null&&hI(n,r,o)}function hI(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new U(-301,!1);r.push(t[i],o)}}function pI(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function gI(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let h=r[p];!l&&cn(h)&&(l=!0,pI(e,n,p)),dh(vc(n,t),e,h.type)}wI(n,e.data.length,a);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=ny(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(n.mergedAttrs=ho(n.mergedAttrs,h.hostAttrs),vI(e,n,t,d,h),_I(d,h,i),s!==null&&s.has(h)){let[v,y]=s.get(h);n.directiveToIndex.set(h.type,[d,v+n.directiveStart,y+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let f=h.type.prototype;!c&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}mI(e,n,o)}function mI(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))tv(0,t,i,r),tv(1,t,i,r),rv(t,r,!1);else{let o=n.get(i);nv(0,t,o,r),nv(1,t,o,r),rv(t,r,!0)}}}function tv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),xy(t,o)}}function nv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),xy(t,s)}}function xy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function rv(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Bh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function vI(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=er(i.type,!0)),s=new li(o,cn(i),oe,null);e.blueprint[r]=s,n[r]=s,yI(e,t,r,ny(e,n,i.hostVars,Vt),i)}function yI(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;DI(s)!=a&&s.push(a),s.push(n,r,o)}}function DI(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function _I(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;cn(t)&&(n[""]=e)}}function wI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ty(e,t,n,r,i,o,s,a){let l=t[W],c=l.consts,u=un(c,s),d=Us(l,e,n,r,u);return o&&My(l,t,d,un(c,a),i),d.mergedAttrs=ho(d.mergedAttrs,d.attrs),d.attrs!==null&&Cc(d,d.attrs,!1),d.mergedAttrs!==null&&Cc(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function Ay(e,t){Ev(e,t),Sf(t)&&e.queries.elementEnd(t)}function CI(e,t,n,r,i,o){let s=t.consts,a=un(s,i),l=Us(t,e,n,r,a);if(l.mergedAttrs=ho(l.mergedAttrs,l.attrs),o!=null){let c=un(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Cc(l,l.attrs,!1),l.mergedAttrs!==null&&Cc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function EI(e,t,n){return e[t]=n}function Vn(e,t,n){if(n===Vt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Ny(e,t,n,r){let i=Vn(e,t,n);return Vn(e,t+1,r)||i}function fc(e,t,n){return function r(i){let o=lr(e)?Ft(e.index,t):t;Xh(o,5);let s=t[nt],a=iv(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=iv(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function iv(e,t,n,r){let i=X(null);try{return ve(6,t,n),n(r)!==!1}catch(o){return jb(e,o),!1}finally{ve(7,t,n),X(i)}}function Ry(e,t,n,r,i,o,s,a){let l=Ss(e),c=!1,u=null;if(!r&&l&&(u=bI(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=Zt(e,n),p=r?r(d):d;z1(n,p,o,a);let h=i.listen(p,o,a),f=r?v=>r(Pt(v[e.index])):e.index;Oy(f,t,n,o,a,h,!1)}return c}function bI(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[so],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Oy(e,t,n,r,i,o,s){let a=t.firstCreatePass?kf(t):null,l=Of(n),c=l.length;l.push(i,o),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function ov(e,t,n,r,i,o){let s=t[n],a=t[W],c=a.data[n].outputs[r],d=s[c].subscribe(o);Oy(e.index,a,t,i,o,d,!0)}var Ch=Symbol("BINDING");var Ec=class extends Hs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=or(t);return new go(n,this.ngModule)}};function II(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Lc.SignalBased)!==0};return i&&(o.transform=i),o})}function SI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function MI(e,t,n){let r=t instanceof ze?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new wh(n,r):n}function xI(e){let t=e.get(ui,null);if(t===null)throw new U(407,!1);let n=e.get(Sy,null),r=e.get(Kr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function TI(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Jv(t,n,n==="svg"?Mf:n==="math"?m0:null)}var go=class extends Bc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=II(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=SI(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ib(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){ve(22);let a=X(null);try{let l=this.componentDef,c=AI(r,l,s,o),u=MI(l,i||this.ngModule,t),d=xI(u),p=d.rendererFactory.createRenderer(null,l),h=r?xb(p,r,l.encapsulation,u):TI(l,p),f=s?.some(sv)||o?.some(m=>typeof m!="function"&&m.bindings.some(sv)),v=Hh(null,c,null,512|ty(l),null,null,d,p,u,null,$v(h,u,!0));v[Be]=h,ec(v);let y=null;try{let m=Ty(Be,v,2,"#host",()=>c.directiveRegistry,!0,0);h&&(ey(p,h,m),po(h,v)),Yh(c,v,m),Gv(c,m,v),Ay(c,m),n!==void 0&&RI(m,this.ngContentSelectors,n),y=Ft(m.index,v),v[nt]=y[nt],Qh(c,v,null)}catch(m){throw y!==null&&hh(y),hh(v),m}finally{ve(23),tc()}return new bc(this.componentType,v,!!f)}finally{X(a)}}};function AI(e,t,n,r){let i=e?["ng-version","20.1.6"]:ob(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Ch].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[Ch].requiredVars;let h=u+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let l=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=_f(d);l.push(p)}return Uh(0,null,NI(o,s),1,a,l,null,null,null,[i],null)}function NI(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function sv(e){let t=e[Ch].kind;return t==="input"||t==="twoWay"}var bc=class extends Iy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ms(n[W],Be),this.location=vo(this._tNode,n),this.instance=Ft(this._tNode.index,n)[nt],this.hostView=this.changeDetectorRef=new dr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Kh(r,i[W],i,t,n);this.previousInputValues.set(t,n);let s=Ft(r.index,i);Xh(s,1)}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function RI(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pr=(()=>{class e{static __NG_ELEMENT_ID__=OI}return e})();function OI(){let e=We();return Py(e,se())}var kI=pr,ky=class extends kI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return vo(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let t=kh(this._hostTNode,this._hostLView);if(Sv(t)){let n=gc(t,this._hostLView),r=pc(t),i=n[W].data[r+8];return new ai(i,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=av(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ev(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,yh(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let l=t&&!g1(t),c;if(l)c=n;else{let y=n||{};c=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let u=l?t:new go(or(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(l?d:this.parentInjector).get(ze,null);m&&(o=m)}let p=or(u.componentType??{}),h=ev(this._lContainer,p?.id??null),f=h?.firstChild??null,v=u.create(d,i,f,o,s,a);return this.insertImpl(v.hostView,c,yh(this._hostTNode,h)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(D0(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Ge],c=new ky(l,l[Ot],l[Ge]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Ey(s,i,o,r),t.attachToViewContainerRef(),mf(rh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=av(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=wc(this._lContainer,n);r&&(Ds(rh(this._lContainer),n),Wh(r[W],r))}detach(t){let n=this._adjustIndex(t,-1),r=wc(this._lContainer,n);return r&&Ds(rh(this._lContainer),n)!=null?new dr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function av(e){return e[Is]}function rh(e){return e[Is]||(e[Is]=[])}function Py(e,t){let n,r=t[e.index];return qt(r)?n=r:(n=Cy(r,t,null,e),t[e.index]=n,$h(t,n)),FI(n,t,e,r),new ky(n,e,t)}function PI(e,t){let n=e[_e],r=n.createComment(""),i=Zt(t,e),o=n.parentNode(i);return _c(n,o,r,n.nextSibling(i),!1),r}var FI=jI,LI=()=>!1;function VI(e,t,n){return LI(e,t,n)}function jI(e,t,n,r){if(e[ar])return;let i;n.type&8?i=Pt(r):i=PI(t,n),e[ar]=i}var Eh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},bh=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)tp(t,n).matches!==null&&this.queries[n].setDirty()}},Ic=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=qI(t):this.predicate=t}},Ih=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Sh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,BI(n,o)),this.matchTNodeWithReadOption(t,n,uc(n,t,o,!1,!1))}else r===ci?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,uc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Lt||i===pr||i===ci&&n.type&4)this.addMatch(n.index,-2);else{let o=uc(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function BI(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function UI(e,t){return e.type&11?vo(e,t):e.type&4?ep(e,t):null}function HI(e,t,n,r){return n===-1?UI(t,e):n===-2?$I(e,t,r):Ps(e,e[W],n,t)}function $I(e,t,n){if(n===Lt)return vo(t,e);if(n===ci)return ep(t,e);if(n===pr)return Py(t,e)}function Fy(e,t,n,r){let i=t[an].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(HI(t,u,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Mh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Fy(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=lt;d<u.length;d++){let p=u[d];p[sr]===p[Ge]&&Mh(p[W],p,c,r)}if(u[ni]!==null){let d=u[ni];for(let p=0;p<d.length;p++){let h=d[p];Mh(h[W],h,c,r)}}}}}return r}function zI(e,t){return e[an].queries[t].queryList}function Ly(e,t,n){let r=new yc((n&4)===4);return C0(e,t,r,r.destroy),(t[an]??=new bh).queries.push(new Eh(r))-1}function GI(e,t,n){let r=xe();return r.firstCreatePass&&(Vy(r,new Ic(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Ly(r,se(),t)}function WI(e,t,n,r){let i=xe();if(i.firstCreatePass){let o=We();Vy(i,new Ic(t,n,r),o.index),ZI(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return Ly(i,se(),n)}function qI(e){return e.split(",").map(t=>t.trim())}function Vy(e,t,n){e.queries===null&&(e.queries=new Ih),e.queries.track(new Sh(t,n))}function ZI(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function tp(e,t){return e.queries.getByIndex(t)}function YI(e,t){let n=e[W],r=tp(n,t);return r.crossesNgTemplate?Mh(n,e,t,[]):Fy(n,e,r,t)}var lv=new Set;function Do(e){lv.has(e)||(lv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var di=class{},Uc=class{};var Sc=class extends di{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ec(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Df(t);this._bootstrapComponents=Kv(o.bootstrap),this._r3Injector=Zf(t,n,[{provide:di,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver},...r],kn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Mc=class extends Uc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Sc(this.moduleType,t,[])}};var Ls=class extends di{injector;componentFactoryResolver=new Ec(this);instance=null;constructor(t){super();let n=new Yr([...t.providers,{provide:di,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],t.parent||ws(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function $s(e,t,n=null){return new Ls({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var KI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=wf(!1,n.type),i=r.length>0?$s([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(te(ze))})}return e})();function Te(e){return js(()=>{let t=jy(e),n=ae(k({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ph.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(KI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ln.Emulated,styles:e.styles||Ct,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Do("NgStandalone"),By(n);let r=e.dependencies;return n.directiveDefs=cv(r,QI),n.pipeDefs=cv(r,c0),n.id=eS(n),n})}function QI(e){return or(e)||_f(e)}function Bn(e){return js(()=>({type:e.type,bootstrap:e.bootstrap||Ct,declarations:e.declarations||Ct,imports:e.imports||Ct,exports:e.exports||Ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function JI(e,t){if(e==null)return rr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Lc.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function XI(e){if(e==null)return rr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ft(e){return js(()=>{let t=jy(e);return By(t),t})}function np(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function jy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||rr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ct,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:JI(e.inputs,t),outputs:XI(e.outputs),debugInfo:null}}function By(e){e.features?.forEach(t=>t(e))}function cv(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function eS(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function tS(e){return Object.getPrototypeOf(e.prototype).constructor}function gr(e){let t=tS(e.type),n=!0,r=[e];for(;t;){let i;if(cn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new U(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=ih(e.inputs),s.declaredInputs=ih(e.declaredInputs),s.outputs=ih(e.outputs);let a=i.hostBindings;a&&sS(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&iS(e,l),c&&oS(e,c),nS(e,i),e0(e.outputs,i.outputs),cn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===gr&&(n=!1)}}t=Object.getPrototypeOf(t)}rS(r)}function nS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function rS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ho(i.hostAttrs,n=ho(n,i.hostAttrs))}}function ih(e){return e===rr?{}:e===Ct?[]:e}function iS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function oS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function sS(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Uy(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=ho(e.mergedAttrs,e.attrs);let u=e.tView=Uh(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),co(e,!1);let l=lS(n,t,e,r);rc()&&qh(n,t,l,e),po(l,t);let c=Cy(l,t,l,e);t[r+Be]=c,$h(t,c),VI(c,e,t)}function aS(e,t,n,r,i,o,s,a,l,c,u){let d=n+Be,p;return t.firstCreatePass?(p=Us(t,d,4,s||null,a||null),Ff()&&My(t,e,p,un(t.consts,c),cy),Ev(t,p)):p=t.data[d],Uy(p,e,t,n,r,i,o,l),Ss(p)&&Yh(t,e,p),c!=null&&jc(e,p,u),p}function Hy(e,t,n,r,i,o,s,a,l,c,u){let d=n+Be,p;if(t.firstCreatePass){if(p=Us(t,d,4,s||null,a||null),c!=null){let h=un(t.consts,c);p.localNames=[];for(let f=0;f<h.length;f+=2)p.localNames.push(h[f],-1)}}else p=t.data[d];return Uy(p,e,t,n,r,i,o,l),c!=null&&jc(e,p,u),p}function mr(e,t,n,r,i,o,s,a){let l=se(),c=xe(),u=un(c.consts,o);return aS(l,c,e,t,n,r,i,u,void 0,s,a),mr}var lS=cS;function cS(e,t,n,r){return ic(!0),t[_e].createComment("")}var rp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(rp||{}),zs=new $(""),$y=!1,xh=class extends Me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,p0()&&(this.destroyRef=N(oi,{optional:!0})??void 0,this.pendingTasks=N(Fn,{optional:!0})??void 0)}emit(t){let n=X(null);try{super.next(t)}finally{X(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Oe&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Fe=xh;function zy(e){let t,n;function r(){e=Rs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function uv(e){return queueMicrotask(()=>e()),()=>{e=Rs}}var ip="isAngularZone",xc=ip+"_ID",uS=0,qe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$y}=t;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,hS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ip)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new U(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,dS,Rs,Rs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},dS={};function op(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){zy(()=>{e.callbackScheduled=!1,Th(e),e.isCheckStableRunning=!0,op(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Th(e)}function hS(e){let t=()=>{fS(e)},n=uS++;e._inner=e._inner.fork({name:"angular",properties:{[ip]:!0,[xc]:n,[xc+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(pS(l))return r.invokeTask(o,s,a,l);try{return dv(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),fv(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return dv(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!gS(l)&&t(),fv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Th(e),op(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Th(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function dv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fv(e){e._nesting--,op(e)}var Tc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function pS(e){return Gy(e,"__ignore_ng_zone__")}function gS(e){return Gy(e,"__scheduler_tick__")}function Gy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Wy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();var sp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ap=new $("");function vr(e){return!!e&&typeof e.then=="function"}function lp(e){return!!e&&typeof e.subscribe=="function"}var qy=new $("");var cp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(qy,{optional:!0})??[];injector=N(Gt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=dt(this.injector,i);if(vr(o))n.push(o);else if(lp(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hc=new $("");function Zy(){Td(()=>{let e="";throw new U(600,e)})}function Yy(e){return e.isBoundToModule}var mS=10;var yr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(bt);afterRenderManager=N(Wy);zonelessEnabled=N(oc);rootEffectScheduler=N(Xf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Me;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Fn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(n=>!n))}constructor(){N(zs,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Gt.NULL){return this._injector.get(qe).run(()=>{ve(10);let s=n instanceof Bc;if(!this._injector.get(cp).done){let f="";throw new U(405,f)}let l;s?l=n:l=this._injector.get(Hs).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=Yy(l)?void 0:this._injector.get(di),u=r||l.selector,d=l.create(i,[],u,c),p=d.location.nativeElement,h=d.injector.get(ap,null);return h?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),ks(this.components,d),h?.unregisterApplication(p)}),this._loadComponent(d),ve(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(rp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,X(n),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ui,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<mS;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!xs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Jh(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>xs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ks(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Hc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ks(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ks(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Gs(e,t,n,r){let i=se(),o=ii();if(Vn(i,o,t)){let s=xe(),a=Ns();Fb(a,i,e,t,n,r)}return Gs}function pi(e,t,n,r,i,o,s,a){Do("NgControlFlow");let l=se(),c=xe(),u=un(c.consts,o);return Hy(l,c,e,t,n,r,i,u,256,s,a),up}function up(e,t,n,r,i,o,s,a){Do("NgControlFlow");let l=se(),c=xe(),u=un(c.consts,o);return Hy(l,c,e,t,n,r,i,u,512,s,a),up}function gi(e,t){Do("NgControlFlow");let n=se(),r=ii(),i=n[r]!==Vt?n[r]:-1,o=i!==-1?hv(n,Be+i):void 0,s=0;if(Vn(n,r,e)){let a=X(null);try{if(o!==void 0&&rI(o,s),e!==-1){let l=Be+e,c=hv(n,l),u=vS(n[W],l),d=dI(c,u,n),p=fy(n,u,t,{dehydratedView:d});Ey(c,p,s,yh(u,d))}}finally{X(a)}}else if(o!==void 0){let a=nI(o,s);a!==void 0&&(a[nt]=t)}}function hv(e,t){return e[t]}function vS(e,t){return Ms(e,t)}function Ie(e,t,n){let r=se(),i=ii();if(Vn(r,i,t)){let o=xe(),s=Ns();ay(s,r,e,t,r[_e],n)}return Ie}function pv(e,t,n,r,i){Kh(t,e,n,i?"class":"style",r)}function H(e,t,n,r){let i=se(),o=i[W],s=e+Be,a=o.firstCreatePass?Ty(s,i,2,t,cy,Ff(),n,r):o.data[s];if(uy(a,i,e,t,Ky),Ss(a)){let l=i[W];Yh(l,i,a),Gv(l,a,i)}return r!=null&&jc(i,a),H}function P(){let e=xe(),t=We(),n=dy(t);return e.firstCreatePass&&Ay(e,n),Lf(n)&&Vf(),Pf(),n.classesWithoutHost!=null&&w1(n)&&pv(e,n,se(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&C1(n)&&pv(e,n,se(),n.stylesWithoutHost,!1),P}function ct(e,t,n,r){return H(e,t,n,r),P(),ct}function It(e,t,n,r){let i=se(),o=i[W],s=e+Be,a=o.firstCreatePass?CI(s,o,2,t,n,r):o.data[s];return uy(a,i,e,t,Ky),r!=null&&jc(i,a),It}function St(){let e=We(),t=dy(e);return Lf(t)&&Vf(),Pf(),St}var Ky=(e,t,n,r,i)=>(ic(!0),Jv(t[_e],r,j0()));function dp(){return se()}function Ws(e,t,n){let r=se(),i=ii();if(Vn(r,i,t)){let o=xe(),s=Ns();ly(s,r,e,t,r[_e],n)}return Ws}var si=void 0;function yS(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var DS=["en",[["a","p"],["AM","PM"],si],[["AM","PM"],si,si],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],si,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],si,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",si,"{1} 'at' {0}",si],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yS],oh={};function $c(e){let t=_S(e),n=gv(t);if(n)return n;let r=t.split("-")[0];if(n=gv(r),n)return n;if(r==="en")return DS;throw new U(701,!1)}function gv(e){return e in oh||(oh[e]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[e]),oh[e]}var mi=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(mi||{});function _S(e){return e.toLowerCase().replace(/_/g,"-")}var qs="en-US";var wS=qs;function Qy(e){typeof e=="string"&&(wS=e.toLowerCase().replace(/_/g,"-"))}function Ze(e,t,n){let r=se(),i=xe(),o=We();return Jy(i,r,r[_e],o,e,t,n),Ze}function Zs(e,t,n){let r=se(),i=xe(),o=We();return(o.type&3||n)&&Ry(o,i,r,n,r[_e],e,t,fc(o,r,t)),Zs}function Jy(e,t,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=fc(r,t,o),Ry(r,e,t,s,n,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],h=u[d+1];l??=fc(r,t,o),ov(r,t,p,h,i,l)}if(c&&c.length)for(let d of c)l??=fc(r,t,o),ov(r,t,d,i,i,l)}}function pn(e=1){return V0(e)}function fp(e,t,n,r){WI(e,t,n,r)}function _o(e,t,n){GI(e,t,n)}function Dr(e){let t=se(),n=xe(),r=Gf();Xl(r+1);let i=tp(n,r);if(e.dirty&&y0(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=YI(t,r);e.reset(o,P1),e.notifyOnChanges()}return!0}return!1}function _r(){return zI(se(),Gf())}function ac(e,t){return e<<17|t<<2}function fi(e){return e>>17&32767}function CS(e){return(e&2)==2}function ES(e,t){return e&131071|t<<17}function Ah(e){return e|2}function mo(e){return(e&131068)>>2}function sh(e,t){return e&-131069|t<<2}function bS(e){return(e&1)===1}function Nh(e){return e|1}function IS(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fi(s),l=mo(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||oo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let p=fi(e[a+1]);e[r+1]=ac(p,a),p!==0&&(e[p+1]=sh(e[p+1],r)),e[a+1]=ES(e[a+1],r)}else e[r+1]=ac(a,0),a!==0&&(e[a+1]=sh(e[a+1],r)),a=r;else e[r+1]=ac(l,0),a===0?a=r:e[l+1]=sh(e[l+1],r),l=r;c&&(e[r+1]=Ah(e[r+1])),mv(e,u,r,!0),mv(e,u,r,!1),SS(t,u,e,r,o),s=ac(a,l),o?t.classBindings=s:t.styleBindings=s}function SS(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&oo(o,t)>=0&&(n[r+1]=Nh(n[r+1]))}function mv(e,t,n,r){let i=e[n+1],o=t===null,s=r?fi(i):mo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];MS(l,t)&&(a=!0,e[s+1]=r?Nh(c):Ah(c)),s=r?fi(c):mo(c)}a&&(e[n+1]=r?Ah(i):Nh(i))}function MS(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?oo(e,t)>=0:!1}function wo(e,t){return xS(e,t,null,!0),wo}function xS(e,t,n,r){let i=se(),o=xe(),s=zf(2);if(o.firstUpdatePass&&AS(o,e,s,r),t!==Vt&&Vn(i,s,t)){let a=o.data[cr()];PS(o,a,i,i[_e],e,i[s+1]=FS(t,n),r,s)}}function TS(e,t){return t>=e.expandoStartIndex}function AS(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[cr()],s=TS(e,n);LS(o,r)&&t===null&&!s&&(t=!1),t=NS(i,o,t,r),IS(i,o,t,n,s,r)}}function NS(e,t,n,r){let i=k0(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=ah(null,e,t,n,r),n=Vs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=ah(i,e,t,n,r),o===null){let l=RS(e,t,r);l!==void 0&&Array.isArray(l)&&(l=ah(null,e,t,l[1],r),l=Vs(l,t.attrs,r),OS(e,t,r,l))}else o=kS(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function RS(e,t,n){let r=n?t.classBindings:t.styleBindings;if(mo(r)!==0)return e[fi(r)]}function OS(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[fi(i)]=r}function kS(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Vs(r,s,n)}return Vs(r,t.attrs,n)}function ah(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Vs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Vs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),l0(e,s,n?!0:t[++o]))}return e===void 0?null:e}function PS(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=bS(c)?vv(l,t,n,i,mo(c),s):void 0;if(!Ac(u)){Ac(o)||CS(c)&&(o=vv(l,null,n,i,a,s));let d=xf(cr(),n);Mb(r,s,d,i,o)}}function vv(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=n[i+1];p===Vt&&(p=d?Ct:void 0);let h=d?zl(p,r):u===r?p:void 0;if(c&&!Ac(h)&&(h=zl(l,r)),Ac(h)&&(a=h,s))return a;let f=e[i+1];i=s?fi(f):mo(f)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=zl(l,r))}return a}function Ac(e){return e!==void 0}function FS(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=kn(Pc(e)))),e}function LS(e,t){return(e.flags&(t?8:16))!==0}function j(e,t=""){let n=se(),r=xe(),i=e+Be,o=r.firstCreatePass?Us(r,i,1,t,null):r.data[i],s=VS(r,n,o,t,e);n[i]=s,rc()&&qh(r,n,s,o),co(o,!1)}var VS=(e,t,n,r,i)=>(ic(!0),sb(t[_e],r));function jS(e,t,n,r=""){return Vn(e,ii(),n)?t+Jr(n)+r:Vt}function BS(e,t,n,r,i,o=""){let s=T0(),a=Ny(e,s,n,i);return zf(2),a?t+Jr(n)+r+Jr(i)+o:Vt}function zc(e){return Ue("",e),zc}function Ue(e,t,n){let r=se(),i=jS(r,e,t,n);return i!==Vt&&Xy(r,cr(),i),Ue}function Gc(e,t,n,r,i){let o=se(),s=BS(o,e,t,n,r,i);return s!==Vt&&Xy(o,cr(),s),Gc}function Xy(e,t,n){let r=xf(t,e);ab(e[_e],r,n)}function vi(e,t,n){Kf(t)&&(t=t());let r=se(),i=ii();if(Vn(r,i,t)){let o=xe(),s=Ns();ay(s,r,e,t,r[_e],n)}return vi}function Co(e,t){let n=Kf(e);return n&&e.set(t),n}function yi(e,t){let n=se(),r=xe(),i=We();return Jy(r,n,n[_e],i,e,t),yi}function US(e,t,n){let r=xe();if(r.firstCreatePass){let i=cn(e);Rh(n,r.data,r.blueprint,i,!0),Rh(t,r.data,r.blueprint,i,!1)}}function Rh(e,t,n,r,i){if(e=tt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Rh(e[o],t,n,r,i);else{let o=xe(),s=se(),a=We(),l=Zr(e)?e:tt(e.provide),c=Ef(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Zr(e)||!e.multi){let h=new li(c,i,oe,null),f=ch(l,t,i?u:u+p,d);f===-1?(dh(vc(a,s),o,l),lh(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[f]=h,s[f]=h)}else{let h=ch(l,t,u+p,d),f=ch(l,t,u,u+p),v=h>=0&&n[h],y=f>=0&&n[f];if(i&&!y||!i&&!v){dh(vc(a,s),o,l);let m=zS(i?$S:HS,n.length,i,r,c,e);!i&&y&&(n[f].providerFactory=m),lh(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=eD(n[i?f:h],c,!i&&r);lh(o,e,h>-1?h:f,m)}!i&&r&&y&&n[f].componentProviders++}}}function lh(e,t,n,r){let i=Zr(t),o=h0(t);if(i||o){let l=(o?tt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function eD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ch(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function HS(e,t,n,r,i){return Oh(this.multi,[])}function $S(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ps(r,r[W],this.providerFactory.index,i);s=l.slice(0,a),Oh(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Oh(o,s);return s}function Oh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function zS(e,t,n,r,i,o){let s=new li(e,n,oe,null);return s.multi=[],s.index=t,s.componentProviders=0,eD(s,i,r&&!n),s}function Ys(e,t=[]){return n=>{n.providersResolver=(r,i)=>US(r,i?i(e):e,t)}}function GS(e,t){let n=e[t];return n===Vt?void 0:n}function WS(e,t,n,r,i,o,s){let a=t+n;return Ny(e,a,i,o)?EI(e,a+2,s?r.call(s,i,o):r(i,o)):GS(e,a+2)}function wr(e,t){let n=xe(),r,i=e+Be;n.firstCreatePass?(r=qS(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=er(r.type,!0)),s,a=ut(oe);try{let l=mc(!1),c=o();return mc(l),Tf(n,se(),i,c),c}finally{ut(a)}}function qS(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Cr(e,t,n,r){let i=e+Be,o=se(),s=v0(o,i);return ZS(o,i)?WS(o,x0(),t,s.transform,n,r,s):s.transform(n,r)}function ZS(e,t){return e[W].data[t].pure}var Nc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},hp=(()=>{class e{compileModuleSync(n){return new Mc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Df(n),o=Kv(i.declarations).reduce((s,a)=>{let l=or(a);return l&&s.push(new go(l)),s},[]);return new Nc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var YS=(()=>{class e{zone=N(qe);changeDetectionScheduler=N(Kr);applicationRef=N(yr);applicationErrorHandler=N(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tD({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new qe(ae(k({},nD()),{scheduleInRootZone:n})),[{provide:qe,useFactory:e},{provide:ir,multi:!0,useFactory:()=>{let r=N(YS,{optional:!0});return()=>r.initialize()}},{provide:ir,multi:!0,useFactory:()=>{let r=N(KS);return()=>{r.initialize()}}},t===!0?{provide:Qf,useValue:!0}:[],{provide:Jf,useValue:n??$y},{provide:bt,useFactory:()=>{let r=N(qe),i=N(ze),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(rn),o.handleError(s))})}}}]}function nD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var KS=(()=>{class e{subscription=new Oe;initialized=!1;zone=N(qe);pendingTasks=N(Fn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rD=(()=>{class e{applicationErrorHandler=N(bt);appRef=N(yr);taskService=N(Fn);ngZone=N(qe);zonelessEnabled=N(oc);tracing=N(zs,{optional:!0});disableScheduling=N(Qf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?uv:zy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QS(){return typeof $localize<"u"&&$localize.locale||qs}var Ks=new $("",{providedIn:"root",factory:()=>N(Ks,{optional:!0,skipSelf:!0})||QS()});function Kt(e){return Qm(e)}function Qs(e,t){return ul(e,t?.equal)}var iD=class{[at];constructor(t){this[at]=t}destroy(){this[at].destroy()}};var aD=Symbol("InputSignalNode#UNSET"),uM=ae(k({},dl),{transformFn:void 0,applyValueToInputSignal(e,t){Wi(e,t)}});function lD(e,t){let n=Object.create(uM);n.value=e,n.transformFn=t?.transform;function r(){if($i(n),n.value===aD){let i=null;throw new U(-950,i)}return n.value}return r[at]=n,r}var qc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Bs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},dM=new $("");dM.__NG_ELEMENT_ID__=e=>{let t=We();if(t===null)throw new U(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new U(204,!1)};function oD(e,t){return lD(e,t)}function fM(e){return lD(aD,e)}var cD=(oD.required=fM,oD);var pp=new $(""),hM=new $("");function Js(e){return!e.moduleRef}function pM(e){let t=Js(e)?e.r3Injector:e.moduleRef.injector,n=t.get(qe);return n.run(()=>{Js(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(bt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Js(e)){let o=()=>t.destroy(),s=e.platformInjector.get(pp);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(pp);s.add(o),e.moduleRef.onDestroy(()=>{ks(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return mM(r,n,()=>{let o=t.get(Fn),s=o.add(),a=t.get(cp);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(Ks,qs);if(Qy(l||qs),!t.get(hM,!0))return Js(e)?t.get(yr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Js(e)){let u=t.get(yr);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return gM?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var gM;function mM(e,t,n){try{let r=n();return vr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Wc=null;function vM(e=[],t){return Gt.create({name:t,providers:[{provide:_s,useValue:"platform"},{provide:pp,useValue:new Set([()=>Wc=null])},...e]})}function yM(e=[]){if(Wc)return Wc;let t=vM(e);return Wc=t,Zy(),DM(t),t}function DM(e){let t=e.get(Oc,null);dt(e,()=>{t?.forEach(n=>n())})}var Di=(()=>{class e{static __NG_ELEMENT_ID__=_M}return e})();function _M(e){return wM(We(),se(),(e&16)===16)}function wM(e,t,n){if(lr(e)&&!n){let r=Ft(e.index,t);return new dr(r,r)}else if(e.type&175){let r=t[kt];return new dr(r,t)}return null}function uD(e){ve(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=yM(r),o=[tD({}),{provide:Kr,useExisting:rD},U0,...n||[]],s=new Ls({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pM({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ve(9)}}function Eo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var hD=null;function jt(){return hD}function gp(e){hD??=e}var Xs=class{},mp=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>N(pD),providedIn:"platform"})}return e})();var pD=(()=>{class e extends mp{_location;_history;_doc=N(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jt().getBaseHref(this._doc)}onPopState(n){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function gD(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function dD(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Er(e){return e&&e[0]!=="?"?`?${e}`:e}var bo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>N(vD),providedIn:"root"})}return e})(),mD=new $(""),vD=(()=>{class e extends bo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(te(mp),te(mD,8))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Io=(()=>{class e{_subject=new Me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bM(dD(fD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Er(r))}normalize(n){return e.stripTrailingSlash(EM(this._basePath,fD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Er;static joinWithSlash=gD;static stripTrailingSlash=dD;static \u0275fac=function(r){return new(r||e)(te(bo))};static \u0275prov=G({token:e,factory:()=>CM(),providedIn:"root"})}return e})();function CM(){return new Io(te(bo))}function EM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function fD(e){return e.replace(/\/index.html$/,"")}function bM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Dp=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Dp||{});var gn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function So(e,t){let n=$c(e),r=n[mi.NumberSymbols][t];if(typeof r>"u"){if(t===gn.CurrencyDecimal)return n[mi.NumberSymbols][gn.Decimal];if(t===gn.CurrencyGroup)return n[mi.NumberSymbols][gn.Group]}return r}function _D(e,t){return $c(e)[mi.NumberFormats][t]}var IM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,yD=22,Zc=".",ea="0",SM=";",MM=",",vp="#";function xM(e,t,n,r,i,o,s=!1){let a="",l=!1;if(!isFinite(e))a=So(n,gn.Infinity);else{let c=NM(e);s&&(c=AM(c));let u=t.minInt,d=t.minFrac,p=t.maxFrac;if(o){let g=o.match(IM);if(g===null)throw new U(2306,!1);let D=g[1],w=g[3],_=g[5];D!=null&&(u=yp(D)),w!=null&&(d=yp(w)),_!=null?p=yp(_):w!=null&&d>p&&(p=d)}RM(c,d,p);let h=c.digits,f=c.integerLen,v=c.exponent,y=[];for(l=h.every(g=>!g);f<u;f++)h.unshift(0);for(;f<0;f++)h.unshift(0);f>0?y=h.splice(f,h.length):(y=h,h=[0]);let m=[];for(h.length>=t.lgSize&&m.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)m.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&m.unshift(h.join("")),a=m.join(So(n,r)),y.length&&(a+=So(n,i)+y.join("")),v&&(a+=So(n,gn.Exponential)+"+"+v)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function wD(e,t,n){let r=_D(t,Dp.Decimal),i=TM(r,So(t,gn.MinusSign));return xM(e,i,t,gn.Group,gn.Decimal,n)}function TM(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(SM),i=r[0],o=r[1],s=i.indexOf(Zc)!==-1?i.split(Zc):[i.substring(0,i.lastIndexOf(ea)+1),i.substring(i.lastIndexOf(ea)+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf(vp));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===ea?n.minFrac=n.maxFrac=u+1:d===vp?n.maxFrac=u+1:n.posSuf+=d}let c=a.split(MM);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(vp);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function AM(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function NM(e){let t=Math.abs(e)+"",n=0,r,i,o,s,a;for((i=t.indexOf(Zc))>-1&&(t=t.replace(Zc,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===ea;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===ea;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>yD&&(r=r.splice(0,yD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function RM(e,t,n){if(t>n)throw new U(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=t+e.integerLen,u=r.reduceRight(function(d,p,h,f){return p=p+d,f[h]=p<10?p:p-10,l&&(f[h]===0&&h>=c?f.pop():l=!1),p>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function yp(e){let t=parseInt(e);if(isNaN(t))throw new U(2305,!1);return t}var _p=(()=>{class e{_viewContainer;_context=new Yc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){DD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){DD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(oe(pr),oe(ci))};static \u0275dir=ft({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Yc=class{$implicit=null;ngIf=null};function DD(e,t){if(e&&!e.createEmbeddedView)throw new U(2020,!1)}function OM(e,t){return new U(2100,!1)}var ta=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!kM(n))return null;i||=this._locale;try{let o=PM(n);return wD(o,i,r)}catch(o){throw OM(e,o.message)}}static \u0275fac=function(r){return new(r||e)(oe(Ks,16))};static \u0275pipe=np({name:"number",type:e,pure:!0})}return e})();function kM(e){return!(e==null||e===""||e!==e)}function PM(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new U(2309,!1);return e}var br=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bn({type:e});static \u0275inj=on({})}return e})();function wp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var na=class{};var CD="browser";var Qc=new $(""),Mp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(te(Qc),te(qe))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),ra=class{_doc;constructor(t){this._doc=t}manager},Ep="ng-app-id";function ED(e){for(let t of e)t.remove()}function bD(e,t){let n=t.createElement("style");return n.textContent=e,n}function LM(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ep}="${t}"],link[${Ep}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ep),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ip(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var xp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,LM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,bD);r?.forEach(i=>this.addUsage(i,this.external,Ip))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ED(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ED(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,bD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ip(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(te(rt),te(Rc),te(kc,8),te(yo))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),bp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tp=/%COMP%/g;var SD="%COMP%",VM=`_nghost-${SD}`,jM=`_ngcontent-${SD}`,BM=!0,UM=new $("",{providedIn:"root",factory:()=>BM});function HM(e){return jM.replace(Tp,e)}function $M(e){return VM.replace(Tp,e)}function MD(e,t){return t.map(n=>n.replace(Tp,e))}var Ap=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ia(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Kc?i.applyToHost(n):i instanceof oa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Ln.Emulated:o=new Kc(l,c,r,this.appId,u,s,a,d,p);break;case Ln.ShadowDom:return new Sp(l,c,n,r,s,a,this.nonce,d,p);default:o=new oa(l,c,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(te(Mp),te(xp),te(Rc),te(UM),te(rt),te(yo),te(qe),te(kc),te(zs,8))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(bp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ID(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ID(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=bp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=bp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(hn.DashCase|hn.Important)?t.style.setProperty(n,r,i&hn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&hn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=jt().getGlobalEventTarget(this.doc,t),!t))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function ID(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Sp=class extends ia{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=MD(i.id,u);for(let p of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=p,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let p of d){let h=Ip(p,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oa=class extends ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?MD(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kc=class extends oa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=HM(u),this.hostAttr=$M(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Jc=class e extends Xs{supportsDOMEvents=!0;static makeCurrent(){gp(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=zM();return n==null?null:GM(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return wp(document.cookie,t)}},sa=null;function zM(){return sa=sa||document.head.querySelector("base"),sa?sa.getAttribute("href"):null}function GM(e){return new URL(e,document.baseURI).pathname}var WM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),TD=(()=>{class e extends ra{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(te(rt))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),xD=["alt","control","meta","shift"],qM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},AD=(()=>{class e extends ra{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xD.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=qM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),xD.forEach(s=>{if(s!==i){let a=ZM[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(te(rt))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function Np(e,t){let n=k({rootComponent:e},YM(t));return uD(n)}function YM(e){return{appProviders:[...ex,...e?.providers??[]],platformProviders:XM}}function KM(){Jc.makeCurrent()}function QM(){return new rn}function JM(){return Fh(document),document}var XM=[{provide:yo,useValue:CD},{provide:Oc,useValue:KM,multi:!0},{provide:rt,useFactory:JM}];var ex=[{provide:_s,useValue:"root"},{provide:rn,useFactory:QM},{provide:Qc,useClass:TD,multi:!0,deps:[rt]},{provide:Qc,useClass:AD,multi:!0,deps:[rt]},Ap,xp,Mp,{provide:ui,useExisting:Ap},{provide:na,useClass:WM},[]];var ND=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(te(rt))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ne="primary",wa=Symbol("RouteTitle"),Fp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ci(e){return new Fp(e)}function jD(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function nx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mn(e[n],t[n]))return!1;return!0}function mn(e,t){let n=e?Lp(e):void 0,r=t?Lp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!BD(e[i],t[i]))return!1;return!0}function Lp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function BD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function UD(e){return e.length>0?e[e.length-1]:null}function zn(e){return Ud(e)?e:vr(e)?Ce(Promise.resolve(e)):K(e)}var rx={exact:$D,subset:zD},HD={exact:ix,subset:ox,ignored:()=>!0};function RD(e,t,n){return rx[n.paths](e.root,t.root,n.matrixParams)&&HD[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function ix(e,t){return mn(e,t)}function $D(e,t,n){if(!_i(e.segments,t.segments)||!tu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!$D(e.children[r],t.children[r],n))return!1;return!0}function ox(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>BD(e[n],t[n]))}function zD(e,t,n){return GD(e,t,t.segments,n)}function GD(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!_i(i,n)||t.hasChildren()||!tu(i,n,r))}else if(e.segments.length===n.length){if(!_i(e.segments,n)||!tu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!zD(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!_i(e.segments,i)||!tu(e.segments,i,r)||!e.children[ne]?!1:GD(e.children[ne],t,o,r)}}function tu(e,t,n){return t.every((r,i)=>HD[n](e[i].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ge([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return lx.serialize(this)}},ge=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nu(this)}},Ir=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return qD(this)}};function sx(e,t){return _i(e,t)&&e.every((n,r)=>mn(n.parameters,t[r].parameters))}function _i(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function ax(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ne&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(t(i,r)))}),n}var Ca=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>new Ei,providedIn:"root"})}return e})(),Ei=class{parse(t){let n=new jp(t);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${aa(t.root,!0)}`,r=dx(t.queryParams),i=typeof t.fragment=="string"?`#${cx(t.fragment)}`:"";return`${n}${r}${i}`}},lx=new Ei;function nu(e){return e.segments.map(t=>qD(t)).join("/")}function aa(e,t){if(!e.hasChildren())return nu(e);if(t){let n=e.children[ne]?aa(e.children[ne],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${aa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ax(e,(r,i)=>i===ne?[aa(e.children[ne],!1)]:[`${i}:${aa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ne]!=null?`${nu(e)}/${n[0]}`:`${nu(e)}/(${n.join("//")})`}}function WD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xc(e){return WD(e).replace(/%3B/gi,";")}function cx(e){return encodeURI(e)}function Vp(e){return WD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ru(e){return decodeURIComponent(e)}function OD(e){return ru(e.replace(/\+/g,"%20"))}function qD(e){return`${Vp(e.path)}${ux(e.parameters)}`}function ux(e){return Object.entries(e).map(([t,n])=>`;${Vp(t)}=${Vp(n)}`).join("")}function dx(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xc(n)}=${Xc(i)}`).join("&"):`${Xc(n)}=${Xc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var fx=/^[^\/()?;#]+/;function Rp(e){let t=e.match(fx);return t?t[0]:""}var hx=/^[^\/()?;=#]+/;function px(e){let t=e.match(hx);return t?t[0]:""}var gx=/^[^=?&#]+/;function mx(e){let t=e.match(gx);return t?t[0]:""}var vx=/^[^&#]+/;function yx(e){let t=e.match(vx);return t?t[0]:""}var jp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ne]=new ge(t,n)),r}parseSegment(){let t=Rp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(t),new Ir(ru(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=px(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Rp(this.remaining);i&&(r=i,this.capture(r))}t[ru(n)]=ru(r)}parseQueryParam(t){let n=mx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=yx(this.remaining);s&&(r=s,this.capture(r))}let i=OD(n),o=OD(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new U(4011,!1)}};function ZD(e){return e.segments.length>0?new ge([],{[ne]:e}):e}function YD(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=YD(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ge(e.segments,t);return Dx(n)}function Dx(e){if(e.numberOfChildren===1&&e.children[ne]){let t=e.children[ne];return new ge(e.segments.concat(t.segments),t.children)}return e}function Sr(e){return e instanceof yn}function KD(e,t,n=null,r=null){let i=QD(e);return JD(i,t,n,r)}function QD(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ge(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=ZD(r);return t??i}function JD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Op(i,i,i,n,r);let o=_x(t);if(o.toRoot())return Op(i,i,new ge([],{}),n,r);let s=wx(o,i,e),a=s.processChildren?ca(s.segmentGroup,s.index,o.commands):e_(s.segmentGroup,s.index,o.commands);return Op(i,s.segmentGroup,a,n,r)}function iu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fa(e){return typeof e=="object"&&e!=null&&e.outlets}function Op(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=XD(e,t,n);let a=ZD(YD(s));return new yn(a,o,i)}function XD(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=XD(o,t,n)}),new ge(e.segments,r)}var ou=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&iu(r[0]))throw new U(4003,!1);let i=r.find(fa);if(i&&i!==UD(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _x(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ou(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ou(n,t,r)}var To=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function wx(e,t,n){if(e.isAbsolute)return new To(t,!0,0);if(!n)return new To(t,!1,NaN);if(n.parent===null)return new To(n,!0,0);let r=iu(e.commands[0])?0:1,i=n.segments.length-1+r;return Cx(n,i,e.numberOfDoubleDots)}function Cx(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new To(r,!1,i-o)}function Ex(e){return fa(e[0])?e[0].outlets:{[ne]:e}}function e_(e,t,n){if(e??=new ge([],{}),e.segments.length===0&&e.hasChildren())return ca(e,t,n);let r=bx(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ge(e.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ge(e.segments.slice(r.pathIndex),e.children),ca(o,0,i)}else return r.match&&i.length===0?new ge(e.segments,{}):r.match&&!e.hasChildren()?Bp(e,t,n):r.match?ca(e,0,i):Bp(e,t,n)}function ca(e,t,n){if(n.length===0)return new ge(e.segments,{});{let r=Ex(n),i={};if(Object.keys(r).some(o=>o!==ne)&&e.children[ne]&&e.numberOfChildren===1&&e.children[ne].segments.length===0){let o=ca(e.children[ne],t,n);return new ge(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=e_(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(e.segments,i)}}function bx(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(fa(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!PD(l,c,s))return o;r+=2}else{if(!PD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Bp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(fa(o)){let l=Ix(o.outlets);return new ge(r,l)}if(i===0&&iu(n[0])){let l=e.segments[t];r.push(new Ir(l.path,kD(n[0]))),i++;continue}let s=fa(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&iu(a)?(r.push(new Ir(s,kD(a))),i+=2):(r.push(new Ir(s,{})),i++)}return new ge(r,{})}function Ix(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Bp(new ge([],{}),0,r))}),t}function kD(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function PD(e,t,n){return e==n.path&&mn(t,n.parameters)}var ua="imperative",Ke=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ke||{}),xt=class{id;url;constructor(t,n){this.id=t,this.url=n}},bi=class extends xt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends xt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ht=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(ht||{}),ha=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ha||{}),vn=class extends xt{reason;code;type=Ke.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hn=class extends xt{reason;code;type=Ke.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},No=class extends xt{error;target;type=Ke.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pa=class extends xt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},su=class extends xt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},au=class extends xt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lu=class extends xt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends xt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class{route;type=Ke.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},du=class{route;type=Ke.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fu=class{snapshot;type=Ke.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hu=class{snapshot;type=Ke.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pu=class{snapshot;type=Ke.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gu=class{snapshot;type=Ke.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ga=class{},Ro=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Sx(e){return!(e instanceof ga)&&!(e instanceof Ro)}function Mx(e,t){return e.providers&&!e._injector&&(e._injector=$s(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Qt(e){return e.outlet||ne}function xx(e,t){let n=e.filter(r=>Qt(r)===t);return n.push(...e.filter(r=>Qt(r)!==t)),n}function Po(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Po(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Fo(this.rootInjector)}},Fo=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new mu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(te(ze))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Up(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Up(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Hp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Hp(t,this._root).map(n=>n.value)}};function Up(e,t){if(e===t.value)return t;for(let n of t.children){let r=Up(e,n);if(r)return r}return null}function Hp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Hp(e,n);if(r.length)return r.unshift(t),r}return[]}var Mt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function xo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ma=class extends vu{snapshot;constructor(t,n){super(t),this.snapshot=n,Kp(this,t)}toString(){return this.snapshot.toString()}};function t_(e){let t=Tx(e),n=new et([new Ir("",{})]),r=new et({}),i=new et({}),o=new et({}),s=new et(""),a=new $n(n,r,o,s,i,ne,e,t.root);return a.snapshot=t.root,new ma(new Mt(a,[]),t)}function Tx(e){let t={},n={},r={},i="",o=new wi([],t,r,i,n,ne,e,null,{});return new va("",new Mt(o,[]))}var $n=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ce(c=>c[wa]))??K(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(t=>Ci(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(t=>Ci(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:k(k({},t.params),e.params),data:k(k({},t.data),e.data),resolve:k(k(k(k({},e.data),t.data),i?.data),e._resolvedData)}:r={params:k({},e.params),data:k({},e.data),resolve:k(k({},e.data),e._resolvedData??{})},i&&r_(i)&&(r.resolve[wa]=i.title),r}var wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wa]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},va=class extends vu{url;constructor(t,n){super(n),this.url=t,Kp(this,n)}toString(){return n_(this._root)}};function Kp(e,t){t.value._routerState=e,t.children.forEach(n=>Kp(e,n))}function n_(e){let t=e.children.length>0?` { ${e.children.map(n_).join(", ")} } `:"";return`${e.value}${t}`}function kp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mn(t.params,n.params)||e.paramsSubject.next(n.params),nx(t.url,n.url)||e.urlSubject.next(n.url),mn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $p(e,t){let n=mn(e.params,t.params)&&sx(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||$p(e.parent,t.parent))}function r_(e){return typeof e.title=="string"||e.title===null}var i_=new $(""),Ea=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=cD(void 0);parentContexts=N(Fo);location=N(pr);changeDetector=N(Di);inputBinder=N(Cu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new zp(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jn]})}return e})(),zp=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===$n?this.route:t===Fo?this.childContexts:t===i_?this.outletData:this.parent.get(t,n)}},Cu=new $("");var Qp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Te({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ct(0,"router-outlet")},dependencies:[Ea],encapsulation:2})}return e})();function Jp(e){let t=e.children&&e.children.map(Jp),n=t?ae(k({},e),{children:t}):k({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Qp),n}function Ax(e,t,n){let r=ya(e,t._root,n?n._root:void 0);return new ma(r,t)}function ya(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Nx(e,t,n);return new Mt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ya(e,a)),s}}let r=Rx(t.value),i=t.children.map(o=>ya(e,o));return new Mt(r,i)}}function Nx(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ya(e,r,i);return ya(e,r)})}function Rx(e){return new $n(new et(e.url),new et(e.params),new et(e.queryParams),new et(e.fragment),new et(e.data),e.outlet,e.component,e)}var Oo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},o_="ngNavigationCancelingError";function Du(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Sr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=s_(!1,ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function s_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[o_]=!0,n.cancellationCode=t,n}function Ox(e){return a_(e)&&Sr(e.url)}function a_(e){return!!e&&e[o_]}var kx=(e,t,n,r)=>ce(i=>(new Gp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Gp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),kp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=xo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=xo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=xo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=xo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new hu(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(kp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},_u=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ao=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Px(e,t,n){let r=e._root,i=t?t._root:null;return la(r,i,n,[r.value])}function Fx(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Lo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!af(e)?e:t.get(e):r}function la(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xo(t);return e.children.forEach(s=>{Lx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>da(a,n.getContext(s),i)),i}function Lx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Vx(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _u(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?la(e,t,a?a.children:null,r,i):la(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ao(a.outlet.component,s))}else s&&da(t,a,i),i.canActivateChecks.push(new _u(r)),o.component?la(e,null,a?a.children:null,r,i):la(e,null,n,r,i);return i}function Vx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!_i(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_i(e.url,t.url)||!mn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$p(e,t)||!mn(e.queryParams,t.queryParams);case"paramsChange":default:return!$p(e,t)}}function da(e,t,n){let r=xo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?da(s,t.children.getContext(o),n):da(s,null,n):da(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ao(t.outlet.component,i)):n.canDeactivateChecks.push(new Ao(null,i)):n.canDeactivateChecks.push(new Ao(null,i))}function ba(e){return typeof e=="function"}function jx(e){return typeof e=="boolean"}function Bx(e){return e&&ba(e.canLoad)}function Ux(e){return e&&ba(e.canActivate)}function Hx(e){return e&&ba(e.canActivateChild)}function $x(e){return e&&ba(e.canDeactivate)}function zx(e){return e&&ba(e.canMatch)}function l_(e){return e instanceof Tn||e?.name==="EmptyError"}var eu=Symbol("INITIAL_VALUE");function ko(){return Nt(e=>Ol(e.map(t=>t.pipe(Nn(1),Gd(eu)))).pipe(ce(t=>{for(let n of t)if(n!==!0){if(n===eu)return eu;if(n===!1||Gx(n))return n}return!0}),wt(t=>t!==eu),Nn(1)))}function Gx(e){return Sr(e)||e instanceof Oo}function Wx(e,t){return Pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(ae(k({},n),{guardsResult:!0})):qx(s,r,i,e).pipe(Pe(a=>a&&jx(a)?Zx(r,o,e,t):K(a)),ce(a=>ae(k({},n),{guardsResult:a})))})}function qx(e,t,n,r){return Ce(e).pipe(Pe(i=>Xx(i.component,i.route,n,t,r)),Rn(i=>i!==!0,!0))}function Zx(e,t,n,r){return Ce(t).pipe(Gr(i=>no(Kx(i.route.parent,r),Yx(i.route,r),Jx(e,i.path,n),Qx(e,i.route,n))),Rn(i=>i!==!0,!0))}function Yx(e,t){return e!==null&&t&&t(new pu(e)),K(!0)}function Kx(e,t){return e!==null&&t&&t(new fu(e)),K(!0)}function Qx(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>ds(()=>{let s=Po(t)??n,a=Lo(o,s),l=Ux(a)?a.canActivate(t,e):dt(s,()=>a(t,e));return zn(l).pipe(Rn())}));return K(i).pipe(ko())}function Jx(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Fx(s)).filter(s=>s!==null).map(s=>ds(()=>{let a=s.guards.map(l=>{let c=Po(s.node)??n,u=Lo(l,c),d=Hx(u)?u.canActivateChild(r,e):dt(c,()=>u(r,e));return zn(d).pipe(Rn())});return K(a).pipe(ko())}));return K(o).pipe(ko())}function Xx(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let l=Po(t)??i,c=Lo(a,l),u=$x(c)?c.canDeactivate(e,t,n,r):dt(l,()=>c(e,t,n,r));return zn(u).pipe(Rn())});return K(s).pipe(ko())}function eT(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Lo(s,e),l=Bx(a)?a.canLoad(t,n):dt(e,()=>a(t,n));return zn(l)});return K(o).pipe(ko(),c_(r))}function c_(e){return Ld($e(t=>{if(typeof t!="boolean")throw Du(e,t)}),ce(t=>t===!0))}function tT(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Lo(s,e),l=zx(a)?a.canMatch(t,n):dt(e,()=>a(t,n));return zn(l)});return K(o).pipe(ko(),c_(r))}var Da=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},_a=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Mo(e){return eo(new Da(e))}function nT(e){return eo(new U(4e3,!1))}function rT(e){return eo(s_(!1,ht.GuardRejected))}var Wp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[ne])return nT(`${t.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(t,n,r,i,o){return iT(n,i,o).pipe(ce(s=>{if(s instanceof yn)throw new _a(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new _a(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ge(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function iT(e,t,n){if(typeof e=="string")return K(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=t;return zn(dt(n,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d})))}var qp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oT(e,t,n,r,i){let o=u_(e,t,n);return o.matched?(r=Mx(t,r),tT(r,t,n,i).pipe(ce(s=>s===!0?o:k({},qp)))):K(o)}function u_(e,t,n){if(t.path==="**")return sT(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?k({},qp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||jD)(n,e,t);if(!i)return k({},qp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sT(e){return{matched:!0,parameters:e.length>0?UD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function FD(e,t,n,r){return n.length>0&&cT(e,n,r)?{segmentGroup:new ge(t,lT(r,new ge(n,e.children))),slicedSegments:[]}:n.length===0&&uT(e,n,r)?{segmentGroup:new ge(e.segments,aT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ge(e.segments,e.children),slicedSegments:n}}function aT(e,t,n,r){let i={};for(let o of n)if(Eu(e,t,o)&&!r[Qt(o)]){let s=new ge([],{});i[Qt(o)]=s}return k(k({},r),i)}function lT(e,t){let n={};n[ne]=t;for(let r of e)if(r.path===""&&Qt(r)!==ne){let i=new ge([],{});n[Qt(r)]=i}return n}function cT(e,t,n){return n.some(r=>Eu(e,t,r)&&Qt(r)!==ne)}function uT(e,t,n){return n.some(r=>Eu(e,t,r))}function Eu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dT(e,t,n){return t.length===0&&!e.children[n]}var Zp=class{};function fT(e,t,n,r,i,o,s="emptyOnly"){return new Yp(e,t,n,r,i,s,o).recognize()}var hT=31,Yp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wp(this.urlSerializer,this.urlTree)}noMatchError(t){return new U(4002,`'${t.segmentGroup}'`)}recognize(){let t=FD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),o=new va("",i),s=KD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new wi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ne,n).pipe(ce(r=>({children:r,rootSnapshot:n})),An(r=>{if(r instanceof _a)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Da?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Mt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(Gr(s=>{let a=r.children[s],l=xx(n,s);return this.processSegmentGroup(t,l,a,s,i)}),zd((s,a)=>(s.push(...a),s)),Xn(null),$d(),Pe(s=>{if(s===null)return Mo(r);let a=d_(s);return pT(a),K(a)}))}processSegment(t,n,r,i,o,s,a){return Ce(n).pipe(Gr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(An(c=>{if(c instanceof Da)return K(null);throw c}))),Rn(l=>!!l),An(l=>{if(l_(l))return dT(r,i,o)?K(new Zp):Mo(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Qt(r)!==s&&(s===ne||!Eu(i,o,r))?Mo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Mo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=u_(n,i,o);if(!l)return Mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hT&&(this.allowRedirects=!1));let h=new wi(o,c,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,LD(i),Qt(i),i.component??i._loadedComponent??null,i,VD(i)),f=yu(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(f.params),h.data=Object.freeze(f.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Nt(y=>this.applyRedirects.lineralizeSegments(i,y)),Pe(y=>this.processSegment(t,r,n,y.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=oT(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Nt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Nt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:h}=l,f=new wi(p,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,LD(r),Qt(r),r.component??r._loadedComponent??null,r,VD(r)),v=yu(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(v.params),f.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:m}=FD(n,p,h,c);if(m.length===0&&y.hasChildren())return this.processChildren(u,c,y,f).pipe(ce(D=>new Mt(f,D)));if(c.length===0&&m.length===0)return K(new Mt(f,[]));let g=Qt(r)===o;return this.processSegment(u,c,y,m,g?ne:o,!0,f).pipe(ce(D=>new Mt(f,D instanceof Mt?[D]:[])))}))):Mo(n)))}getChildConfig(t,n,r){return n.children?K({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):eT(t,n,r,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(t,n).pipe($e(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rT(n))):K({routes:[],injector:t})}};function pT(e){e.sort((t,n)=>t.value.outlet===ne?-1:n.value.outlet===ne?1:t.value.outlet.localeCompare(n.value.outlet))}function gT(e){let t=e.value.routeConfig;return t&&t.path===""}function d_(e){let t=[],n=new Set;for(let r of e){if(!gT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=d_(r.children);t.push(new Mt(r.value,i))}return t.filter(r=>!n.has(r))}function LD(e){return e.data||{}}function VD(e){return e.resolve||{}}function mT(e,t,n,r,i,o){return Pe(s=>fT(e,t,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:l})=>ae(k({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function vT(e,t){return Pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of f_(l))s.add(c);let a=0;return Ce(s).pipe(Gr(l=>o.has(l)?yT(l,r,e,t):(l.data=yu(l,l.parent,e).resolve,K(void 0))),$e(()=>a++),ro(1),Pe(l=>a===s.size?K(n):vt))})}function f_(e){let t=e.children.map(n=>f_(n)).flat();return[e,...t]}function yT(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!r_(i)&&(o[wa]=i.title),ds(()=>(e.data=yu(e,e.parent,n).resolve,DT(o,e,t,r).pipe(ce(s=>(e._resolvedData=s,e.data=k(k({},e.data),s),null)))))}function DT(e,t,n,r){let i=Lp(e);if(i.length===0)return K({});let o={};return Ce(i).pipe(Pe(s=>_T(e[s],t,n,r).pipe(Rn(),$e(a=>{if(a instanceof Oo)throw Du(new Ei,a);o[s]=a}))),ro(1),ce(()=>o),An(s=>l_(s)?vt:eo(s)))}function _T(e,t,n,r){let i=Po(t)??r,o=Lo(e,i),s=o.resolve?o.resolve(t,n):dt(i,()=>o(t,n));return zn(s)}function Pp(e){return Nt(t=>{let n=e(t);return n?Ce(n).pipe(ce(()=>t)):K(t)})}var Xp=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[wa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>N(h_),providedIn:"root"})}return e})(),h_=(()=>{class e extends Xp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(te(ND))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vo=new $("",{providedIn:"root",factory:()=>({})}),Ia=new $(""),p_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(hp);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=zn(dt(n,()=>r.loadComponent())).pipe(ce(m_),$e(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),fs(()=>{this.componentLoaders.delete(r)})),o=new Xi(i,()=>new Me).pipe(Ji());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=g_(r,this.compiler,n,this.onLoadEndListener).pipe(fs(()=>{this.childrenLoaders.delete(r)})),s=new Xi(o,()=>new Me).pipe(Ji());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function g_(e,t,n,r){return zn(dt(n,()=>e.loadChildren())).pipe(ce(m_),Pe(i=>i instanceof Uc||Array.isArray(i)?K(i):Ce(t.compileModuleAsync(i))),ce(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ia,[],{optional:!0,self:!0}).flat()),{routes:s.map(Jp),injector:o}}))}function wT(e){return e&&typeof e=="object"&&"default"in e}function m_(e){return wT(e)?e.default:e}var bu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>N(CT),providedIn:"root"})}return e})(),CT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),v_=new $("");var y_=new $(""),D_=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Me;transitionAbortWithErrorSubject=new Me;configLoader=N(p_);environmentInjector=N(ze);destroyRef=N(oi);urlSerializer=N(Ca);rootContexts=N(Fo);location=N(Io);inputBindingEnabled=N(Cu,{optional:!0})!==null;titleStrategy=N(Xp);options=N(Vo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(bu);createViewTransition=N(v_,{optional:!0});navigationErrorHandler=N(y_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new uu(i)),r=i=>this.events.next(new du(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(k({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new et(null),this.transitions.pipe(wt(r=>r!==null),Nt(r=>{let i=!1;return K(r).pipe(Nt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ht.SupersededByNewNavigation),vt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ae(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Hn(o.id,this.urlSerializer.serialize(o.rawUrl),l,ha.IgnoredSameUrlNavigation)),o.resolve(!1),vt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(Nt(l=>(this.events.next(new bi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?vt:Promise.resolve(l))),mT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ae(k({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new pa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:p}=o,h=new bi(l,this.urlSerializer.serialize(c),u,d);this.events.next(h);let f=t_(this.rootComponentType).snapshot;return this.currentTransition=r=ae(k({},o),{targetSnapshot:f,urlAfterRedirects:c,extras:ae(k({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,K(r)}else{let l="";return this.events.next(new Hn(o.id,this.urlSerializer.serialize(o.extractedUrl),l,ha.IgnoredByUrlHandlingStrategy)),o.resolve(!1),vt}}),$e(o=>{let s=new su(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=ae(k({},o),{guards:Px(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Wx(this.environmentInjector,o=>this.events.next(o)),$e(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Du(this.urlSerializer,o.guardsResult);let s=new au(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),wt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ht.GuardRejected),!1)),Pp(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe($e(s=>{let a=new lu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Nt(s=>{let a=!1;return K(s).pipe(vT(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ht.NoDataFromResolver)}}))}),$e(s=>{let a=new cu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Pp(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=Po(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe($e(u=>{a.component=u}),ce(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Ol(s(o.targetSnapshot.root)).pipe(Xn(null),Nn(1))}),Pp(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ce(a).pipe(ce(()=>r)):K(r)}),ce(o=>{let s=Ax(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ae(k({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),$e(()=>{this.events.next(new ga)}),kx(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Nn(1),Pl(new ue(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(wt(()=>!i&&!r.targetRouterState),$e(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ht.Aborted)}))),$e({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Pl(this.transitionAbortWithErrorSubject.pipe($e(o=>{throw o}))),fs(()=>{i||this.cancelNavigationTransition(r,"",ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),An(o=>{if(this.destroyed)return r.resolve(!1),vt;if(i=!0,a_(o))this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Ox(o)?this.events.next(new Ro(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new No(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=dt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Oo){let{message:l,cancellationCode:c}=Du(this.urlSerializer,a);this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Ro(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return vt}))}))}cancelNavigationTransition(n,r,i){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ET(e){return e!==ua}var __=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>N(bT),providedIn:"root"})}return e})(),wu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},bT=(()=>{class e extends wu{static \u0275fac=(()=>{let n;return function(i){return(n||(n=hi(e)))(i||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w_=(()=>{class e{urlSerializer=N(Ca);options=N(Vo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Io);urlHandlingStrategy=N(bu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof yn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=t_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:()=>N(IT),providedIn:"root"})}return e})(),IT=(()=>{class e extends w_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof bi?this.updateStateMemento():n instanceof Hn?this.commitTransition(r):n instanceof pa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ga?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof vn&&n.code!==ht.SupersededByNewNavigation&&n.code!==ht.Redirect?this.restoreHistory(r):n instanceof No?this.restoreHistory(r,!0):n instanceof Jt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=hi(e)))(i||e)}})();static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eg(e,t){e.events.pipe(wt(n=>n instanceof Jt||n instanceof vn||n instanceof No||n instanceof Hn),ce(n=>n instanceof Jt||n instanceof Hn?0:(n instanceof vn?n.code===ht.Redirect||n.code===ht.SupersededByNewNavigation:!1)?2:1),wt(n=>n!==2),Nn(1)).subscribe(()=>{t()})}var ST={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(sp);stateManager=N(w_);options=N(Vo,{optional:!0})||{};pendingTasks=N(Fn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(D_);urlSerializer=N(Ca);location=N(Io);urlHandlingStrategy=N(bu);injector=N(ze);_events=new Me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(__);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Ia,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Cu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vn&&r.code!==ht.Redirect&&r.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jt)this.navigated=!0;else if(r instanceof Ro){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ET(i.source)},s);this.scheduleNavigation(a,ua,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Sx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ua,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=k({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(bt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Jp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=QD(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return JD(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Sr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ua,null,r)}navigate(n,r={skipLocationChange:!1}){return xT(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},ST):r===!1?i=k({},MT):i=r,Sr(n))return RD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return RD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return eg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xT(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new U(4008,!1)}var jo=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=dn(null);get href(){return Kt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Me;applicationErrorHandler=N(bt);options=N(Vo,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new qc("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Jt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Sr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Sr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(oe(Mr),oe($n),Bs("tabindex"),oe(hr),oe(Lt),oe(bo))};static \u0275dir=ft({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ze("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gs("href",i.reactiveHref(),jh)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Eo],replaceUrl:[2,"replaceUrl","replaceUrl",Eo],routerLink:"routerLink"},features:[jn]})}return e})(),tg=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Fe;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Jt&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(to()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ce(n).pipe(to()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=AT(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(oe(Mr),oe(Lt),oe(hr),oe(Di),oe(jo,8))};static \u0275dir=ft({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&fp(o,jo,5),r&2){let s;Dr(s=_r())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[jn]})}return e})();function AT(e){return!!e.paths}var NT=new $("");function ng(e,...t){return Gl([{provide:Ia,multi:!0,useValue:e},[],{provide:$n,useFactory:RT,deps:[Mr]},{provide:Hc,multi:!0,useFactory:OT},t.map(n=>n.\u0275providers)])}function RT(e){return e.routerState.root}function OT(){let e=N(Gt);return t=>{let n=e.get(yr);if(t!==n.components[0])return;let r=e.get(Mr),i=e.get(kT);e.get(PT)===1&&r.initialNavigation(),e.get(FT,null,{optional:!0})?.setUpPreloading(),e.get(NT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var kT=new $("",{factory:()=>new Me}),PT=new $("",{providedIn:"root",factory:()=>1});var FT=new $("");var $t=aE(cC());var nd=typeof self<"u"?self:global,qa=typeof navigator<"u",AN=qa&&typeof HTMLImageElement>"u",$u=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),rd=nd.Buffer,Uu=nd.BigInt,id=!!rd,NN=e=>e;function zu(e,t=NN){if($u)try{return typeof ss=="function"?Promise.resolve(t(ss(e))):import(e).then(t)}catch{console.warn(`Couldn't load ${e}`)}}var Jg=nd.fetch,RN=e=>Jg=e;if(!nd.fetch){let e=zu("http",r=>r),t=zu("https",r=>r),n=(r,{headers:i}={})=>new Promise((o,s)=>O(null,null,function*(){let{port:a,hostname:l,pathname:c,protocol:u,search:d}=new URL(r),p={method:"GET",hostname:l,path:encodeURI(c)+d,headers:i};a!==""&&(p.port=Number(a));let h=(u==="https:"?yield t:yield e).request(p,f=>{if(f.statusCode===301||f.statusCode===302){let v=new URL(f.headers.location,r).toString();return n(v,{headers:i}).then(o).catch(s)}o({status:f.statusCode,arrayBuffer:()=>new Promise(v=>{let y=[];f.on("data",m=>y.push(m)),f.on("end",()=>v(Buffer.concat(y)))})})});h.on("error",s),h.end()}));RN(n)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu=e=>EC(e)?void 0:e,ON=e=>e!==void 0;function EC(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(ON).length===0)}function Ve(e){let t=new Error(e);throw delete t.stack,t}function ki(e){return(e=function(t){for(;t.endsWith("\0");)t=t.slice(0,-1);return t}(e).trim())===""?void 0:e}function Ug(e){let t=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var Hg=e=>String.fromCharCode.apply(null,e),uC=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function bC(e){return uC?uC.decode(e):id?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(Hg(e)))}var bn=class e{static from(t,n){return t instanceof this&&t.le===n?t:new e(t,void 0,void 0,n)}constructor(t,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-n);let o=new DataView(t,n,r);this._swapDataView(o)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof e){r===void 0&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&Ve("Creating view outside of available memory in ArrayBuffer");let o=new DataView(t.buffer,n,r);this._swapDataView(o)}else if(typeof t=="number"){let o=new DataView(new ArrayBuffer(t));this._swapDataView(o)}else Ve("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,r=e){return t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||Ve("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new e(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return bC(this.getUint8Array(t,n))}getLatin1String(t=0,n=this.byteLength){let r=this.getUint8Array(t,n);return Hg(r)}getUnicodeString(t=0,n=this.byteLength){let r=[];for(let i=0;i<n&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return Hg(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,r){switch(n){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,n,r){switch(n){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}};function $g(e,t){Ve(`${e} '${t}' was not loaded, try using full build of exifr.`)}var Za=class extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||$g(this.kind,t),n&&(t in n||function(r,i){Ve(`Unknown ${r} '${i}'.`)}(this.kind,t),n[t].enabled||$g(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}},In=new Za("file parser"),Le=new Za("segment parser"),Mn=new Za("file reader");function kN(e,t){return typeof e=="string"?dC(e,t):qa&&!AN&&e instanceof HTMLImageElement?dC(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new bn(e):qa&&e instanceof Blob?zg(e,t,"blob",Vi):void Ve("Invalid input argument")}function dC(e,t){return(n=e).startsWith("data:")||n.length>1e4?Gg(e,t,"base64"):$u&&e.includes("://")?zg(e,t,"url",Li):$u?Gg(e,t,"fs"):qa?zg(e,t,"url",Li):void Ve("Invalid input argument");var n}function zg(e,t,n,r){return O(this,null,function*(){return Mn.has(n)?Gg(e,t,n):r?function(i,o){return O(this,null,function*(){let s=yield o(i);return new bn(s)})}(e,r):void Ve(`Parser ${n} is not loaded`)})}function Gg(e,t,n){return O(this,null,function*(){let r=new(Mn.get(n))(e,t);return yield r.read(),r})}var Li=e=>Jg(e).then(t=>t.arrayBuffer()),Vi=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}),Wg=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function Ne(e,t,n){let r=new Wg;for(let[i,o]of n)r.set(i,o);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function ji(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}var Qe=new Map,tn=new Map,Vr=new Map,kr=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],es=["jfif","xmp","icc","iptc","ihdr"],Bi=["tiff",...es],Se=["ifd0","ifd1","exif","gps","interop"],Pr=[...Bi,...Se],Fr=["makerNote","userComment"],ts=["translateKeys","translateValues","reviveValues","multiSegment"],Lr=[...ts,"sanitize","mergeOutput","silentErrors"],Wu=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}},Oi=class extends Wu{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,r,i){if(super(),q(this,"enabled",!1),q(this,"skip",new Set),q(this,"pick",new Set),q(this,"deps",new Set),q(this,"translateKeys",!1),q(this,"translateValues",!1),q(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Se.includes(t),this.canBeFiltered&&(this.dict=Qe.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:o,skip:s}=r;o&&o.length>0&&this.translateTagSet(o,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Ve(`Invalid options argument: ${r}`)}applyInheritables(t){let n,r;for(n of ts)r=t[n],r!==void 0&&(this[n]=r)}translateTagSet(t,n){if(this.dict){let r,i,{tagKeys:o,tagValues:s}=this.dict;for(r of t)typeof r=="string"?(i=s.indexOf(r),i===-1&&(i=o.indexOf(Number(r))),i!==-1&&n.add(Number(o[i]))):n.add(r)}else for(let r of t)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,qu(this.pick,this.deps)):this.enabled&&this.pick.size>0&&qu(this.pick,this.deps)}},mt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},fC=new Map,Kn=class extends Wu{static useCached(t){let n=fC.get(t);return n!==void 0||(n=new this(t),fC.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):Ve(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=qa?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of kr)this[t]=mt[t];for(t of Lr)this[t]=mt[t];for(t of Fr)this[t]=mt[t];for(t of Pr)this[t]=new Oi(t,mt[t],void 0,this)}setupFromTrue(){let t;for(t of kr)this[t]=mt[t];for(t of Lr)this[t]=mt[t];for(t of Fr)this[t]=!0;for(t of Pr)this[t]=new Oi(t,!0,void 0,this)}setupFromArray(t){let n;for(n of kr)this[n]=mt[n];for(n of Lr)this[n]=mt[n];for(n of Fr)this[n]=mt[n];for(n of Pr)this[n]=new Oi(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,Se)}setupFromObject(t){let n;for(n of(Se.ifd0=Se.ifd0||Se.image,Se.ifd1=Se.ifd1||Se.thumbnail,Object.assign(this,t),kr))this[n]=Vg(t[n],mt[n]);for(n of Lr)this[n]=Vg(t[n],mt[n]);for(n of Fr)this[n]=Vg(t[n],mt[n]);for(n of Bi)this[n]=new Oi(n,mt[n],t[n],this);for(n of Se)this[n]=new Oi(n,mt[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Se,Pr),t.tiff===!0?this.batchEnableWithBool(Se,!0):t.tiff===!1?this.batchEnableWithUserValue(Se,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Se):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Se)}batchEnableWithBool(t,n){for(let r of t)this[r].enabled=n}batchEnableWithUserValue(t,n){for(let r of t){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,n,r,i=r){if(t&&t.length){for(let s of i)this[s].enabled=!1;let o=hC(t,r);for(let[s,a]of o)qu(this[s].pick,a),this[s].enabled=!0}else if(n&&n.length){let o=hC(n,r);for(let[s,a]of o)qu(this[s].skip,a)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:r,iptc:i,icc:o}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),o.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=Se.some(o=>this[o].enabled===!0)||this.makerNote||this.userComment;for(let o of Se)this[o].finalizeFilters()}get onlyTiff(){return!es.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of Bi)this[t].enabled&&!Le.has(t)&&$g("segment parser",t)}};function hC(e,t){let n,r,i,o,s=[];for(i of t){for(o of(n=Qe.get(i),r=[],n))(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&s.push([i,r])}return s}function Vg(e,t){return e!==void 0?e:t!==void 0?t:void 0}function qu(e,t){for(let n of t)e.add(n)}q(Kn,"default",mt);var Sn=class{constructor(t){q(this,"parsers",{}),q(this,"output",{}),q(this,"errors",[]),q(this,"pushToErrors",n=>this.errors.push(n)),this.options=Kn.useCached(t)}read(t){return O(this,null,function*(){this.file=yield kN(t,this.options)})}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[r,i]of In)if(i.canHandle(t,n))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),Ve("Unknown file format")}parse(){return O(this,null,function*(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(yield this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):yield this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),Gu(t)})}executeParsers(){return O(this,null,function*(){let{output:t}=this;yield this.fileParser.parse();let n=Object.values(this.parsers).map(r=>O(this,null,function*(){let i=yield r.parse();r.assignToOutput(t,i)}));this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),yield Promise.all(n)})}extractThumbnail(){return O(this,null,function*(){this.setup();let{options:t,file:n}=this,r=Le.get("tiff",t);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=yield this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let o=yield this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new r(o,t,n),a=yield s.extractThumbnail();return n.close&&n.close(),a})}};function ns(e,t){return O(this,null,function*(){let n=new Sn(t);return yield n.read(e),n.parse()})}var PN=Object.freeze({__proto__:null,parse:ns,Exifr:Sn,fileParsers:In,segmentParsers:Le,fileReaders:Mn,tagKeys:Qe,tagValues:tn,tagRevivers:Vr,createDictionary:Ne,extendDictionary:ji,fetchUrlAsArrayBuffer:Li,readBlobAsArrayBuffer:Vi,chunkedProps:kr,otherSegments:es,segments:Bi,tiffBlocks:Se,segmentsAndBlocks:Pr,tiffExtractables:Fr,inheritables:ts,allFormatters:Lr,Options:Kn}),Jo=class{constructor(t,n,r){q(this,"errors",[]),q(this,"ensureSegmentChunk",i=>O(this,null,function*(){let o=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(o,s))i.chunk=this.file.subarray(o,s);else try{i.chunk=yield this.file.readChunk(o,s)}catch(a){Ve(`Couldn't read segment: ${JSON.stringify(i)}. ${a.message}`)}else this.file.byteLength>o+s?i.chunk=this.file.subarray(o,s):i.size===void 0?i.chunk=this.file.subarray(o):Ve("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let r=new(Le.get(t))(n,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let n of t){let{type:r,chunk:i}=n,o=this.options[r];if(o&&o.enabled){let s=this.parsers[r];s&&s.append||s||this.createParser(r,i)}}}readSegments(t){return O(this,null,function*(){let n=t.map(this.ensureSegmentChunk);yield Promise.all(n)})}},At=class{static findPosition(t,n){let r=t.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,n,r):this.headerLength,o=n+i,s=r-i;return{offset:n,length:r,headerLength:i,start:o,size:s,end:o+s}}static parse(t,n={}){return new this(t,new Kn({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof bn?t:new bn(t)}constructor(t,n={},r){q(this,"errors",[]),q(this,"raw",new Map),q(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let r=Vr.get(n),i=tn.get(n),o=Qe.get(n),s=this.options[n],a=s.reviveValues&&!!r,l=s.translateValues&&!!i,c=s.translateKeys&&!!o,u={};for(let[d,p]of t)a&&r.has(d)?p=r.get(d)(p):l&&i.has(d)&&(p=this.translateValue(p,i.get(d))),c&&o.has(d)&&(d=o.get(d)||d),u[d]=p;return u}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[n]?Object.assign(t[n],r):t[n]=r}};q(At,"headerLength",4),q(At,"type",void 0),q(At,"multiSegment",!1),q(At,"canHandle",()=>!1);function FN(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function LN(e){return e>=224&&e<=239}function VN(e,t,n){for(let[r,i]of Le)if(i.canHandle(e,t,n))return r}var Zu=class extends Jo{constructor(...t){super(...t),q(this,"appSegments",[]),q(this,"jpegSegments",[]),q(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}parse(){return O(this,null,function*(){yield this.findAppSegments(),yield this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)})}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Le.keyList())):(t=t===void 0?Le.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&Le.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}findAppSegments(t=0,n){return O(this,null,function*(){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:o,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(o).some(a=>{let l=Le.get(a),c=this.options[a];return l.multiSegment&&c.multiSegment}),i&&(yield this.file.readWhole())),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let a=!1;for(;s.size>0&&!a&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,c=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(a=t>l&&!c?!(yield r.readNextChunk(t)):!(yield r.readNextChunk(l)),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}})}findAppSegmentsInRange(t,n){n-=2;let r,i,o,s,a,l,{file:c,findAll:u,wanted:d,remaining:p,options:h}=this;for(;t<n;t++)if(c.getUint8(t)===255){if(r=c.getUint8(t+1),LN(r)){if(i=c.getUint16(t+2),o=VN(c,t,i),o&&d.has(o)&&(s=Le.get(o),a=s.findPosition(c,t),l=h[o],a.type=o,this.appSegments.push(a),!u&&(s.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||p.delete(o)):p.delete(o),p.size===0)))break;h.recordUnknownSegments&&(a=At.findPosition(c,t),a.marker=r,this.unknownSegments.push(a)),t+=i+1}else if(FN(r)){if(i=c.getUint16(t+2),r===218&&h.stopAfterSos!==!1)return;h.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,r){let i,o,s,a=new Map;for(let l=0;l<n.length;l++)i=n[l],o=i[r],a.has(o)?s=a.get(o):a.set(o,s=[]),s.push(i);return Array.from(a)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,r])=>{let i=Le.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}getOrFindSegment(t){return O(this,null,function*(){let n=this.getSegment(t);return n===void 0&&(yield this.findAppSegments(0,[t]),n=this.getSegment(t)),n})}};q(Zu,"type","jpeg"),In.set("jpeg",Zu);var jN=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],qg=class extends At{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,r=new Map){let{pick:i,skip:o}=this.options[n];i=new Set(i);let s=i.size>0,a=o.size===0,l=this.chunk.getUint16(t);t+=2;for(let c=0;c<l;c++){let u=this.chunk.getUint16(t);if(s){if(i.has(u)&&(r.set(u,this.parseTag(t,u,n)),i.delete(u),i.size===0))break}else!a&&o.has(u)||r.set(u,this.parseTag(t,u,n));t+=12}return r}parseTag(t,n,r){let{chunk:i}=this,o=i.getUint16(t+2),s=i.getUint32(t+4),a=jN[o];if(a*s<=4?t+=8:t=i.getUint32(t+8),(o<1||o>13)&&Ve(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${o}, offset ${t}`),t>i.byteLength&&Ve(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${o}, offset ${t} is outside of chunk size ${i.byteLength}`),o===1)return i.getUint8Array(t,s);if(o===2)return ki(i.getString(t,s));if(o===7)return i.getUint8Array(t,s);if(s===1)return this.parseTagValue(o,t);{let l=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(o))(s),c=a;for(let u=0;u<s;u++)l[u]=this.parseTagValue(o,t),t+=c;return l}}parseTagValue(t,n){let{chunk:r}=this;switch(t){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:Ve(`Invalid tiff type ${t}`)}}},$a=class extends qg{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}parse(){return O(this,null,function*(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&(yield this.parseIfd0Block()),t.exif.enabled&&(yield this.safeParse("parseExifBlock")),t.gps.enabled&&(yield this.safeParse("parseGpsBlock")),t.interop.enabled&&(yield this.safeParse("parseInteropBlock")),t.ifd1.enabled&&(yield this.safeParse("parseThumbnailBlock")),this.createOutput()})}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let r=new Map;return this[n]=r,this.parseTags(t,n,r),r}parseIfd0Block(){return O(this,null,function*(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ve("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&Ve(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&(yield t.ensureChunk(this.ifd0Offset,Ug(this.options)));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0})}parseExifBlock(){return O(this,null,function*(){if(this.exif||(this.ifd0||(yield this.parseIfd0Block()),this.exifOffset===void 0))return;this.file.tiff&&(yield this.file.ensureChunk(this.exifOffset,Ug(this.options)));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t})}unpack(t,n){let r=t.get(n);r&&r.length===1&&t.set(n,r[0])}parseGpsBlock(){return O(this,null,function*(){if(this.gps||(this.ifd0||(yield this.parseIfd0Block()),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",pC(...t.get(2),t.get(1))),t.set("longitude",pC(...t.get(4),t.get(3)))),t})}parseInteropBlock(){return O(this,null,function*(){if(!this.interop&&(this.ifd0||(yield this.parseIfd0Block()),this.interopOffset!==void 0||this.exif||(yield this.parseExifBlock()),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")})}parseThumbnailBlock(t=!1){return O(this,null,function*(){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1})}extractThumbnail(){return O(this,null,function*(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||(yield this.parseThumbnailBlock(!0)),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)})}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,r,i={};for(n of Se)if(t=this[n],!EC(t))if(r=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(t,r,i)}};function pC(e,t,n,r){var i=e+t/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}q($a,"type","tiff"),q($a,"headerLength",10),Le.set("tiff",$a);var BN=Object.freeze({__proto__:null,default:PN,Exifr:Sn,fileParsers:In,segmentParsers:Le,fileReaders:Mn,tagKeys:Qe,tagValues:tn,tagRevivers:Vr,createDictionary:Ne,extendDictionary:ji,fetchUrlAsArrayBuffer:Li,readBlobAsArrayBuffer:Vi,chunkedProps:kr,otherSegments:es,segments:Bi,tiffBlocks:Se,segmentsAndBlocks:Pr,tiffExtractables:Fr,inheritables:ts,allFormatters:Lr,Options:Kn,parse:ns}),Xg={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},em=Object.assign({},Xg,{firstChunkSize:4e4,gps:[1,2,3,4]});function IC(e){return O(this,null,function*(){let t=new Sn(em);yield t.read(e);let n=yield t.parse();if(n&&n.gps){let{latitude:r,longitude:i}=n.gps;return{latitude:r,longitude:i}}})}var tm=Object.assign({},Xg,{tiff:!1,ifd1:!0,mergeOutput:!1});function SC(e){return O(this,null,function*(){let t=new Sn(tm);yield t.read(e);let n=yield t.extractThumbnail();return n&&id?rd.from(n):n})}function MC(e){return O(this,null,function*(){let t=yield this.thumbnail(e);if(t!==void 0){let n=new Blob([t]);return URL.createObjectURL(n)}})}var nm=Object.assign({},Xg,{firstChunkSize:4e4,ifd0:[274]});function rm(e){return O(this,null,function*(){let t=new Sn(nm);yield t.read(e);let n=yield t.parse();if(n&&n.ifd0)return n.ifd0[274]})}var im=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Pi=!0,Fi=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,r]=t;Pi=Number(n)+.1*Number(r)<13.4,Fi=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Pi=Fi=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Pi=Fi=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Pi=Fi=Number(t)<77}}function xC(e){return O(this,null,function*(){let t=yield rm(e);return Object.assign({canvas:Pi,css:Fi},im[t])})}var Zg=class extends bn{constructor(...t){super(...t),q(this,"ranges",new Yg),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+n;if(i>this.byteLength){let{dataView:o}=this._extend(i);this._swapDataView(o)}}}_extend(t){let n;n=id?rd.allocUnsafe(t):new Uint8Array(t);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(t,n,r=!1){return n=n||this._lengthToEnd(t),r&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,r=!1){r&&this._tryExtend(n,t.byteLength,t);let i=super.set(t,n);return this.ranges.add(n,i.byteLength),i}ensureChunk(t,n){return O(this,null,function*(){this.chunked&&(this.ranges.available(t,n)||(yield this.readChunk(t,n)))})}available(t,n){return this.ranges.available(t,n)}},Yg=class{constructor(){q(this,"list",[])}get length(){return this.list.length}add(t,n,r=0){let i=t+n,o=this.list.filter(s=>gC(t,s.offset,i)||gC(t,s.end,i));if(o.length>0){t=Math.min(t,...o.map(a=>a.offset)),i=Math.max(i,...o.map(a=>a.end)),n=i-t;let s=o.shift();s.offset=t,s.length=n,s.end=i,this.list=this.list.filter(a=>!o.includes(a))}else this.list.push({offset:t,length:n,end:i})}available(t,n){let r=t+n;return this.list.some(i=>i.offset<=t&&r<=i.end)}};function gC(e,t,n){return e<=t&&t<=n}var Xo=class extends Zg{constructor(t,n){super(0),q(this,"chunksRead",0),this.input=t,this.options=n}readWhole(){return O(this,null,function*(){this.chunked=!1,yield this.readChunk(this.nextChunkOffset)})}readChunked(){return O(this,null,function*(){this.chunked=!0,yield this.readChunk(0,this.options.firstChunkSize)})}readNextChunk(){return O(this,arguments,function*(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=yield this.readChunk(t,n);return!!r&&r.byteLength===n})}readChunk(t,n){return O(this,null,function*(){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)})}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};Mn.set("blob",class extends Xo{readWhole(){return O(this,null,function*(){this.chunked=!1;let e=yield Vi(this.input);this._swapArrayBuffer(e)})}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(e,t){return O(this,null,function*(){let n=t?e+t:void 0,r=this.input.slice(e,n),i=yield Vi(r);return this.set(i,e,!0)})}});var UN=Object.freeze({__proto__:null,default:BN,Exifr:Sn,fileParsers:In,segmentParsers:Le,fileReaders:Mn,tagKeys:Qe,tagValues:tn,tagRevivers:Vr,createDictionary:Ne,extendDictionary:ji,fetchUrlAsArrayBuffer:Li,readBlobAsArrayBuffer:Vi,chunkedProps:kr,otherSegments:es,segments:Bi,tiffBlocks:Se,segmentsAndBlocks:Pr,tiffExtractables:Fr,inheritables:ts,allFormatters:Lr,Options:Kn,parse:ns,gpsOnlyOptions:em,gps:IC,thumbnailOnlyOptions:tm,thumbnail:SC,thumbnailUrl:MC,orientationOnlyOptions:nm,orientation:rm,rotations:im,get rotateCanvas(){return Pi},get rotateCss(){return Fi},rotation:xC});Mn.set("url",class extends Xo{readWhole(){return O(this,null,function*(){this.chunked=!1;let e=yield Li(this.input);e instanceof ArrayBuffer?this._swapArrayBuffer(e):e instanceof Uint8Array&&this._swapBuffer(e)})}_readChunk(e,t){return O(this,null,function*(){let n=t?e+t-1:void 0,r=this.options.httpHeaders||{};(e||n)&&(r.range=`bytes=${[e,n].join("-")}`);let i=yield Jg(this.input,{headers:r}),o=yield i.arrayBuffer(),s=o.byteLength;if(i.status!==416)return s!==t&&(this.size=e+s),this.set(o,e,!0)})}});bn.prototype.getUint64=function(e){let t=this.getUint32(e),n=this.getUint32(e+4);return t<1048575?t<<32|n:typeof Uu!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Uu(t)<<Uu(32)|Uu(n)):void Ve("Trying to read 64b value but JS can only handle 53b numbers.")};var Kg=class extends Jo{parseBoxes(t=0){let n=[];for(;t<this.file.byteLength-4;){let r=this.parseBoxHead(t);if(n.push(r),r.length===0)break;t+=r.length}return n}parseSubBoxes(t){t.boxes=this.parseBoxes(t.start)}findBox(t,n){return t.boxes===void 0&&this.parseSubBoxes(t),t.boxes.find(r=>r.kind===n)}parseBoxHead(t){let n=this.file.getUint32(t),r=this.file.getString(t+4,4),i=t+8;return n===1&&(n=this.file.getUint64(t+8),i+=8),{offset:t,length:n,kind:r,start:i}}parseBoxFullHead(t){if(t.version!==void 0)return;let n=this.file.getUint32(t.start);t.version=n>>24,t.start+=4}},Yu=class extends Kg{static canHandle(t,n){if(n!==0)return!1;let r=t.getUint16(2);if(r>50)return!1;let i=16,o=[];for(;i<r;)o.push(t.getString(i,4)),i+=4;return o.includes(this.type)}parse(){return O(this,null,function*(){let t=this.file.getUint32(0),n=this.parseBoxHead(t);for(;n.kind!=="meta";)t+=n.length,yield this.file.ensureChunk(t,16),n=this.parseBoxHead(t);yield this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&(yield this.findIcc(n)),this.options.tiff.enabled&&(yield this.findExif(n))})}registerSegment(t,n,r){return O(this,null,function*(){yield this.file.ensureChunk(n,r);let i=this.file.subarray(n,r);this.createParser(t,i)})}findIcc(t){return O(this,null,function*(){let n=this.findBox(t,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let i=this.findBox(r,"colr");i!==void 0&&(yield this.registerSegment("icc",i.offset+12,i.length))})}findExif(t){return O(this,null,function*(){let n=this.findBox(t,"iinf");if(n===void 0)return;let r=this.findBox(t,"iloc");if(r===void 0)return;let i=this.findExifLocIdInIinf(n),o=this.findExtentInIloc(r,i);if(o===void 0)return;let[s,a]=o;yield this.file.ensureChunk(s,a);let l=4+this.file.getUint32(s);s+=l,a-=l,yield this.registerSegment("tiff",s,a)})}findExifLocIdInIinf(t){this.parseBoxFullHead(t);let n,r,i,o,s=t.start,a=this.file.getUint16(s);for(s+=2;a--;){if(n=this.parseBoxHead(s),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(i=n.version===3?4:2,o=this.file.getString(r+i+2,4),o==="Exif"))return this.file.getUintBytes(r,i);s+=n.length}}get8bits(t){let n=this.file.getUint8(t);return[n>>4,15&n]}findExtentInIloc(t,n){this.parseBoxFullHead(t);let r=t.start,[i,o]=this.get8bits(r++),[s,a]=this.get8bits(r++),l=t.version===2?4:2,c=t.version===1||t.version===2?2:0,u=a+i+o,d=t.version===2?4:2,p=this.file.getUintBytes(r,d);for(r+=d;p--;){let h=this.file.getUintBytes(r,l);r+=l+c+2+s;let f=this.file.getUint16(r);if(r+=2,h===n)return f>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+a,i),this.file.getUintBytes(r+a+i,o)];r+=f*u}}},Ku=class extends Yu{};q(Ku,"type","heic");var Qu=class extends Yu{};q(Qu,"type","avif"),In.set("heic",Ku),In.set("avif",Qu),Ne(Qe,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),Ne(Qe,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),Ne(Qe,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),Ne(tn,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);var za=Ne(tn,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]),mC={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};za.set(37392,mC),za.set(41488,mC);var jg={0:"Normal",1:"Low",2:"High"};function vC(e){return typeof e=="object"&&e.length!==void 0?e[0]:e}function yC(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map(n=>String.fromCharCode(n))),t[2]!=="0"&&t[2]!==0||t.pop(),t.join(".")}function Bg(e){if(typeof e=="string"){var[t,n,r,i,o,s]=e.trim().split(/[-: ]/g).map(Number),a=new Date(t,n-1,r);return Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(s)||(a.setHours(i),a.setMinutes(o),a.setSeconds(s)),Number.isNaN(+a)?e:a}}function Ha(e){if(typeof e=="string")return e;let t=[];if(e[1]===0&&e[e.length-1]===0)for(let n=0;n<e.length;n+=2)t.push(DC(e[n+1],e[n]));else for(let n=0;n<e.length;n+=2)t.push(DC(e[n],e[n+1]));return ki(String.fromCodePoint(...t))}function DC(e,t){return e<<8|t}za.set(41992,jg),za.set(41993,jg),za.set(41994,jg),Ne(Vr,["ifd0","ifd1"],[[50827,function(e){return typeof e!="string"?bC(e):e}],[306,Bg],[40091,Ha],[40092,Ha],[40093,Ha],[40094,Ha],[40095,Ha]]),Ne(Vr,"exif",[[40960,yC],[36864,yC],[36867,Bg],[36868,Bg],[40962,vC],[40963,vC]]),Ne(Vr,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);var Ga=class extends At{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1752462448&&t.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(t,n){return t.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(t,n){let r=super.findPosition(t,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=t.getUint8(n+72),r.chunkNumber=t.getUint8(n+76),t.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(t){return t.map(n=>n.chunk.getString()).join("")}normalizeInput(t){return typeof t=="string"?t:bn.from(t).getString()}parse(t=this.chunk){if(!this.localOptions.parse)return t;t=function(o){let s={},a={};for(let l of RC)s[l]=[],a[l]=0;return o.replace(GN,(l,c,u)=>{if(c==="<"){let d=++a[u];return s[u].push(d),`${l}#${d}`}return`${l}#${s[u].pop()}`})}(t);let n=Ju.findAll(t,"rdf","Description");n.length===0&&n.push(new Ju("rdf","Description",void 0,t));let r,i={};for(let o of n)for(let s of o.properties)r=zN(s.ns,i),TC(s,r);return function(o){let s;for(let a in o)s=o[a]=Gu(o[a]),s===void 0&&delete o[a];return Gu(o)}(i)}assignToOutput(t,n){if(this.localOptions.parse)for(let[r,i]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(t,"ifd0",i);break;case"exif":this.assignObjectToOutput(t,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(t,r,i)}else t.xmp=n}};q(Ga,"type","xmp"),q(Ga,"multiSegment",!0),Le.set("xmp",Ga);var Qg=class e{static findAll(t){return AC(t,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(e.unpackMatch)}static unpackMatch(t){let n=t[1],r=t[2],i=t[3].slice(1,-1);return i=NC(i),new e(n,r,i)}constructor(t,n,r){this.ns=t,this.name=n,this.value=r}serialize(){return this.value}},Ju=class e{static findAll(t,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var i=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return AC(t,i).map(e.unpackMatch)}static unpackMatch(t){let n=t[1],r=t[2],i=t[4],o=t[8];return new e(n,r,i,o)}constructor(t,n,r,i){this.ns=t,this.name=n,this.attrString=r,this.innerXml=i,this.attrs=Qg.findAll(r),this.children=e.findAll(i),this.value=this.children.length===0?NC(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:t,name:n}=this;return t==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return $N(this.children.map(HN));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let t={};for(let n of this.properties)TC(n,t);return this.value!==void 0&&(t.value=this.value),Gu(t)}};function TC(e,t){let n=e.serialize();n!==void 0&&(t[e.name]=n)}var HN=e=>e.serialize(),$N=e=>e.length===1?e[0]:e,zN=(e,t)=>t[e]?t[e]:t[e]={};function AC(e,t){let n,r=[];if(!e)return r;for(;(n=t.exec(e))!==null;)r.push(n);return r}function NC(e){if(function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""}(e))return;let t=Number(e);if(!Number.isNaN(t))return t;let n=e.toLowerCase();return n==="true"||n!=="false"&&e.trim()}var RC=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],GN=new RegExp(`(<|\\/)(${RC.join("|")})`,"g"),W$=Object.freeze({__proto__:null,default:UN,Exifr:Sn,fileParsers:In,segmentParsers:Le,fileReaders:Mn,tagKeys:Qe,tagValues:tn,tagRevivers:Vr,createDictionary:Ne,extendDictionary:ji,fetchUrlAsArrayBuffer:Li,readBlobAsArrayBuffer:Vi,chunkedProps:kr,otherSegments:es,segments:Bi,tiffBlocks:Se,segmentsAndBlocks:Pr,tiffExtractables:Fr,inheritables:ts,allFormatters:Lr,Options:Kn,parse:ns,gpsOnlyOptions:em,gps:IC,thumbnailOnlyOptions:tm,thumbnail:SC,thumbnailUrl:MC,orientationOnlyOptions:nm,orientation:rm,rotations:im,get rotateCanvas(){return Pi},get rotateCss(){return Fi},rotation:xC});var _C=zu("fs",e=>e.promises);Mn.set("fs",class extends Xo{readWhole(){return O(this,null,function*(){this.chunked=!1,this.fs=yield _C;let e=yield this.fs.readFile(this.input);this._swapBuffer(e)})}readChunked(){return O(this,null,function*(){this.chunked=!0,this.fs=yield _C,yield this.open(),yield this.readChunk(0,this.options.firstChunkSize)})}open(){return O(this,null,function*(){this.fh===void 0&&(this.fh=yield this.fs.open(this.input,"r"),this.size=(yield this.fh.stat(this.input)).size)})}_readChunk(e,t){return O(this,null,function*(){this.fh===void 0&&(yield this.open()),e+t>this.size&&(t=this.size-e);var n=this.subarray(e,t,!0);return yield this.fh.read(n.dataView,0,t,e),n})}close(){return O(this,null,function*(){if(this.fh){let e=this.fh;this.fh=void 0,yield e.close()}})}});Mn.set("base64",class extends Xo{constructor(...e){super(...e),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}_readChunk(e,t){return O(this,null,function*(){let n,r,i=this.input;e===void 0?(e=0,n=0,r=0):(n=4*Math.floor(e/3),r=e-n/4*3),t===void 0&&(t=this.size);let o=e+t,s=n+4*Math.ceil(o/3);i=i.slice(n,s);let a=Math.min(t,this.size-e);if(id){let l=rd.from(i,"base64").slice(r,r+a);return this.set(l,e,!0)}{let l=this.subarray(e,a,!0),c=atob(i),u=l.toUint8();for(let d=0;d<a;d++)u[d]=c.charCodeAt(r+d);return l}})}});var Xu=class extends Jo{static canHandle(t,n){return n===18761||n===19789}extendOptions(t){let{ifd0:n,xmp:r,iptc:i,icc:o}=t;r.enabled&&n.deps.add(700),i.enabled&&n.deps.add(33723),o.enabled&&n.deps.add(34675),n.finalizeFilters()}parse(){return O(this,null,function*(){let{tiff:t,xmp:n,iptc:r,icc:i}=this.options;if(t.enabled||n.enabled||r.enabled||i.enabled){let o=Math.max(Ug(this.options),this.options.chunkSize);yield this.file.ensureChunk(0,o),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),yield this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}})}adaptTiffPropAsSegment(t){if(this.parsers.tiff[t]){let n=this.parsers.tiff[t];this.injectSegment(t,n)}}};q(Xu,"type","tiff"),In.set("tiff",Xu);var WN=zu("zlib"),qN=["ihdr","iccp","text","itxt","exif"],ed=class extends Jo{constructor(...t){super(...t),q(this,"catchError",n=>this.errors.push(n)),q(this,"metaChunks",[]),q(this,"unknownChunks",[])}static canHandle(t,n){return n===35152&&t.getUint32(0)===2303741511&&t.getUint32(4)===218765834}parse(){return O(this,null,function*(){let{file:t}=this;yield this.findPngChunksInRange(8,t.byteLength),yield this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),yield this.findExif().catch(this.catchError),yield this.findXmp().catch(this.catchError),yield this.findIcc().catch(this.catchError)})}findPngChunksInRange(t,n){return O(this,null,function*(){let{file:r}=this;for(;t<n;){let i=r.getUint32(t),o=r.getUint32(t+4),s=r.getString(t+4,4).toLowerCase(),a=i+4+4+4,l={type:s,offset:t,length:a,start:t+4+4,size:i,marker:o};qN.includes(s)?this.metaChunks.push(l):this.unknownChunks.push(l),t+=a}})}parseTextChunks(){let t=this.metaChunks.filter(n=>n.type==="text");for(let n of t){let[r,i]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,i)}}injectKeyValToIhdr(t,n){let r=this.parsers.ihdr;r&&r.raw.set(t,n)}findIhdr(){let t=this.metaChunks.find(n=>n.type==="ihdr");t&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",t.chunk)}findExif(){return O(this,null,function*(){let t=this.metaChunks.find(n=>n.type==="exif");t&&this.injectSegment("tiff",t.chunk)})}findXmp(){return O(this,null,function*(){let t=this.metaChunks.filter(n=>n.type==="itxt");for(let n of t)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)})}findIcc(){return O(this,null,function*(){let t=this.metaChunks.find(a=>a.type==="iccp");if(!t)return;let{chunk:n}=t,r=n.getUint8Array(0,81),i=0;for(;i<80&&r[i]!==0;)i++;let o=i+2,s=n.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",s),$u){let a=yield WN,l=n.getUint8Array(o);l=a.inflateSync(l),this.injectSegment("icc",l)}})}};q(ed,"type","png"),In.set("png",ed),Ne(Qe,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),ji(Qe,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);var wC=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];ji(Qe,"ifd0",wC),ji(Qe,"exif",wC),Ne(tn,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);var Wa=class extends At{static canHandle(t,n){return t.getUint8(n+1)===224&&t.getUint32(n+4)===1246120262&&t.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}};q(Wa,"type","jfif"),q(Wa,"headerLength",9),Le.set("jfif",Wa),Ne(Qe,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);var td=class extends At{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}};q(td,"type","ihdr"),Le.set("ihdr",td),Ne(Qe,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),Ne(tn,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);var Qo=class extends At{static canHandle(t,n){return t.getUint8(n+1)===226&&t.getUint32(n+4)===1229144927}static findPosition(t,n){let r=super.findPosition(t,n);return r.chunkNumber=t.getUint8(n+16),r.chunkCount=t.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(t){return function(n){let r=function(i){let o=i[0].constructor,s=0;for(let c of i)s+=c.length;let a=new o(s),l=0;for(let c of i)a.set(c,l),l+=c.length;return a}(n.map(i=>i.chunk.toUint8()));return new bn(r)}(t)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:t}=this;this.chunk.byteLength<84&&Ve("ICC header is too short");for(let[n,r]of Object.entries(ZN)){n=parseInt(n,10);let i=r(this.chunk,n);i!=="\0\0\0\0"&&t.set(n,i)}}parseTags(){let t,n,r,i,o,{raw:s}=this,a=this.chunk.getUint32(128),l=132,c=this.chunk.byteLength;for(;a--;){if(t=this.chunk.getString(l,4),n=this.chunk.getUint32(l+4),r=this.chunk.getUint32(l+8),i=this.chunk.getString(n,4),n+r>c)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");o=this.parseTag(i,n,r),o!==void 0&&o!=="\0\0\0\0"&&s.set(t,o),l+=12}}parseTag(t,n,r){switch(t){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(t){let n=this.chunk.getUint32(t+8)-1;return ki(this.chunk.getString(t+12,n))}parseText(t,n){return ki(this.chunk.getString(t+8,n-8))}parseSig(t){return ki(this.chunk.getString(t+8,4))}parseMluc(t){let{chunk:n}=this,r=n.getUint32(t+8),i=n.getUint32(t+12),o=t+16,s=[];for(let a=0;a<r;a++){let l=n.getString(o+0,2),c=n.getString(o+2,2),u=n.getUint32(o+4),d=n.getUint32(o+8)+t,p=ki(n.getUnicodeString(d,u));s.push({lang:l,country:c,text:p}),o+=i}return r===1?s[0].text:s}translateValue(t,n){return typeof t=="string"?n[t]||n[t.toLowerCase()]||t:n[t]||t}};q(Qo,"type","icc"),q(Qo,"multiSegment",!0),q(Qo,"headerLength",18);var ZN={4:Yn,8:function(e,t){return[e.getUint8(t),e.getUint8(t+1)>>4,e.getUint8(t+1)%16].map(n=>n.toString(10)).join(".")},12:Yn,16:Yn,20:Yn,24:function(e,t){let n=e.getUint16(t),r=e.getUint16(t+2)-1,i=e.getUint16(t+4),o=e.getUint16(t+6),s=e.getUint16(t+8),a=e.getUint16(t+10);return new Date(Date.UTC(n,r,i,o,s,a))},36:Yn,40:Yn,48:Yn,52:Yn,64:(e,t)=>e.getUint32(t),80:Yn};function Yn(e,t){return ki(e.getString(t,4))}Le.set("icc",Qo),Ne(Qe,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);var Hu={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},CC={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};Ne(tn,"icc",[[4,Hu],[12,CC],[40,Object.assign({},Hu,CC)],[48,Hu],[80,Hu],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);var Ko=class extends At{static canHandle(t,n,r){return t.getUint8(n+1)===237&&t.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(t,n,r)!==void 0}static headerLength(t,n,r){let i,o=this.containsIptc8bim(t,n,r);if(o!==void 0)return i=t.getUint8(n+o+7),i%2!=0&&(i+=1),i===0&&(i=4),o+8+i}static containsIptc8bim(t,n,r){for(let i=0;i<r;i++)if(this.isIptcSegmentHead(t,n+i))return i}static isIptcSegmentHead(t,n){return t.getUint8(n)===56&&t.getUint32(n)===943868237&&t.getUint16(n+4)===1028}parse(){let{raw:t}=this,n=this.chunk.byteLength-1,r=!1;for(let i=0;i<n;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){r=!0;let o=this.chunk.getUint16(i+3),s=this.chunk.getUint8(i+2),a=this.chunk.getLatin1String(i+5,o);t.set(s,this.pluralizeValue(t.get(s),a)),i+=4+o}else if(r)break;return this.translate(),this.output}pluralizeValue(t,n){return t!==void 0?t instanceof Array?(t.push(n),t):[t,n]:n}};q(Ko,"type","iptc"),q(Ko,"translateValues",!1),q(Ko,"reviveValues",!1),Le.set("iptc",Ko),Ne(Qe,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),Ne(tn,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var jr=class e{imageDataUrl=null;secondaryImageDataUrl=null;editedImageDataUrl=null;metadata=null;rMatrix=[];gMatrix=[];bMatrix=[];getImageDataUrl(){return this.imageDataUrl}getSecondaryImageDataUrl(){return this.secondaryImageDataUrl}getEditedImageDataUrl(){return this.editedImageDataUrl}getMetadata(){return this.metadata}getRMatrix(){return this.rMatrix}getGMatrix(){return this.gMatrix}getBMatrix(){return this.bMatrix}setImageDataUrl(t){this.imageDataUrl=t}setSecondaryImageDataUrl(t){this.secondaryImageDataUrl=t}setEditedImageDataUrl(t){this.editedImageDataUrl=t}get hasProcessableImage(){return!!this.imageDataUrl}get hasProcessableSecImage(){return!!this.secondaryImageDataUrl}uploadPhoto(t){return new Promise((n,r)=>{let i=t.name.split(".").pop()?.toLowerCase();if(i==="tif"||i==="tiff"){let o=new FileReader;o.onload=()=>O(this,null,function*(){try{let s=$t.decode(o.result);$t.decodeImage(o.result,s[0]);let a=$t.toRGBA8(s[0]),l=document.createElement("canvas");l.width=s[0].width,l.height=s[0].height;let c=l.getContext("2d");if(!c)return r("Canvas context not available");let u=c.createImageData(l.width,l.height);u.data.set(a),c.putImageData(u,0,0);let d=l.toDataURL();this.setImageDataUrl(d),yield this.extractAllMetadata(t),n(d)}catch(s){r("Erro ao processar TIFF: "+s)}}),o.onerror=r,o.readAsArrayBuffer(t)}else{let o=new FileReader;o.onload=()=>O(this,null,function*(){let s=o.result;this.setImageDataUrl(s),yield this.extractAllMetadata(t),n(s)}),o.onerror=r,o.readAsDataURL(t)}})}extractAllMetadata(t){return O(this,null,function*(){let n=t.name.split(".").pop()?.toLowerCase(),r={container:{mime:t.type||void 0,extension:n,sizeBytes:t.size},exif:null,iptc:null,xmp:null,icc:null,tiff:null,computed:{}};if(n==="tif"||n==="tiff"){let o=yield t.arrayBuffer(),s=$t.decode(o);$t.decodeImage(o,s[0]);let a=s[0];r.container.width=a.width,r.container.height=a.height,r.container.samplesPerPixel=a.samplesPerPixel,r.container.bitDepth=a.bitsPerSample,r.container.colorSpace=a.photometricInterpretation,r.container.compression=a.compression,r.tiff=this.pickTiffTags(a);let l=$t.toRGBA8(a),c=document.createElement("canvas");c.width=a.width,c.height=a.height;let u=c.getContext("2d");if(u){let d=u.createImageData(c.width,c.height);d.data.set(l),u.putImageData(d,0,0),this.imageDataUrl=c.toDataURL(),r.computed=this.computeDerivedFromCanvas(u,c.width,c.height)}}else{try{let u=yield ns(t,{iptc:!0,xmp:!0,icc:!0,exif:!0});u&&(r.exif=u||null,r.iptc=u.iptc||null,r.xmp=u.xmp||null,r.icc=u.icc||null,r.container.width=u.ImageWidth||u.ExifImageWidth||r.container.width,r.container.height=u.ImageHeight||u.ExifImageHeight||r.container.height,r.container.colorSpace=u.ColorSpace||r.container.colorSpace)}catch{}let o=yield this.sniffContainer(t);if(o&&(r.container.width??=o.width,r.container.height??=o.height,r.container.bitDepth??=o.bitDepth,r.container.samplesPerPixel??=o.samplesPerPixel,r.container.colorSpace??=o.colorSpace,r.container.compression??=o.compression,r.computed&&r.computed.hasAlpha===void 0&&o.hasAlpha!==void 0&&(r.computed.hasAlpha=o.hasAlpha)),!r.container.width||!r.container.height)try{let u=yield createImageBitmap(t);r.container.width=u.width,r.container.height=u.height}catch{Object.assign(r.container,yield this.readSizeWithImageTag(t))}let s=yield this.fileToDataURL(t);this.imageDataUrl=s;let{ctx:a,width:l,height:c}=yield this.canvasFromDataURL(s);a&&(r.computed=this.computeDerivedFromCanvas(a,l,c))}return this.metadata=r,r})}extractColorMatrices(t){return O(this,null,function*(){yield new Promise((n,r)=>{let i=new Image;i.onload=()=>{let o=document.createElement("canvas");o.width=i.width,o.height=i.height;let s=o.getContext("2d");if(!s){r("Canvas context not available");return}s.drawImage(i,0,0);let a=s.getImageData(0,0,i.width,i.height).data,l=[],c=[],u=[];for(let d=0;d<i.height;d++){l[d]=[],c[d]=[],u[d]=[];for(let p=0;p<i.width;p++){let h=(d*i.width+p)*4;l[d][p]=a[h],c[d][p]=a[h+1],u[d][p]=a[h+2]}}this.rMatrix=l,this.gMatrix=c,this.bMatrix=u,n()},i.onerror=r,i.src=t})})}uploadSecondaryPhoto(t){return O(this,null,function*(){let n=t.name.split(".").pop()?.toLowerCase();if(n==="tif"||n==="tiff"){let i=yield t.arrayBuffer(),o=$t.decode(i);$t.decodeImage(i,o[0]);let s=$t.toRGBA8(o[0]),a=document.createElement("canvas");a.width=o[0].width,a.height=o[0].height;let l=a.getContext("2d");if(!l)throw new Error("Canvas context not available");let c=l.createImageData(a.width,a.height);c.data.set(s),l.putImageData(c,0,0);let u=a.toDataURL();return this.setSecondaryImageDataUrl(u),u}let r=yield new Promise((i,o)=>{let s=new FileReader;s.onload=()=>i(s.result),s.onerror=o,s.readAsDataURL(t)});return this.setSecondaryImageDataUrl(r),r})}readHead(t,n=8192){return O(this,null,function*(){let r=yield t.slice(0,n).arrayBuffer();return new Uint8Array(r)})}sniffContainer(t){return O(this,null,function*(){let n=yield this.readHead(t),r=t.type;return r?.includes("png")||n[0]===137?this.parsePNG(n):r?.includes("jpeg")||r?.includes("jpg")||n[0]===255&&n[1]===216?this.parseJPEG(n):r?.includes("webp")?this.parseWebP(n):null})}fileToDataURL(t){return O(this,null,function*(){return new Promise((n,r)=>{let i=new FileReader;i.onload=()=>n(i.result),i.onerror=r,i.readAsDataURL(t)})})}readSizeWithImageTag(t){return O(this,null,function*(){return new Promise((n,r)=>{let i=URL.createObjectURL(t),o=new Image;o.onload=()=>{n({width:o.width,height:o.height}),URL.revokeObjectURL(i)},o.onerror=s=>{URL.revokeObjectURL(i),r(s)},o.src=i})})}canvasFromDataURL(t){return O(this,null,function*(){return new Promise((n,r)=>{let i=new Image;i.onload=()=>{let o=document.createElement("canvas");o.width=i.width,o.height=i.height;let s=o.getContext("2d");if(!s)return r("Canvas context not available");s.drawImage(i,0,0),n({ctx:s,width:o.width,height:o.height})},i.onerror=r,i.src=t})})}parsePNG(t){if(!(t.length>=33&&t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71&&t[4]===13&&t[5]===10&&t[6]===26&&t[7]===10))return null;let r=t[16]<<24|t[17]<<16|t[18]<<8|t[19],i=t[20]<<24|t[21]<<16|t[22]<<8|t[23],o=t[24],s=t[25],a={0:1,2:3,3:1,4:2,6:4},l={0:"Grayscale",2:"RGB",3:"Indexed",4:"Grayscale+Alpha",6:"RGBA"};return{width:r,height:i,bitDepth:o,samplesPerPixel:a[s],colorSpace:l[s],compression:"PNG (DEFLATE)",hasAlpha:s===4||s===6}}parseJPEG(t){if(!(t.length>=3&&t[0]===255&&t[1]===216))return null;let n=2;for(;n+3<t.length;){if(t[n]!==255){n++;continue}let r=t[n+1];if(n+=2,r===217||r===218)break;if(r===1||r>=208&&r<=215)continue;if(n+1>=t.length)break;let i=t[n]<<8|t[n+1];if(i<2||n+i>t.length)break;if(r>=192&&r<=195&&i>=9){let o=t[n+2],s=t[n+3]<<8|t[n+4],a=t[n+5]<<8|t[n+6],l=t[n+7],c=l===1?"Grayscale":l===3?"YCbCr":l===4?"CMYK":`${l} comps`;return{width:a,height:s,bitDepth:o,samplesPerPixel:l,colorSpace:c,compression:"JPEG",hasAlpha:!1}}n+=i}return{bitDepth:8,samplesPerPixel:3,colorSpace:"YCbCr",compression:"JPEG",hasAlpha:!1}}parseWebP(t){let n=t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70,r=t[8]===87&&t[9]===69&&t[10]===66&&t[11]===80;if(!n||!r)return null;let i=String.fromCharCode(t[12],t[13],t[14],t[15]),o=!1;return i==="VP8X"?o=(t[20]&16)!==0:i==="VP8L"&&(o=!0),{bitDepth:8,samplesPerPixel:o?4:3,colorSpace:"RGB",compression:"WebP",hasAlpha:o}}pickTiffTags(t){let n=new Set(["data","tiffOffset","t34665","thumbnail","stripOffsets","stripByteCounts"]),r={};for(let i of Object.keys(t)){if(n.has(i))continue;let o=t[i];typeof o=="object"&&o?.length>64||(r[i]=o)}return r}computeDerivedFromCanvas(t,n,r){let i=t.getImageData(0,0,n,r).data,o=new Array(256).fill(0),s=new Array(256).fill(0),a=new Array(256).fill(0),l=new Array(256).fill(0),c=0,u=0,d=0,p=0;for(let v=0;v<i.length;v+=4){let y=i[v],m=i[v+1],g=i[v+2],D=i[v+3];o[y]++,s[m]++,a[g]++,l[D]++,c+=y,u+=m,d+=g,p+=D}let h=i.length/4||1;return{hasAlpha:l[255]!==h,mean:{r:c/h,g:u/h,b:d/h,a:p/h},histogram:{r:o,g:s,b:a,a:l}}}loadImage(t){return new Promise((n,r)=>{let i=new Image;i.onload=()=>n(i),i.onerror=o=>r(o),i.src=t})}makeCanvas(t){let n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;let r=n.getContext("2d");if(!r)throw new Error("Canvas context not available");return{canvas:n,ctx:r}}limit8(t){return t<0?0:t>255?255:t|0}runOnImageData(t){return O(this,null,function*(){let n=this.imageDataUrl??null;if(!n)return console.warn("[runOnImageData] Sem imagem para processar."),null;let r=yield this.loadImage(n),{canvas:i,ctx:o}=this.makeCanvas(r);o.drawImage(r,0,0);let s=o.getImageData(0,0,i.width,i.height),a=yield t(s,o,i);a instanceof ImageData&&(s=a),o.putImageData(s,0,0);let l=i.toDataURL();return this.setEditedImageDataUrl(l),l})}adjustBrightness(t){return O(this,null,function*(){yield this.runOnImageData(n=>{let r=n.data;for(let i=0;i<r.length;i+=4)r[i]=this.limit8(r[i]+t),r[i+1]=this.limit8(r[i+1]+t),r[i+2]=this.limit8(r[i+2]+t)})})}addImage(t,n){return O(this,null,function*(){if(!this.secondaryImageDataUrl){console.warn("[addImage] Nenhuma imagem secund\xE1ria carregada.");return}let r=t.a/100,i=t.b/100;yield this.runOnImageData((o,s)=>O(this,null,function*(){let a=yield this.loadImage(this.secondaryImageDataUrl),l=s.canvas.width,c=s.canvas.height,u=document.createElement("canvas");u.width=l,u.height=c;let d=u.getContext("2d");if(!d)throw new Error("Canvas context not available");d.drawImage(a,0,0,l,c);let p=d.getImageData(0,0,l,c).data,h=o.data;if(n==="subtract")for(let f=0;f<h.length;f+=4)h[f]=this.limit8(h[f]*r-i*p[f]),h[f+1]=this.limit8(h[f+1]*r-i*p[f+1]),h[f+2]=this.limit8(h[f+2]*r-i*p[f+2]);else if(n==="modulo")for(let f=0;f<h.length;f+=4)h[f]=this.limit8(Math.abs(h[f]*r-i*p[f])),h[f+1]=this.limit8(Math.abs(h[f+1]*r-i*p[f+1])),h[f+2]=this.limit8(Math.abs(h[f+2]*r-i*p[f+2]));else if(n==="add")for(let f=0;f<h.length;f+=4)h[f]=this.limit8(h[f]*r+i*p[f]),h[f+1]=this.limit8(h[f+1]*r+i*p[f+1]),h[f+2]=this.limit8(h[f+2]*r+i*p[f+2]);else if(n==="media")for(let f=0;f<h.length;f+=4)h[f]=this.limit8(h[f]*r+i*p[f])/2,h[f+1]=this.limit8(h[f+1]*r+i*p[f+1])/2,h[f+2]=this.limit8(h[f+2]*r+i*p[f+2])/2;return o}))})}adjustContrast(t){return O(this,null,function*(){yield this.runOnImageData(n=>{let r=n.data;for(let i=0;i<r.length;i+=4)r[i]=this.limit8(r[i]*t),r[i+1]=this.limit8(r[i+1]*t),r[i+2]=this.limit8(r[i+2]*t)})})}flipImage(t){return O(this,null,function*(){yield this.runOnImageData((n,r,i)=>{let o=i.width,s=i.height,a=n.data,l=new Uint8ClampedArray(a.length);for(let c=0;c<s;c++)for(let u=0;u<o;u++){let d=(c*o+u)*4,p=t==="hor"?o-u-1:u,f=((t==="ver"?s-c-1:c)*o+p)*4;l[f]=a[d],l[f+1]=a[d+1],l[f+2]=a[d+2],l[f+3]=a[d+3]}return new ImageData(l,o,s)})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};var KN=["rCanvas"],QN=["gCanvas"],JN=["bCanvas"],XN=["aCanvas"];function eR(e,t){if(e&1&&ct(0,"img",14),e&2){let n=pn();Ie("src",n.imageService.getImageDataUrl(),fr)}}function tR(e,t){if(e&1){let n=dp();H(0,"button",15),Ze("click",function(){Kl(n);let i=pn();return Ql(i.onKeepImage())}),nc(),H(1,"svg",16),ct(2,"path",17),P(),j(3," Manter "),P()}}function nR(e,t){if(e&1&&ct(0,"img",14),e&2){let n=pn();Ie("src",n.imageService.getEditedImageDataUrl(),fr)}}function rR(e,t){if(e&1&&(H(0,"a",18),j(1," Download "),P()),e&2){let n=pn();Ie("href",n.imageService.getEditedImageDataUrl(),fr)}}function iR(e,t){e&1&&(H(0,"label",19),j(1," Download "),P())}function oR(e,t){if(e&1&&(H(0,"div",30)(1,"h3",31),j(2,"M\xE9dias"),P(),H(3,"div",32)(4,"div")(5,"span",28),j(6,"R\u0304:"),P(),j(7),wr(8,"number"),P(),H(9,"div")(10,"span",28),j(11,"G\u0304:"),P(),j(12),wr(13,"number"),P(),H(14,"div")(15,"span",28),j(16,"B\u0304:"),P(),j(17),wr(18,"number"),P(),H(19,"div")(20,"span",28),j(21,"\u0100:"),P(),j(22),wr(23,"number"),P()()()),e&2){let n=t.ngIf;ie(7),Ue(" ",Cr(8,4,n.r,"1.0-1")),ie(5),Ue(" ",Cr(13,7,n.g,"1.0-1")),ie(5),Ue(" ",Cr(18,10,n.b,"1.0-1")),ie(5),Ue(" ",Cr(23,13,n.a,"1.0-1"))}}function sR(e,t){if(e&1&&(H(0,"div",25)(1,"h2",26),j(2,"Metadados"),P(),H(3,"div",27)(4,"div")(5,"span",28),j(6,"MIME:"),P(),j(7),P(),H(8,"div")(9,"span",28),j(10,"Extens\xE3o:"),P(),j(11),P(),H(12,"div")(13,"span",28),j(14,"Dimens\xF5es:"),P(),j(15),P(),H(16,"div")(17,"span",28),j(18,"BitDepth:"),P(),j(19),P(),H(20,"div")(21,"span",28),j(22,"Samples/Pixel:"),P(),j(23),P(),H(24,"div")(25,"span",28),j(26,"Color Space:"),P(),j(27),P(),H(28,"div")(29,"span",28),j(30,"Compress\xE3o:"),P(),j(31),P(),H(32,"div")(33,"span",28),j(34,"Tem Alpha?"),P(),j(35),P()(),mr(36,oR,24,16,"div",29),P()),e&2){let n=t.ngIf;ie(7),Ue(" ",n.container.mime||"\u2014"),ie(4),Ue(" ",n.container.extension||"\u2014"),ie(4),Gc(" ",n.container.width," \xD7 ",n.container.height," "),ie(4),Ue(" ",n.container.bitDepth||"\u2014"),ie(4),Ue(" ",n.container.samplesPerPixel||"\u2014"),ie(4),Ue(" ",n.container.colorSpace||"\u2014"),ie(4),Ue(" ",n.container.compression||"\u2014"),ie(4),Ue(" ",n.computed!=null&&n.computed.hasAlpha?"Sim":"N\xE3o"),ie(),Ie("ngIf",n.computed==null?null:n.computed.mean)}}function aR(e,t){if(e&1&&(H(0,"div",23),mr(1,sR,37,10,"div",24),P()),e&2){let n=pn(2);ie(),Ie("ngIf",n.meta)}}function lR(e,t){if(e&1&&(H(0,"div",20)(1,"div",21),ct(2,"canvas",22,0),P(),H(4,"div",21),ct(5,"canvas",22,1),P(),H(7,"div",21),ct(8,"canvas",22,2),P()(),pi(10,aR,2,1,"div",23)),e&2){let n=pn();wo("hidden",n.router.url!=="/dados"),ie(10),gi(n.router.url==="/dados"?10:-1)}}var od=class e{constructor(t,n){this.imageService=t;this.router=n}rMatrix=[];gMatrix=[];bMatrix=[];aHist=new Array(256).fill(0);meta=null;rCanvas;gCanvas;bCanvas;aCanvas;ngAfterViewInit(){}ngOnInit(){fetch("assets/Add2.jpg").then(t=>t.blob()).then(t=>{let n=new File([t],"Add2.jpg",{type:t.type});return this.imageService.uploadPhoto(n)}).then(t=>{console.log("Imagem carregada com sucesso!",t)}).catch(t=>{console.error("Erro ao carregar imagem:",t)})}onFileSelected(t){return O(this,null,function*(){let n=t.target.files?.[0];if(!n)return;let r=yield this.imageService.uploadPhoto(n);yield this.imageService.extractColorMatrices(r),this.rMatrix=this.imageService.getRMatrix(),this.gMatrix=this.imageService.getGMatrix(),this.bMatrix=this.imageService.getBMatrix(),this.meta=(yield this.imageService.extractAllMetadata)?yield this.imageService.extractAllMetadata(n):this.imageService.getMetadata(),this.aHist=this.meta?.computed?.histogram?.a??new Array(256).fill(0),setTimeout(()=>this.drawAllCharts(),0)})}drawAllCharts(){this.drawHistogramFromMatrix(this.rCanvas?.nativeElement,this.rMatrix,"red"),this.drawHistogramFromMatrix(this.gCanvas?.nativeElement,this.gMatrix,"green"),this.drawHistogramFromMatrix(this.bCanvas?.nativeElement,this.bMatrix,"blue")}drawHistogramFromMatrix(t,n,r){if(!t||!n.length)return;let i=t.getContext("2d");if(!i)return;i.clearRect(0,0,t.width,t.height);let o=new Array(256).fill(0);for(let s=0;s<n.length;s++)for(let a=0;a<n[0].length;a++)o[n[s][a]]++;this.drawBars(i,o,r,t.width,t.height)}drawBars(t,n,r,i,o){let s="black",a=t.canvas.width,l=t.canvas.height;typeof r=="string"?(s=r,a=i??a,l=o??l):(a=r,l=i??l);let c=Math.max(...n)||1,u=a/256;t.fillStyle=s;for(let d=0;d<256;d++){let p=n[d]/c*l;t.fillRect(d*u,l-p,Math.max(1,u),p)}}onKeepImage(){this.imageService.setImageDataUrl(this.imageService.getEditedImageDataUrl())}greenPrint(){console.log("Green Matrix:",this.gMatrix)}redPrint(){console.log("Red Matrix:",this.rMatrix)}bluePrint(){console.log("Blue Matrix:",this.bMatrix)}static \u0275fac=function(n){return new(n||e)(oe(jr),oe(Mr))};static \u0275cmp=Te({type:e,selectors:[["app-image"]],viewQuery:function(n,r){if(n&1&&(_o(KN,5),_o(QN,5),_o(JN,5),_o(XN,5)),n&2){let i;Dr(i=_r())&&(r.rCanvas=i.first),Dr(i=_r())&&(r.gCanvas=i.first),Dr(i=_r())&&(r.bCanvas=i.first),Dr(i=_r())&&(r.aCanvas=i.first)}},decls:17,vars:6,consts:[["rCanvas",""],["gCanvas",""],["bCanvas",""],[1,"flex","h-1/2","gap-x-6","p-4","pt-0","overflow-hidden"],[1,"flex-1","bg-white","shadow-lg","min-h-0","flex","flex-col",2,"max-width","100%","height","400px"],[1,"flex-1","flex","flex-col","overflow-hidden"],["alt","Preview","class","w-full h-full object-contain min-h-0 min-w-0","style","height: 100%; width: 100%;",3,"src",4,"ngIf"],[1,"w-full"],[1,"w-full","block","cursor-pointer","py-3","px-4","text-center","bg-zinc-200","hover:bg-zinc-300","transition"],["type","file",1,"hidden",3,"change"],[1,"flex-1","bg-white","shadow-lg","min-h-0","flex","flex-col","relative",2,"max-width","100%","height","400px"],[1,"absolute","top-0","right-0","flex","items-center","gap-1","bg-white","hover:bg-zinc-300","transition","px-3","py-1","shadow","text-sm"],["download","imagem-processada.png","class","w-full block py-3 px-4 text-center bg-zinc-200 hover:bg-zinc-300 transition rounded cursor-pointer",3,"href",4,"ngIf"],["class","w-full block py-3 px-4 text-center bg-zinc-200 transition rounded cursor-not-allowed opacity-50",4,"ngIf"],["alt","Preview",1,"w-full","h-full","object-contain","min-h-0","min-w-0",2,"height","100%","width","100%",3,"src"],[1,"absolute","top-0","right-0","flex","items-center","gap-1","bg-white","hover:bg-zinc-300","transition","px-3","py-1","shadow","text-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["download","imagem-processada.png",1,"w-full","block","py-3","px-4","text-center","bg-zinc-200","hover:bg-zinc-300","transition","rounded","cursor-pointer",3,"href"],[1,"w-full","block","py-3","px-4","text-center","bg-zinc-200","transition","rounded","cursor-not-allowed","opacity-50"],[1,"mt-13","flex","flex-row","shadow-lg","ml-5",2,"max-width","max-content"],[1,"flex","flex-col","items-start","bg-white"],["width","266","height","120",1,"bg-whitebg-white","rounded"],[1,"px-4","mt-6"],["class","bg-white rounded shadow p-4",4,"ngIf"],[1,"bg-white","rounded","shadow","p-4"],[1,"text-lg","font-semibold","mb-3"],[1,"grid","grid-cols-2","gap-3","text-sm"],[1,"text-zinc-500"],["class","mt-4 text-sm",4,"ngIf"],[1,"mt-4","text-sm"],[1,"font-medium","mb-2"],[1,"grid","grid-cols-4","gap-3"]],template:function(n,r){n&1&&(H(0,"div",3)(1,"div",4)(2,"div",5),mr(3,eR,1,1,"img",6),P(),H(4,"div",7)(5,"label",8)(6,"input",9),Ze("change",function(o){return r.onFileSelected(o)}),P(),H(7,"span"),j(8,"Adicionar arquivo"),P()()()(),H(9,"div",10),pi(10,tR,4,0,"button",11),H(11,"div",5),mr(12,nR,1,1,"img",6),P(),H(13,"div",7),mr(14,rR,2,1,"a",12)(15,iR,2,0,"label",13),P()()(),pi(16,lR,11,3)),n&2&&(ie(3),Ie("ngIf",r.imageService.getImageDataUrl()),ie(7),gi(r.imageService.getEditedImageDataUrl()?10:-1),ie(2),Ie("ngIf",r.imageService.getEditedImageDataUrl()),ie(2),Ie("ngIf",r.imageService.getEditedImageDataUrl()),ie(),Ie("ngIf",!r.imageService.getEditedImageDataUrl()),ie(),gi(r.imageService.getImageDataUrl()?16:-1))},dependencies:[br,_p,ta],encapsulation:2})};var sd=class e{title=dn("procimag");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Te({type:e,selectors:[["app-root"]],decls:23,vars:0,consts:[[1,"h-screen","w-screen","grid","grid-cols-[300px_1fr]","2xl:grid-cols-[360px_1fr]"],[1,"bg-zinc-900","text-zinc-100","p-5","2xl:p-8","flex","flex-col","gap-2","relative","z-10","shadow-[12px_0_24px_-12px_rgba(0,0,0,0.45)]"],[1,"pointer-events-none","absolute","top-0","right-0","h-full","w-3","bg-gradient-to-l","from-black/10","to-transparent"],[1,"text-xl","2xl:text-2xl","font-semibold","mb-4","2xl:mb-6"],[1,"flex","flex-col","gap-1","2xl:gap-2"],["routerLink","/dados","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/aritmetica","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/geometric","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/color","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/logic","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/spatial","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],["routerLink","/morfologic","routerLinkActive","bg-zinc-800 text-white",1,"px-3","2xl:px-4","py-2","2xl:py-3","rounded","hover:bg-zinc-800","cursor-pointer","text-sm","2xl:text-base"],[1,"bg-zinc-50","h-full","overflow-auto"],[1,"block","p-4","2xl:p-8"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"aside",1),ct(2,"div",2),H(3,"h1",3),j(4,"Proc. Imagem"),P(),H(5,"nav",4)(6,"a",5),j(7," Dados "),P(),H(8,"a",6),j(9," Aritm\xE9tica "),P(),H(10,"a",7),j(11," Geom\xE9tricas "),P(),H(12,"a",8),j(13," Cor e Intensidade "),P(),H(14,"a",9),j(15," L\xF3gicas "),P(),H(16,"a",10),j(17," Dom\xEDnio Espacial "),P(),H(18,"a",11),j(19," Morfol\xF3gicas "),P()()(),H(20,"main",12),ct(21,"app-image",13)(22,"router-outlet"),P()())},dependencies:[Ea,od,jo,tg],encapsulation:2})};var ad=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Te({type:e,selectors:[["app-dados"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})};var BC=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(oe(hr),oe(Lt))};static \u0275dir=ft({type:e})}return e})(),UC=(()=>{class e extends BC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=hi(e)))(i||e)}})();static \u0275dir=ft({type:e,features:[gr]})}return e})(),um=new $("");var cR={provide:um,useExisting:nr(()=>fd),multi:!0};function uR(){let e=jt()?jt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var dR=new $(""),fd=(()=>{class e extends BC{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!uR())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(oe(hr),oe(Lt),oe(dR,8))};static \u0275dir=ft({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ys([cR]),gr]})}return e})();var fR=new $(""),hR=new $("");function HC(e){return e!=null}function $C(e){return vr(e)?Ce(e):e}function zC(e){let t={};return e.forEach(n=>{t=n!=null?k(k({},t),n):t}),Object.keys(t).length===0?null:t}function GC(e,t){return t.map(n=>n(e))}function pR(e){return!e.validate}function WC(e){return e.map(t=>pR(t)?t:n=>t.validate(n))}function gR(e){if(!e)return null;let t=e.filter(HC);return t.length==0?null:function(n){return zC(GC(n,t))}}function qC(e){return e!=null?gR(WC(e)):null}function mR(e){if(!e)return null;let t=e.filter(HC);return t.length==0?null:function(n){let r=GC(n,t).map($C);return Hd(r).pipe(ce(zC))}}function ZC(e){return e!=null?mR(WC(e)):null}function OC(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function vR(e){return e._rawValidators}function yR(e){return e._rawAsyncValidators}function sm(e){return e?Array.isArray(e)?e:[e]:[]}function cd(e,t){return Array.isArray(e)?e.includes(t):e===t}function kC(e,t){let n=sm(t);return sm(e).forEach(i=>{cd(n,i)||n.push(i)}),n}function PC(e,t){return sm(t).filter(n=>!cd(e,n))}var ud=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ZC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},am=class extends ud{name;get formDirective(){return null}get path(){return null}},Xa=class extends ud{_parent=null;name=null;valueAccessor=null},lm=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},DR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},b7=ae(k({},DR),{"[class.ng-submitted]":"isSubmitted"}),YC=(()=>{class e extends lm{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(oe(Xa,2))};static \u0275dir=ft({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gr]})}return e})();var Ya="VALID",ld="INVALID",rs="PENDING",Ka="DISABLED",os=class{},dd=class extends os{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Qa=class extends os{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ja=class extends os{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},is=class extends os{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function _R(e){return(hd(e)?e.validators:e)||null}function wR(e){return Array.isArray(e)?qC(e):e||null}function CR(e,t){return(hd(t)?t.asyncValidators:e)||null}function ER(e){return Array.isArray(e)?ZC(e):e||null}function hd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var cm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Kt(this.statusReactive)}set status(t){Kt(()=>this.statusReactive.set(t))}_status=Qs(()=>this.statusReactive());statusReactive=dn(void 0);get valid(){return this.status===Ya}get invalid(){return this.status===ld}get pending(){return this.status==rs}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}errors;get pristine(){return Kt(this.pristineReactive)}set pristine(t){Kt(()=>this.pristineReactive.set(t))}_pristine=Qs(()=>this.pristineReactive());pristineReactive=dn(!0);get dirty(){return!this.pristine}get touched(){return Kt(this.touchedReactive)}set touched(t){Kt(()=>this.touchedReactive.set(t))}_touched=Qs(()=>this.touchedReactive());touchedReactive=dn(!1);get untouched(){return!this.touched}_events=new Me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PC(t,this._rawAsyncValidators))}hasValidator(t){return cd(this._rawValidators,t)}hasAsyncValidator(t){return cd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ae(k({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ae(k({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAsPending(t={}){this.status=rs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new is(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ae(k({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(i=>{i.disable(ae(k({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dd(this.value,r)),this._events.next(new is(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(k({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ya,this._forEachChild(r=>{r.enable(ae(k({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ae(k({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ya||this.status===rs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dd(this.value,n)),this._events.next(new is(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ae(k({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:Ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=rs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=$C(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new is(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?ld:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rs)?rs:this._anyControlsHaveStatus(ld)?ld:Ya}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Qa(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ja(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=wR(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ER(this._rawAsyncValidators)}};var KC=new $("",{providedIn:"root",factory:()=>dm}),dm="always";function bR(e,t){return[...t.path,e]}function IR(e,t,n=dm){MR(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),xR(e,t),AR(e,t),TR(e,t),SR(e,t)}function FC(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function SR(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function MR(e,t){let n=vR(e);t.validator!==null?e.setValidators(OC(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=yR(e);t.asyncValidator!==null?e.setAsyncValidators(OC(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();FC(t._rawValidators,i),FC(t._rawAsyncValidators,i)}function xR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&QC(e,t)})}function TR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&QC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function QC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function AR(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function NR(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function RR(e){return Object.getPrototypeOf(e.constructor)===UC}function OR(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===fd?n=o:RR(o)?r=o:i=o}),i||r||n||null}function LC(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function VC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var kR=class extends cm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(_R(n),CR(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(VC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){LC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){LC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){VC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var PR={provide:Xa,useExisting:nr(()=>fm)},jC=Promise.resolve(),fm=(()=>{class e extends Xa{_changeDetectorRef;callSetDisabledState;control=new kR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Fe;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=OR(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),NR(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){IR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Eo(r);jC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?bR(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(oe(am,9),oe(fR,10),oe(hR,10),oe(um,10),oe(Di,8),oe(KC,8))};static \u0275dir=ft({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ys([PR]),gr,jn]})}return e})();var FR={provide:um,useExisting:nr(()=>hm),multi:!0},hm=(()=>{class e extends UC{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=hi(e)))(i||e)}})();static \u0275dir=ft({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&Ze("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ys([FR]),gr]})}return e})();var LR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bn({type:e});static \u0275inj=on({})}return e})();var pd=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:KC,useValue:n.callSetDisabledState??dm}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bn({type:e});static \u0275inj=on({imports:[LR]})}return e})();function jR(e,t){if(e&1&&ct(0,"img",13),e&2){let n=pn();Ie("src",n.imageService.getSecondaryImageDataUrl(),fr)}}var gd=class e{constructor(t){this.imageService=t}Math=Math;brilho=0;valorAddA=100;valorAddB=100;contrast=0;onSecondaryFileSelected(t){return O(this,null,function*(){let n=t.target.files?.[0];n&&(yield this.imageService.uploadSecondaryPhoto(n))})}onBrightnessChange(){return O(this,null,function*(){if(!this.imageService.hasProcessableImage){console.warn("Slider chamado sem imagem ainda.");return}yield this.imageService.adjustBrightness(this.brilho)})}addImage(t){return O(this,null,function*(){if(!this.imageService.hasProcessableImage){console.warn("Slider chamado sem imagem ainda.");return}yield this.imageService.addImage({a:this.valorAddA,b:this.valorAddB},t)})}onContrastChange(){return O(this,null,function*(){if(!this.imageService.hasProcessableImage)return;let t=this.contrastFactorFromSlider(this.contrast);yield this.imageService.adjustContrast(t)})}contrastFactorFromSlider(t){let n=t/100*255;return 259*(n+255)/(255*(259-n))}static \u0275fac=function(n){return new(n||e)(oe(jr))};static \u0275cmp=Te({type:e,selectors:[["app-aritmetica"]],decls:45,vars:20,consts:[[1,"grid","grid-cols-3","gap-4","p-4","mt-2","ml-8","mr-8","items-start"],[1,"col-span-2"],[1,"grid","grid-cols-2","gap-3"],[1,"flex","flex-col","bg-white","shadow-md","rounded","p-3"],["for","brilho",1,"mb-2"],["type","range","min","-255","max","255","step","1",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled"],[1,"text-xs","text-zinc-600","mt-1","text-center"],["type","range","min","-100","max","100","step","1",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled"],[1,"shadow-md","cursor-pointer","w-full","px-2","py-3","text-sm","bg-white","rounded","hover:shadow-lg","transition","enabled:hover:shadow-lg","disabled:bg-zinc-200","disabled:text-zinc-400","disabled:cursor-not-allowed",3,"click","disabled"],["type","range","min","0","max","100","step","1",1,"w-full","accent-zinc-600","cursor-pointer","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[1,"col-span-1"],[1,"flex-1","shadow-lg","flex","flex-col","items-center","rounded",2,"max-width","100%","height","auto"],[1,"flex","items-center","justify-center","overflow-hidden","rounded",2,"height","200px"],["alt","Imagem secund\xE1ria",1,"object-contain",2,"max-width","200px","max-height","200px","height","200px",3,"src"],[1,"w-full","mt-0","rounded"],[1,"w-full","block","px-2","py-2","cursor-pointer","text-center","bg-zinc-200","hover:bg-zinc-300","transition"],["type","file",1,"hidden",3,"change"],[1,"text-sm"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),j(5,"Brilho"),P(),H(6,"input",5),yi("ngModelChange",function(o){return Co(r.brilho,o)||(r.brilho=o),o}),Ze("input",function(){return r.onBrightnessChange()}),P(),H(7,"span",6),j(8),P()(),H(9,"div",3)(10,"label",4),j(11,"Contraste"),P(),H(12,"input",7),yi("ngModelChange",function(o){return Co(r.contrast,o)||(r.contrast=o),o}),Ze("input",function(){return r.onContrastChange()}),P(),H(13,"span",6),j(14),wr(15,"number"),P()(),H(16,"button",8),Ze("click",function(){return r.addImage("add")}),j(17," Somar duas imagens "),P(),H(18,"button",8),Ze("click",function(){return r.addImage("media")}),j(19," M\xE9dia linear "),P(),H(20,"button",8),Ze("click",function(){return r.addImage("subtract")}),j(21," Subtrair duas imagens "),P(),H(22,"button",8),Ze("click",function(){return r.addImage("modulo")}),j(23," Subtrair em m\xF3dulo "),P(),H(24,"div",3)(25,"label",4),j(26,"Valor blending A"),P(),H(27,"input",9),yi("ngModelChange",function(o){return Co(r.valorAddA,o)||(r.valorAddA=o),o}),P(),H(28,"span",6),j(29),P()(),H(30,"div",3)(31,"label",4),j(32,"Valor blending B"),P(),H(33,"input",9),yi("ngModelChange",function(o){return Co(r.valorAddB,o)||(r.valorAddB=o),o}),P(),H(34,"span",6),j(35),P()()()(),H(36,"div",10)(37,"div",11)(38,"div",12),pi(39,jR,1,1,"img",13),P(),H(40,"div",14)(41,"label",15)(42,"input",16),Ze("change",function(o){return r.onSecondaryFileSelected(o)}),P(),H(43,"span",17),j(44,"Adicionar imagem secund\xE1ria"),P()()()()()()),n&2&&(ie(6),vi("ngModel",r.brilho),Ie("disabled",!r.imageService.hasProcessableImage),ie(2),zc(r.brilho),ie(4),vi("ngModel",r.contrast),Ie("disabled",!r.imageService.hasProcessableImage),ie(2),Ue(" ",Cr(15,17,r.contrastFactorFromSlider(r.contrast),"1.2-2"),"x "),ie(2),Ie("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),ie(2),Ie("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),ie(2),Ie("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),ie(2),Ie("disabled",!r.imageService.hasProcessableImage||!r.imageService.hasProcessableSecImage),ie(5),vi("ngModel",r.valorAddA),Ie("disabled",!r.imageService.hasProcessableImage),ie(2),Ue("",r.valorAddA,"%"),ie(4),vi("ngModel",r.valorAddB),Ie("disabled",!r.imageService.hasProcessableImage),ie(2),Ue("",r.valorAddB,"%"),ie(4),gi(r.imageService.getSecondaryImageDataUrl()?39:-1))},dependencies:[br,pd,fd,hm,YC,fm,ta],encapsulation:2})};var md=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Te({type:e,selectors:[["app-color"]],decls:2,vars:0,template:function(n,r){n&1&&(It(0,"p"),j(1,"color works!"),St())},encapsulation:2})};var vd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Te({type:e,selectors:[["app-spatial"]],decls:2,vars:0,template:function(n,r){n&1&&(It(0,"p"),j(1,"spatial works!"),St())},encapsulation:2})};var yd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Te({type:e,selectors:[["app-morfologic"]],decls:2,vars:0,template:function(n,r){n&1&&(It(0,"p"),j(1,"morfologic works!"),St())},encapsulation:2})};var Dd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Te({type:e,selectors:[["app-logic"]],decls:2,vars:0,template:function(n,r){n&1&&(It(0,"p"),j(1,"logic works!"),St())},encapsulation:2})};var _d=class e{constructor(t){this.imageService=t}flip(t){return O(this,null,function*(){if(!this.imageService.hasProcessableImage){console.warn("Slider chamado sem imagem ainda.");return}yield this.imageService.flipImage(t)})}static \u0275fac=function(n){return new(n||e)(oe(jr))};static \u0275cmp=Te({type:e,selectors:[["app-geometric"]],decls:7,vars:2,consts:[[1,"grid","grid-cols-1","gap-4","p-4","mt-2","ml-8","mr-8","items-start"],[1,"col-span-2"],[1,"grid","grid-cols-1","gap-3"],[1,"shadow-md","cursor-pointer","w-125","px-2","py-3","text-sm","bg-white","rounded","hover:shadow-lg","transition","enabled:hover:shadow-lg","disabled:bg-zinc-200","disabled:text-zinc-400","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(n,r){n&1&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Zs("click",function(){return r.flip("hor")}),j(4," Inverter horizontal "),St(),It(5,"button",3),Zs("click",function(){return r.flip("ver")}),j(6," Inverter vertical "),St()()()()),n&2&&(ie(3),Ws("disabled",!r.imageService.hasProcessableImage),ie(2),Ws("disabled",!r.imageService.hasProcessableImage))},dependencies:[br,pd],encapsulation:2})};var JC=[{path:"",redirectTo:"dados",pathMatch:"full"},{path:"dados",component:ad},{path:"aritmetica",component:gd},{path:"color",component:md},{path:"spatial",component:vd},{path:"morfologic",component:yd},{path:"logic",component:Dd},{path:"geometric",component:_d}];Np(sd,{providers:[ng(JC)]});
